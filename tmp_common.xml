<?xml version="1.0" encoding="UTF-8"?><XI3uWnd debug="1">
	<webconfig theme="../biz/theme/beyond/theme.html"/>
	<var name="contactdb" expr="property_room"/>
	<var name="contactnmfield" expr="owner"/>
	<var name="contactidfield" expr="idx"/>
	<var name="contactlstctrl" expr="room.gList"/>
	<EventHandlers>
		<EventHandler Event="ReceivedCall('%{callerid}')">
		<assign name="contact.base_mobile" expr="%{callerid}"/>
		<assign name="contact.TB_callid" expr="%{input}"/>
		<DbDetails><Where>where base_mobile='%{contact.base_mobile}' or base_phone='%{contact.base_mobile}'</Where></DbDetails><submit next="contact.ContactList" namelist="DbDetails" method="post"/>
		</EventHandler>
		<EventHandler Handler="(contact.TB_callid)SetText(%{input});" Event="CallAlerting('%{input}')"/>
		<EventHandler Event="CallDisconnected()"><assign name="topmost" expr="nis3ucs:USS|b"/>
		</EventHandler>
	</EventHandlers>
	<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\general.xml" name="general">
<Lang name="address" value="地址"/>
<Lang name="location" value="定位"/>
<Lang name="remark" value="备注"/>
<Lang name="basic" value="基本"/>
<Lang name="import" value="导入"/>
<Lang name="export" value="导出"/>
<Lang name="operation" value="操作"/>
<Lang name="create" value="新增"/>
<Lang name="modify" value="修改"/>
<Lang name="reset" value="复位"/>
<Lang name="delete" value="删除"/>
<Lang name="refresh" value="刷新"/>
<Lang name="firstpage" value="首页"/>
<Lang name="prepage" value="上页"/>
<Lang name="nextpage" value="下页"/>
<Lang name="operator" value="操作"/>
<Lang name="gsearch" value="搜索"/>
<Lang name="search" value="搜索"/>
<Lang name="initial" value="初始"/>
<Lang name="addone" value="添加"/>
<Lang name="view" value="查看"/>
<Lang name="submit" value="提交"/>
<Lang name="approval_diagram" value="审批流图"/>
<Lang name="ttp_addone" value="打开新建页面添加新项目"/>
<Lang name="records" value="记录数"/>
<Lang name="ttp_records" value="记录数"/>
<Lang name="ttp_pgs" value="总页数"/>
<Lang name="ttp_pgcur" value="当前页"/>
<Lang name="go2page" value="跳转"/>
<Lang name="modify" value="修改"/>
<Lang name="save" value="保存"/>
<Lang name="id_comm" value="小区"/>
<Lang name="ttp_id_comm" value=""/>
<Lang name="id_build" value="楼宇"/>
<Lang name="ttp_id_build" value=""/>
<Lang name="id_room" value="房号"/>
<Lang name="ttp_id_room" value=""/>
<Lang name="icon_addone" value="fas fa-plus"/>
<Lang name="icon_reset" value="fas fa-eraser"/>
<Lang name="icon_search" value="fas fa-search"/>
<Lang name="icon_create" value="fas fa-save"/>lni-add-files fa-file-medical  
<Lang name="icon_modify" value="fas fa-edit"/>fa
<Lang name="icon_go2Page" value="fas fa-directions"/>
<Lang name="icon_initial" value="fab fa-first-order"/>
<Lang name="icon_firstpage" value="fas fa-step-backward"/>
<Lang name="icon_prepage" value="fas fa-angle-double-left"/>
<Lang name="icon_nextpage" value="fas fa-angle-double-right"/>
<Lang name="icon_endpage" value="fas fa-step-forward"/>
<Lang name="icon_delete" value="fas fa-times"/>
<Lang name="icon_light" value="far fa-lightbulb"/>
</Language>	
<WndTaps>
	<WndTap xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_payment_vm.xml" Text="property_payment" Name="property_payment_v">
<WndTaps>
<WndTap xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_payment_Ve.xml" Text="property_payment" Name="property_payment" popup="1" Ver="2">
<var name="refreshAfterEdit" expr="2"/>
<var name="dataRequired" expr="payer_id[id_room],payer,phone,method[idx]"/>
<var name="dataRequireless" expr=""/>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_payment.xml" name="property_payment">
<Lang name="property_payment" value="收付管理"/>
<Lang name="TabEditproperty_payment" value="property_payment Edit"/>
<Lang name="TabViewproperty_payment" value="property_payment View"/>
<Lang name="payer_id" value="业    主"/>
<Lang name="ttp_payer_id" value=""/>
<Lang name="payer" value="缴 费 人"/>
<Lang name="ttp_payer" value=""/>
<Lang name="phone" value="联系电话"/>
<Lang name="ttp_phone" value=""/>
<Lang name="prebalance" value="上期结余"/>
<Lang name="ttp_prebalance" value=""/>
<Lang name="dt_pay" value="缴费时间"/>
<Lang name="ttp_dt_pay" value=""/>
<Lang name="curbalance" value="本期结余"/>
<Lang name="ttp_curbalance" value=""/>
<Lang name="method" value="支付方式"/>
<Lang name="ttp_method" value=""/>
<Lang name="tp" value="缴付类别"/>
<Lang name="ttp_tp" value=""/>
<Lang name="remark" value=""/>
<Lang name="ttp_remark" value=""/>
<Lang name="code" value=""/>
<Lang name="ttp_code" value=""/>
<Lang name="curaccounts" value="本期应缴"/>
<Lang name="ttp_curaccounts" value=""/>
<Lang name="paidaccounts" value="实收金额"/>
<Lang name="ttp_paidaccounts" value=""/>
<Lang name="yd_skr" value=""/>
<Lang name="ttp_yd_skr" value=""/>
<Lang name="enteredby" value=""/>
<Lang name="ttp_enteredby" value=""/>
<Lang name="dt_enter" value=""/>
<Lang name="ttp_dt_enter" value=""/>
<Lang name="stat" value=""/>
<Lang name="ttp_stat" value=""/>
<Lang name="idx" value=""/>
<Lang name="ttp_idx" value=""/>
<Lang name="ttp_operationproperty_payment" value=""/>
<Lang name="ttp_createproperty_payment" value=""/>
<Lang name="ttp_modifyproperty_payment" value=""/>
<Lang name="ttp_resetproperty_payment" value=""/>
<Lang name="ttp_deleteproperty_payment" value=""/>
<Lang name="ttp_refreshproperty_payment" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Ctrls>
<GroupBox Text="property_payment" Name="GBproperty_payment" id="property_payment" Size="100,100"><Ctrls>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_payment_GBDEDIT.xml" Name="GBDEDITproperty_payment"><Ctrls>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_payer_id"><Ctrls>
<Label Align="Right" Text="payer_id" Name="lb_payer_id" Size="60,20"/>
<TextBox Weight="150" Text="" ToolTip="ttp_payer_id" Name="payer_id" Size="150,20">
	<DbDetails fcsm="true">
<Index>id_room</Index>
<DbTable>mylayout.property_room</DbTable>
<Data>name_room,owner payer,ownerphone phone,id_room</Data>
<Where/>
<queryFormat/></DbDetails></TextBox>
<MagicCtrl Name="pickpayer_id" Link="tip:Pick" images=",data/search.png" button="type:0" Size="20,20"><OnClick><assign name="$parent.property_room_pick.frmwndctrl" expr="property_payment.payer_id"/></OnClick></MagicCtrl>\r\n</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_payer"><Ctrls>
<Label Align="Right" Text="payer" Name="lb_payer" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_payer" Name="payer" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_phone"><Ctrls>
<Label Align="Right" Text="phone" Name="lb_phone" Size="60,20"/>
<TextBox Weight="150" Text="" ToolTip="ttp_phone" Name="phone" Size="150,20"/>
<MagicCtrl ToolTip="DialToCall" Name="dialphone" OnClick="nis3ucs:%{phone}" images=" ,data/startcall_green.png" button="type:0" Size="20,20"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_prebalance"><Ctrls>
<Label Align="Right" Text="prebalance" Name="lb_prebalance" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_prebalance" Name="prebalance" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_curbalance"><Ctrls>
<Label Align="Right" Text="curbalance" Name="lb_curbalance" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_curbalance" Name="curbalance" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_dt_pay"><Ctrls>
<Label Align="Right" Text="dt_pay" Name="lb_dt_pay" Size="60,20"/>
<DateTime Weight="170" Text="" ToolTip="ttp_dt_pay" Name="dt_pay" Size="170,20" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_method"><Ctrls>
<Label Align="Right" Text="method" onload="init" Name="lb_method" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_method" onload="init" Name="method" Size="170,100">
	<DbDetails>
<Index>idx</Index>
<DbTable>mylayout.paymentmethod</DbTable>
<Data>name,idx</Data>
<Where/>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_tp"><Ctrls>
<Label Align="Right" Text="tp" onload="init" Name="lb_tp" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_tp" onload="init" Name="tp" Size="170,100">
	<DbDetails>
<Index>idx</Index>
<DbTable>mylayout.property_paymentype</DbTable>
<Data>name,idx</Data>
<Where/>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_code"><Ctrls>
<Label Align="Right" Text="code" Name="lb_code" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_code" Name="code" Size="170,20"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_curaccounts"><Ctrls>
<Label Align="Right" Text="curaccounts" Name="lb_curaccounts" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_curaccounts" Name="curaccounts" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_paidaccounts"><Ctrls>
<Label Align="Right" Text="paidaccounts" Name="lb_paidaccounts" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_paidaccounts" Name="paidaccounts" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_yd_skr"><Ctrls>
<Label Align="Right" Text="yd_skr" Name="lb_yd_skr" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_yd_skr" Name="yd_skr" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_enteredby" Visible="false"><Ctrls>
<Label Align="Right" Text="enteredby" overlap="pre" Name="lb_enteredby" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_enteredby" overlap="pre" Name="enteredby" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_dt_enter" Visible="false"><Ctrls>
<Label Align="Right" Text="dt_enter" overlap="pre" Name="lb_dt_enter" Size="60,20" Visible="false"/>
<DateTime Weight="170" Text="" ToolTip="ttp_dt_enter" overlap="pre" Name="dt_enter" Size="170,20" Visible="false" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_stat" Visible="false"><Ctrls>
<CheckBox Text="stat" ToolTip="ttp_stat" overlap="pre" Name="stat" readonly="true" Size="230,20" Visible="false"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_remark"><Ctrls>
<Label Align="Right" Text="remark" Name="lb_remark" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_remark" Name="remark" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_id_payment" Visible="false"><Ctrls>
<Label Align="Right" Text="id_payment" overlap="pre" Name="lb_id_payment" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_id_payment" overlap="pre" Name="id_payment" Size="170,20" Visible="false"><OnEnChange><if cond="'%{id_payment}'"><SetVisible name="insertproperty_payment" Visible="0"/><SetVisible name="modifyproperty_payment" Visible="1"/><else/><SetVisible name="insertproperty_payment" Visible="1"/><SetVisible name="modifyproperty_payment" Visible="0"/></if></OnEnChange></TextBox>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_payment_GBOPE.xml" cols="xs12 sm6 md4" Name="GBOPEproperty_payment" Size="100,100"><Ctrls>
<Button sqlpkinsert="id_payment" Text="create" ToolTip="ttp_createproperty_payment" Name="insertproperty_payment" Size="50,20">
<OnClick>
<DbDetails mode="insert" fcsm="1">
<DbTable>mylayout.property_payment</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>payer_id[id_room],payer,phone,prebalance,curbalance,dt_pay,method[idx],tp[idx],code,curaccounts,paidaccounts,yd_skr,remark</Data>
<DataEx>enteredby,dt_enter,stat;'%{user_id}',now(),1</DataEx>
<queryFormat>insert into %{table} %{data}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><if cond="!%{insertproperty_payment[broke]}"><if cond="%{refreshAfterEdit}==1"><submit next="property_paymentLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><if cond="1"><if cond="'%{frmwndctrl}'"><submit next="%{frmwndctrl}" delay="1000"/><else/><submit next="$parent.property_payment_vLst" delay="1000"/></if></if></if></if>
	</OnClick>
	</Button><TAB/>
<Button Text="modify" ToolTip="ttp_modifyproperty_payment" Name="modifyproperty_payment" Size="50,20">
<OnClick>
<DbDetails mode="update" fcsm="1">
<DbTable>mylayout.property_payment</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>payer_id[id_room],payer,phone,curbalance,dt_pay,method[idx],tp[idx],code,curaccounts,paidaccounts,yd_skr,remark</Data>
<DataEx/>
<Where>id_payment='%{id_payment}'</Where>
<queryFormat>update %{table} set %{data} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><if cond="!%{modifyproperty_payment[broke]}"><if cond="%{refreshAfterEdit}==1"><submit next="property_paymentLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><if cond="'%{frmwndctrl}'"><submit next="%{frmwndctrl}" delay="1000"/><else/><submit next="$parent.property_payment_vLst" delay="1000"/></if></if></if>
	</OnClick>
</Button><TAB/>
<Button Text="reset" ToolTip="ttp_resetproperty_payment" Name="resetproperty_payment" Size="50,20">
<OnClick>
<submit next="GBDEDITproperty_payment" function="reset"/>
	</OnClick>
</Button><TAB/>
<Button Text="Search" ToolTip="ttp_gsearchproperty_payment" Name="gsearchproperty_payment" Size="50,20" visible="false">
<OnClick>
<search next="property_paymentLst" listed="0" prefixwhere="0" prefixand="0" inputed="1"/><submit next="GBDEDITproperty_payment" namelist="search" function="search"/>
	</OnClick>
</Button><TAB/>
</Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_payment_Vh.xml" cols="xs12 sm12 md12 lg12" Name="GBDVproperty_payment" visible="0"><Ctrls>
<ListCtrl loadedclick="1" ToolTip="ttp_property_payment" Name="property_paymentLst" Size="70,20" visible="0">
	<DbDetails fcsm="1">
<Index>id_payment</Index>
<DbTable>mylayout.property_payment</DbTable>
<Data>payer_id,payer,phone,prebalance,curbalance,dt_pay,method,tp,code,curaccounts,paidaccounts,yd_skr,enteredby,dt_enter,stat,remark,id_payment</Data>
<Order>id_payment</Order></DbDetails>
<OnClick><assign name="payer_id[id_room]" function="SetSel" expr="%{property_paymentLst[payer_id]}"/><assign name="method[idx]" function="SetSel" expr="%{property_paymentLst[method]}"/><assign name="tp[idx]" function="SetSel" expr="%{property_paymentLst[tp]}"/>
<if cond="%{id_payment}"><SetVisible name="insertproperty_payment" Visible="0"/><SetVisible name="modifyproperty_payment" Visible="1"/></if>
</OnClick>
</ListCtrl>
</Ctrls></GroupBox></Ctrls></GroupBox></Ctrls>
	<OnChanged/>
	<OnActivate><SetVisible name="insertproperty_payment" Visible="1"/><SetVisible name="modifyproperty_payment" Visible="0"/></OnActivate>
</WndTap>
<WndTap xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_room_pick.xml" Text="RoomPick" Name="property_room_Pick" popup="1" Ver="2">
	<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_room.xml" name="property_room">
<Lang name="property_room" value="房屋"/>
<Lang name="TabEditproperty_room" value="property_room Edit"/>
<Lang name="TabViewproperty_room" value="property_room View"/>
<Lang name="name_room" value="房    号"/>
<Lang name="ttp_name_room" value=""/>
<Lang name="layers" value="楼层"/>
<Lang name="ttp_layers" value=""/>
<Lang name="roomtp" value="户型"/>
<Lang name="ttp_roomtp" value=""/>
<Lang name="owner" value="业主名字"/>
<Lang name="ttp_owner" value=""/>
<Lang name="ownerphone" value="联系电话"/>
<Lang name="ttp_ownerphone" value=""/>
<Lang name="owneridcard" value="身份证号"/>
<Lang name="ttp_owneridcard" value=""/>
<Lang name="ownerfirm" value="工作单位"/>
<Lang name="ttp_ownerfirm" value=""/>
<Lang name="property_no" value="产权证号"/>
<Lang name="ttp_property_no" value=""/>
<Lang name="parking_no" value="车位号码"/>
<Lang name="ttp_parking_no" value=""/>
<Lang name="area_ct" value="房屋面积"/>
<Lang name="ttp_area_ct" value="area construct"/>
<Lang name="area_real" value="使用面积"/>
<Lang name="ttp_area_real" value=""/>
<Lang name="isrent" value="是否出租"/>
<Lang name="ttp_isrent" value=""/>
<Lang name="dt_rentdue" value="租约到期"/>
<Lang name="ttp_dt_rentdue" value=""/>
<Lang name="remark" value=""/>
<Lang name="ttp_remark" value=""/>
<Lang name="code_room" value=""/>
<Lang name="ttp_code_room" value=""/>
<Lang name="fw_lydy" value=""/>
<Lang name="ttp_fw_lydy" value=""/>
<Lang name="deposit" value=""/>
<Lang name="ttp_deposit" value=""/>
<Lang name="enteredby" value=""/>
<Lang name="ttp_enteredby" value=""/>
<Lang name="dt_enter" value=""/>
<Lang name="ttp_dt_enter" value=""/>
<Lang name="dt_update" value=""/>
<Lang name="ttp_dt_update" value=""/>
<Lang name="id_comm" value=""/>
<Lang name="ttp_id_comm" value=""/>
<Lang name="id_build" value=""/>
<Lang name="ttp_id_build" value=""/>
<Lang name="stat" value=""/>
<Lang name="ttp_stat" value=""/>
<Lang name="id_room" value=""/>
<Lang name="ttp_id_room" value=""/>
<Lang name="ttp_operationproperty_room" value=""/>
<Lang name="ttp_createproperty_room" value=""/>
<Lang name="ttp_modifyproperty_room" value=""/>
<Lang name="ttp_resetproperty_room" value=""/>
<Lang name="ttp_deleteproperty_room" value=""/>
<Lang name="ttp_refreshproperty_room" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
	<Ctrls>
	<GroupBox Text="property_room" Name="GBproperty_room" id="property_room" Size="100,100"><Ctrls>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_room_vsm.xml" Name="GBDEDITproperty_room"><Ctrls>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_id_comm"><Ctrls>
<Label Align="Right" Text="id_comm" onload="init" Name="lb_id_comm" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_id_comm" onload="init" Name="id_comm" Size="170,100">
	<DbDetails>
<Index>id_comm</Index>
<DbTable>mylayout.property_community</DbTable>
<Data>name_comm,id_comm</Data>
<Where/>
<queryFormat/></DbDetails><OnSELENDOK><if cond="%{id_comm[id_comm]}"><submit next="id_build"/><else/><submit next="id_build" function="resetcontent"/><submit next="id_room" function="resetcontent"/></if></OnSELENDOK></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_id_build"><Ctrls>
<Label Align="Right" Text="id_build" Name="lb_id_build" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_id_build" Name="id_build" Size="170,100">
	<DbDetails>
<Index>id_build</Index>
<DbTable>mylayout.property_building</DbTable>
<Data>name_build,id_build</Data>
<Where>id_comm='%{id_comm[id_comm]}'</Where>
<queryFormat/></DbDetails><OnSELENDOK><if cond="%{id_build[id_build]}"><submit next="id_room"/><else/><submit next="id_room" function="resetcontent"/></if></OnSELENDOK></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_layers"><Ctrls>
<Label Align="Right" Text="layers" Name="lb_layers" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_layers" Name="layers" Size="170,20"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_roomtp"><Ctrls>
<Label Align="Right" Text="roomtp" onload="init" Name="lb_roomtp" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_roomtp" onload="init" Name="roomtp" Size="170,100">
	<DbDetails>
<Index>idx</Index>
<DbTable>mylayout.property_roomtp</DbTable>
<Data>name,idx</Data>
<Where/>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_name_room"><Ctrls>
<Label Align="Right" Text="name_room" Name="lb_name_room" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_name_room" Name="name_room" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_owner"><Ctrls>
<Label Align="Right" Text="owner" Name="lb_owner" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_owner" Name="owner" Size="170,20"/>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
<BR autoHeight="1"/>
<GroupBox cols="xs12 sm12 md12 lg12" Name="GBOPDVitem"><Ctrls>
<Button Text="gsearch" ToolTip="ttp_gsearchitem" Name="gsearchitem" Size="50,20" visible="true">
	<OnClick>
	<search next="property_room_vLst" listed="0" prefixand="0" inputed="1"><city format="(x.city like '%%{opvalue}%' or x.chinaspell like '%%{opvalue}%' or x.chinaspellall like '%%{opvalue}%' or x.pinyin like '%%{opvalue}%')"/><parentcityid format="!ROUND(x0.LeverCode/100000) and (x0.city like '%{opvalue}%' or x0.chinaspell like '%{opvalue}%' or x0.pinyin like '%{opvalue}%')"/></search><submit next="GBDEDITproperty_room" namelist="search" function="search"/>
	</OnClick>
	</Button><TAB/>
<Button Text="reset" ToolTip="ttp_resetitem" Name="resetitem" Size="50,20">
	<OnClick>
	<submit next="GBDEDITproperty_room" function="reset"/>
	</OnClick>
	</Button><TAB/>
</Ctrls></GroupBox>
<BR autoHeight="1"/>
<ListCtrl Heading="name_room,100;layers,30;roomtp,120;owner,100;ownerphone,100;owneridcard,150;ownerfirm,200;property_no,100;parking_no,100;area_ct,90;area_real,90;isrent,120;dt_rentdue,150;remark,250;code_room,100;fw_lydy,30;deposit,90;enteredby,100;dt_enter,150;dt_update,150;stat,60;id_room,55;" loadedclick="0" ToolTip="ttp_property_room" Name="property_room_vLst" Size="700,450">
	<DbDetails>
<Index>id_room</Index>
<DbTable>mylayout.property_room p left join mylayout.property_roomtp p0 on p.roomtp=p0.idx</DbTable>
<Data>p.name_room,p.layers,p0.name roomtp,p.owner,p.ownerphone,p.owneridcard,p.ownerfirm,p.property_no,p.parking_no,p.area_ct,p.area_real,p.isrent,p.dt_rentdue,p.remark,p.code_room,p.fw_lydy,p.deposit,p.enteredby,p.dt_enter,p.dt_update,p.stat,p.id_room</Data>
<Order>id_room</Order></DbDetails>
	<OnClick><if cond="%{property_room_vLst[id_room]}"><DbDetails><Where>id_room='%{property_room_vLst[id_room]}'</Where></DbDetails><submit next="$parent.%{frmwndctrl}" namelist="DbDetails"/><submit function="onok"/></if></OnClick>
	</ListCtrl>
	</Ctrls></GroupBox>
	</Ctrls>
	<OnChanged/>
	<OnActivate/>
	</WndTap>
</WndTaps>
<var name="searchtmpl"><payer_id format="p.payer_id='%{opvalue}'"/><payer format="(p.payer like '%%{opvalue}%')"/><phone format="(p.phone like '%%{opvalue}%')"/><prebalance format="(p.prebalance like '%%{opvalue}%')"/><dt_pay format="(p.dt_pay between '%{dt_pay[datetime]}' and '%{dt_pay[datetime2]}')"/><curbalance format="(p.curbalance like '%%{opvalue}%')"/><method format="p.method='%{opvalue}'"/><tp format="p.tp='%{opvalue}'"/><remark format="(p.remark like '%%{opvalue}%')"/><code format="(p.code like '%%{opvalue}%')"/><curaccounts format="(p.curaccounts like '%%{opvalue}%')"/><paidaccounts format="(p.paidaccounts like '%%{opvalue}%')"/><yd_skr format="(p.yd_skr like '%%{opvalue}%')"/><enteredby format="(p.enteredby like '%%{opvalue}%')"/><dt_enter format="(p.dt_enter between '%{dt_enter[datetime]}' and '%{dt_enter[datetime2]}')"/><stat format="p.stat is %{opvalue}"/><id_payment format="(p.id_payment like '%%{opvalue}%')"/></var>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_payment.xml" name="property_payment">
<Lang name="property_payment" value="收付管理"/>
<Lang name="TabEditproperty_payment" value="property_payment Edit"/>
<Lang name="TabViewproperty_payment" value="property_payment View"/>
<Lang name="payer_id" value="业    主"/>
<Lang name="ttp_payer_id" value=""/>
<Lang name="payer" value="缴 费 人"/>
<Lang name="ttp_payer" value=""/>
<Lang name="phone" value="联系电话"/>
<Lang name="ttp_phone" value=""/>
<Lang name="prebalance" value="上期结余"/>
<Lang name="ttp_prebalance" value=""/>
<Lang name="dt_pay" value="缴费时间"/>
<Lang name="ttp_dt_pay" value=""/>
<Lang name="curbalance" value="本期结余"/>
<Lang name="ttp_curbalance" value=""/>
<Lang name="method" value="支付方式"/>
<Lang name="ttp_method" value=""/>
<Lang name="tp" value="缴付类别"/>
<Lang name="ttp_tp" value=""/>
<Lang name="remark" value=""/>
<Lang name="ttp_remark" value=""/>
<Lang name="code" value=""/>
<Lang name="ttp_code" value=""/>
<Lang name="curaccounts" value="本期应缴"/>
<Lang name="ttp_curaccounts" value=""/>
<Lang name="paidaccounts" value="实收金额"/>
<Lang name="ttp_paidaccounts" value=""/>
<Lang name="yd_skr" value=""/>
<Lang name="ttp_yd_skr" value=""/>
<Lang name="enteredby" value=""/>
<Lang name="ttp_enteredby" value=""/>
<Lang name="dt_enter" value=""/>
<Lang name="ttp_dt_enter" value=""/>
<Lang name="stat" value=""/>
<Lang name="ttp_stat" value=""/>
<Lang name="idx" value=""/>
<Lang name="ttp_idx" value=""/>
<Lang name="ttp_operationproperty_payment" value=""/>
<Lang name="ttp_createproperty_payment" value=""/>
<Lang name="ttp_modifyproperty_payment" value=""/>
<Lang name="ttp_resetproperty_payment" value=""/>
<Lang name="ttp_deleteproperty_payment" value=""/>
<Lang name="ttp_refreshproperty_payment" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Ctrls><GroupBox Text="property_payment" Name="GBproperty_payment" id="property_payment" Size="100,100"><Ctrls>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_payment_Vs.xml" text="Search" toggle="1" Name="GBDEDITproperty_payment"><Ctrls>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_payer_id"><Ctrls>
<Label Align="Right" Text="payer_id" Name="lb_payer_id" Size="60,20"/>
<TextBox Weight="150" Text="" ToolTip="ttp_payer_id" Name="payer_id" Size="150,20">
	<DbDetails fcsm="true">
<Index>id_room</Index>
<DbTable>mylayout.property_room</DbTable>
<Data>name_room,owner payer,ownerphone phone,id_room</Data>
<Where/>
<queryFormat/></DbDetails></TextBox>
<MagicCtrl Name="pickpayer_id" Link="tip:Pick" images=",data/search.png" button="type:0" Size="20,20"><OnClick><assign name="$this.property_room_pick.frmwndctrl" expr="payer_id"/></OnClick></MagicCtrl>\r\n</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_payer"><Ctrls>
<Label Align="Right" Text="payer" Name="lb_payer" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_payer" Name="payer" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_phone"><Ctrls>
<Label Align="Right" Text="phone" Name="lb_phone" Size="60,20"/>
<TextBox Weight="150" Text="" ToolTip="ttp_phone" Name="phone" Size="150,20"/>
<MagicCtrl ToolTip="DialToCall" Name="dialphone" OnClick="nis3ucs:%{phone}" images=" ,data/startcall_green.png" button="type:0" Size="20,20"/>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Name="GBOPVproperty_payment" Size="100,20"><Ctrls>
<Button Text="addone" ToolTip="ttp_addone" Name="addone" Size="50,20">	<OnClick><submit next="$this.property_payment.GBDEDITproperty_payment" function="reset"/><assign name="$this.property_payment.frmwndctrl" expr="%{$this.property_payment_vLst}"/></OnClick>	</Button><TAB/>	
<Button Text="reset" ToolTip="ttp_resetproperty_payment" Name="resetproperty_payment" Size="50,20">	<OnClick>	<submit next="GBDEDITproperty_payment" function="reset"/>	</OnClick>	</Button><TAB/>	
<Button Text="Search" ToolTip="ttp_gsearchproperty_payment" Name="gsearchproperty_payment" Size="50,20">	<OnClick>	
<search next="property_payment_vLst" listed="0" prefixwhere="1" prefixand="0" inputed="1">%{searchtmpl}</search><submit next="GBDEDITproperty_payment" namelist="search" function="search"/>	
<search next="records_property_payment" listed="0" prefixwhere="1" prefixand="0" inputed="1">%{searchtmpl}</search><submit next="GBDEDITproperty_payment" namelist="search" function="search"/>	
</OnClick></Button><TAB/></Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_payment_Vpg.xml" cols="xs12 sm6 md4" Multiline="0" Name="GBPGproperty_payment"><Ctrls>
<Label Align="Right" Text="Records" Name="lb_Records" Size="60,20"/>
<TextBox Weight="30" ToolTip="ttp_records" OnLoad="init" Name="records_property_payment" readonly="1" Size="40,20">
	<DbDetails fcsm="1">
<Index>id_payment</Index>
<DbTable>mylayout.property_payment p left join mylayout.property_room p0 on p.payer_id=p0.id_room left join mylayout.paymentmethod p1 on p.method=p1.idx left join mylayout.property_paymentype p2 on p.tp=p2.idx</DbTable>
<Data>count(*) records</Data>
<Order>id_payment</Order><Queryformat>select %{data} from (select p.id_payment from %{dbtable} %{where} GROUP BY p.id_payment  ORDER BY p.id_payment) t</Queryformat></DbDetails>
<OnEnchange>
<assign name="pgs_property_payment" expr="js(Math.ceil(%{records_property_payment}/%{property_payment_vLst[countsperpage]}))"/>
<assign name="pgscb_property_payment" function="setitems" expr="js('1~'+Math.ceil(%{records_property_payment}/%{property_payment_vLst[countsperpage]}))"/>
</OnEnchange>
</TextBox>

<TextBox Weight="30" ToolTip="ttp_pgs" Name="pgs_property_payment" readonly="1" Size="30,20"/>
<TextBox Weight="30" ToolTip="ttp_pgcur" Name="pgcur_property_payment" Size="30,20"/>
<Button Text="go2Page" Name="go2pageproperty_payment_vLst" Size="50,20"><OnClick><submit next="property_payment_vLst" function="GetPage(%{pgcur_property_payment}-1)"/></OnClick></Button>
</Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_payment_Vpgop.xml" cols="xs12 sm6 md4" Name="GBOPVproperty_payment" Size="100,10"><Ctrls>
<TAB/><Button Text="initial" ToolTip="ttp_initial" Name="initialproperty_payment" Size="50,20">
<OnClick><submit next="property_payment_vLst" function="initial"/><submit next="records_property_payment" function="initial"/></OnClick></Button>
<TAB/><Button Text="firstpage" Name="FPproperty_payment_vLst" Size="50,20">
<OnClick><submit next="property_payment_vLst" function="GetPage(first)"/><submit next="records_property_payment"/></OnClick></Button>
<Button Text="prepage" Name="PREproperty_payment_vLst" Size="50,20">
<OnClick><submit next="property_payment_vLst" function="GetPage(Pre)"/></OnClick></Button>
<Button Text="nextpage" Name="NPproperty_payment_vLst" Size="50,20">
<OnClick><submit next="property_payment_vLst" function="GetPage(Next)"/></OnClick></Button>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_payment_Vv.xml" cols="xs12 sm12 md12 lg12" Name="GBDVproperty_payment"><Ctrls>
<ListCtrl Heading="payer_id,55;payer,100;phone,100;prebalance,90;curbalance,90;dt_pay,150;method,120;tp,120;code,55;curaccounts,90;paidaccounts,90;yd_skr,100;enteredby,55;dt_enter,150;stat,60;remark,250;id_payment,55;" loadedclick="0" ToolTip="ttp_property_payment_v" OnLoad="init" Name="property_payment_vLst" Size="700,450">
	<DbDetails>
<Index>id_payment</Index>
<DbTable>mylayout.property_payment p left join mylayout.property_room p0 on p.payer_id=p0.id_room left join mylayout.paymentmethod p1 on p.method=p1.idx left join mylayout.property_paymentype p2 on p.tp=p2.idx</DbTable>
<Data>p0.name_room payer_id,p.payer,p.phone,p.prebalance,p.curbalance,p.dt_pay,p1.name method,p2.name tp,p.code,p.curaccounts,p.paidaccounts,p.yd_skr,p.enteredby,p.dt_enter,p.stat,p.remark,p.id_payment</Data>
<Order>id_payment</Order></DbDetails>
<DbDetails><queryFormat xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\biztools\mysqlcfg.xml" id="tbpages">select %{data} from %{dbtable} %{where} limit %{StartRow},%{PgSize}</queryFormat></DbDetails>
<operator xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_payment_ops.xml" firstpage="1" nextpage="1" refresh="1" prepage="1">
<op text="modify"><DbDetails><Where>id_payment='%{property_payment_vLst[id_payment]}'</Where></DbDetails><submit next="$this.property_payment.property_paymentLst" namelist="DbDetails"/><DbDetails><Where>id_room=(select id_room from mylayout.property_payment where id_payment='%{property_payment_vLst[id_payment]}')</Where></DbDetails><submit next="$this.property_payment.payer_id" namelist="DbDetails"/></op>
<op text="delete" needconfirm="1"><DbDetails>
<DbTable>mylayout.property_payment</DbTable>
<Where>id_payment='%{property_payment_vLst[id_payment]}'</Where>
<queryFormat>delete from %{table} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><submit/></op>
</operator>
<OnChanged>
<assign name="pgcur_property_payment" expr="js(%{property_payment_vLst[currentpage]}+1)"/>
<assign name="pgscb_property_payment" function="SetSel" expr="js(%{property_payment_vLst[currentpage]}+1)"/>
</OnChanged></ListCtrl>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
</Ctrls></WndTap>
	<WndTap xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_finance_v.xml" Text="property_finance" Name="property_finance_v">
<WndTaps>
<WndTap xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_finance_Ve.xml" Text="property_finance" Name="property_finance" popup="1" Ver="2">
<var name="refreshAfterEdit" expr="2"/>
<var name="dataRequired" expr="id_comm[id_comm],tp[idx],outin"/>
<var name="dataRequireless" expr=""/>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_finance.xml" name="property_finance">
<Lang name="property_finance" value="财务管理"/>
<Lang name="TabEditproperty_finance" value="property_finance Edit"/>
<Lang name="TabViewproperty_finance" value="property_finance View"/>
<Lang name="fee" value="金    额"/>
<Lang name="ttp_fee" value=""/>
<Lang name="outin" value="收支方向"/>
<Lang name="ttp_outin" value=""/>
<Lang name="tp" value="收支类别"/>
<Lang name="ttp_tp" value=""/>
<Lang name="dt" value="开始时间"/>
<Lang name="ttp_dt" value=""/>
<Lang name="remark" value=""/>
<Lang name="ttp_remark" value=""/>
<Lang name="enteredby" value=""/>
<Lang name="ttp_enteredby" value=""/>
<Lang name="dt_enter" value=""/>
<Lang name="ttp_dt_enter" value=""/>
<Lang name="stat" value=""/>
<Lang name="ttp_stat" value=""/>
<Lang name="idx" value=""/>
<Lang name="ttp_idx" value=""/>
<Lang name="ttp_operationproperty_finance" value=""/>
<Lang name="ttp_createproperty_finance" value=""/>
<Lang name="ttp_modifyproperty_finance" value=""/>
<Lang name="ttp_resetproperty_finance" value=""/>
<Lang name="ttp_deleteproperty_finance" value=""/>
<Lang name="ttp_refreshproperty_finance" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Ctrls>
<GroupBox Text="property_finance" Name="GBproperty_finance" id="property_finance" Size="100,100"><Ctrls>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_finance_GBDEDIT.xml" Name="GBDEDITproperty_finance"><Ctrls>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_id_comm"><Ctrls>
<Label Align="Right" Text="id_comm" onload="init" Name="lb_id_comm" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_id_comm" onload="init" Name="id_comm" Size="170,100">
	<DbDetails>
<Index>id_comm</Index>
<DbTable>mylayout.property_community</DbTable>
<Data>name_comm,id_comm</Data>
<Where/>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_tp"><Ctrls>
<Label Align="Right" Text="tp" onload="init" Name="lb_tp" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_tp" onload="init" Name="tp" Size="170,100">
	<DbDetails>
<Index>idx</Index>
<DbTable>mylayout.property_financetp</DbTable>
<Data>name,idx</Data>
<Where/>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_dt"><Ctrls>
<Label Align="Right" Text="dt" Name="lb_dt" Size="60,20"/>
<DateTime Weight="170" Text="" ToolTip="ttp_dt" Name="dt" Size="170,20" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_outin"><Ctrls>
<Label Align="Right" Text="outin" Name="lb_outin" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_outin" Items="支出|收入" Name="outin" Size="170,100"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_fee"><Ctrls>
<Label Align="Right" Text="fee" Name="lb_fee" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_fee" Name="fee" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_remark"><Ctrls>
<Label Align="Right" Text="remark" Name="lb_remark" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_remark" Name="remark" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_enteredby" Visible="false"><Ctrls>
<Label Align="Right" Text="enteredby" overlap="pre" Name="lb_enteredby" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_enteredby" overlap="pre" Name="enteredby" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_dt_enter" Visible="false"><Ctrls>
<Label Align="Right" Text="dt_enter" overlap="pre" Name="lb_dt_enter" readonly="true" Size="60,20" Visible="false"/>
<DateTime Weight="170" Text="" ToolTip="ttp_dt_enter" overlap="pre" Name="dt_enter" readonly="true" Size="170,20" Visible="false" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_stat" Visible="false"><Ctrls>
<CheckBox Text="stat" ToolTip="ttp_stat" overlap="pre" Name="stat" readonly="true" Size="230,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_id_finance" Visible="false"><Ctrls>
<Label Align="Right" Text="id_finance" overlap="pre" Name="lb_id_finance" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_id_finance" overlap="pre" Name="id_finance" readonly="true" Size="170,20" Visible="false"><OnEnChange><if cond="'%{id_finance}'"><SetVisible name="insertproperty_finance" Visible="0"/><SetVisible name="modifyproperty_finance" Visible="1"/><else/><SetVisible name="insertproperty_finance" Visible="1"/><SetVisible name="modifyproperty_finance" Visible="0"/></if></OnEnChange></TextBox>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_finance_GBOPE.xml" cols="xs12 sm6 md4" Name="GBOPEproperty_finance" Size="100,100"><Ctrls>
<Button sqlpkinsert="id_finance" Text="create" ToolTip="ttp_createproperty_finance" Name="insertproperty_finance" Size="50,20">
<OnClick>
<DbDetails mode="insert" fcsm="1">
<DbTable>mylayout.property_finance</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>id_comm[id_comm],tp[idx],dt,outin,fee,remark</Data>
<DataEx>enteredby,dt_enter,stat;'%{user_id}',now(),1</DataEx>
<queryFormat>insert into %{table} %{data}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><if cond="!%{insertproperty_finance[broke]}"><if cond="%{refreshAfterEdit}==1"><submit next="property_financeLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><if cond="'%{frmwndctrl}'"><submit next="%{frmwndctrl}" delay="1000"/><else/><submit next="$parent.property_finance_vLst" delay="1000"/></if></if></if>
	</OnClick>
	</Button><TAB/>
<Button Text="modify" ToolTip="ttp_modifyproperty_finance" Name="modifyproperty_finance" Size="50,20">
<OnClick>
<DbDetails mode="update" fcsm="1">
<DbTable>mylayout.property_finance</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>id_comm[id_comm],tp[idx],dt,outin,fee,remark</Data>
<DataEx/>
<Where>id_finance='%{id_finance}'</Where>
<queryFormat>update %{table} set %{data} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><if cond="!%{modifyproperty_finance[broke]}"><if cond="%{refreshAfterEdit}==1"><submit next="property_financeLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><if cond="'%{frmwndctrl}'"><submit next="%{frmwndctrl}" delay="1000"/><else/><submit next="$parent.property_finance_vLst" delay="1000"/></if></if></if>
	</OnClick>
</Button><TAB/>
<Button Text="reset" ToolTip="ttp_resetproperty_finance" Name="resetproperty_finance" Size="50,20">
<OnClick>
<submit next="GBDEDITproperty_finance" function="reset"/>
	</OnClick>
</Button><TAB/>
<Button Text="Search" ToolTip="ttp_gsearchproperty_finance" Name="gsearchproperty_finance" Size="50,20" visible="false">
<OnClick>
<search next="property_financeLst" listed="0" prefixwhere="0" prefixand="0" inputed="1"/><submit next="GBDEDITproperty_finance" namelist="search" function="search"/>
	</OnClick>
</Button><TAB/>
</Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_finance_Vh.xml" cols="xs12 sm12 md12 lg12" Name="GBDVproperty_finance" visible="0"><Ctrls>
<ListCtrl loadedclick="1" ToolTip="ttp_property_finance" Name="property_financeLst" Size="70,20" visible="0">
	<DbDetails fcsm="1">
<Index>id_finance</Index>
<DbTable>mylayout.property_finance</DbTable>
<Data>id_comm,tp,dt,outin,fee,remark,enteredby,dt_enter,stat,id_finance</Data>
<Order>id_finance</Order></DbDetails>
<OnClick><assign name="id_comm[id_comm]" function="SetSel" expr="%{property_financeLst[id_comm]}"/><assign name="tp[idx]" function="SetSel" expr="%{property_financeLst[tp]}"/>
<if cond="%{id_finance}"><SetVisible name="insertproperty_finance" Visible="0"/><SetVisible name="modifyproperty_finance" Visible="1"/></if>
</OnClick>
</ListCtrl>
</Ctrls></GroupBox></Ctrls></GroupBox></Ctrls>
	<OnChanged/>
	<OnActivate><SetVisible name="insertproperty_finance" Visible="1"/><SetVisible name="modifyproperty_finance" Visible="0"/></OnActivate>
</WndTap>
</WndTaps>
<var name="searchtmpl"><id_comm format="p.id_comm='%{opvalue}'"/><tp format="p.tp='%{opvalue}'"/><dt format="(p.dt between '%{dt[datetime]}' and '%{dt[datetime2]}')"/><outin format="(p.outin like '%%{opvalue}%')"/><fee format="(p.fee like '%%{opvalue}%')"/><remark format="(p.remark like '%%{opvalue}%')"/><enteredby format="(p.enteredby like '%%{opvalue}%')"/><dt_enter format="(p.dt_enter between '%{dt_enter[datetime]}' and '%{dt_enter[datetime2]}')"/><stat format="p.stat is %{opvalue}"/><id_finance format="(p.id_finance like '%%{opvalue}%')"/></var>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_finance.xml" name="property_finance">
<Lang name="property_finance" value="财务管理"/>
<Lang name="TabEditproperty_finance" value="property_finance Edit"/>
<Lang name="TabViewproperty_finance" value="property_finance View"/>
<Lang name="fee" value="金    额"/>
<Lang name="ttp_fee" value=""/>
<Lang name="outin" value="收支方向"/>
<Lang name="ttp_outin" value=""/>
<Lang name="tp" value="收支类别"/>
<Lang name="ttp_tp" value=""/>
<Lang name="dt" value="开始时间"/>
<Lang name="ttp_dt" value=""/>
<Lang name="remark" value=""/>
<Lang name="ttp_remark" value=""/>
<Lang name="enteredby" value=""/>
<Lang name="ttp_enteredby" value=""/>
<Lang name="dt_enter" value=""/>
<Lang name="ttp_dt_enter" value=""/>
<Lang name="stat" value=""/>
<Lang name="ttp_stat" value=""/>
<Lang name="idx" value=""/>
<Lang name="ttp_idx" value=""/>
<Lang name="ttp_operationproperty_finance" value=""/>
<Lang name="ttp_createproperty_finance" value=""/>
<Lang name="ttp_modifyproperty_finance" value=""/>
<Lang name="ttp_resetproperty_finance" value=""/>
<Lang name="ttp_deleteproperty_finance" value=""/>
<Lang name="ttp_refreshproperty_finance" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Ctrls><GroupBox Text="property_finance" Name="GBproperty_finance" id="property_finance" Size="100,100"><Ctrls>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_finance_Vs.xml" text="Search" toggle="1" Name="GBDEDITproperty_finance"><Ctrls>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_id_comm"><Ctrls>
<Label Align="Right" Text="id_comm" onload="init" Name="lb_id_comm" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_id_comm" onload="init" Name="id_comm" Size="170,100">
	<DbDetails>
<Index>id_comm</Index>
<DbTable>mylayout.property_community</DbTable>
<Data>name_comm,id_comm</Data>
<Where/>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_tp"><Ctrls>
<Label Align="Right" Text="tp" onload="init" Name="lb_tp" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_tp" onload="init" Name="tp" Size="170,100">
	<DbDetails>
<Index>idx</Index>
<DbTable>mylayout.property_financetp</DbTable>
<Data>name,idx</Data>
<Where/>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_dt"><Ctrls>
<Label Align="Right" Text="dt" Name="lb_dt" Size="60,20"/>
<DateTime Text2="1 day" Weight="170" Text="" ToolTip="ttp_dt" Name="dt" Size="170,20" Format="yyyy-MM-dd"/>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Name="GBOPVproperty_finance" Size="100,20"><Ctrls>
<Button Text="addone" ToolTip="ttp_addone" Name="addone" Size="50,20">	<OnClick><submit next="$this.property_finance.GBDEDITproperty_finance" function="reset"/><assign name="$this.property_finance.frmwndctrl" expr="%{$this.property_finance_vLst}"/></OnClick>	</Button><TAB/>	
<Button Text="reset" ToolTip="ttp_resetproperty_finance" Name="resetproperty_finance" Size="50,20">	<OnClick>	<submit next="GBDEDITproperty_finance" function="reset"/>	</OnClick>	</Button><TAB/>	
<Button Text="Search" ToolTip="ttp_gsearchproperty_finance" Name="gsearchproperty_finance" Size="50,20">	<OnClick>	
<search next="property_finance_vLst" listed="0" prefixwhere="1" prefixand="0" inputed="1">%{searchtmpl}</search><submit next="GBDEDITproperty_finance" namelist="search" function="search"/>	
<search next="records_property_finance" listed="0" prefixwhere="1" prefixand="0" inputed="1">%{searchtmpl}</search><submit next="GBDEDITproperty_finance" namelist="search" function="search"/>	
</OnClick></Button><TAB/></Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_finance_Vpg.xml" cols="xs12 sm6 md4" Multiline="0" Name="GBPGproperty_finance"><Ctrls>
<Label Align="Right" Text="Records" Name="lb_Records" Size="60,20"/>
<TextBox Weight="30" ToolTip="ttp_records" OnLoad="init" Name="records_property_finance" readonly="1" Size="30,20">
	<DbDetails fcsm="1">
<Index>id_finance</Index>
<DbTable>mylayout.property_finance p left join mylayout.property_community p0 on p.id_comm=p0.id_comm left join mylayout.property_financetp p1 on p.tp=p1.idx</DbTable>
<Data>count(*) records</Data>
<Order>id_finance</Order><Queryformat>select %{data} from (select p.id_finance from %{dbtable} %{where} GROUP BY p.id_finance  ORDER BY p.id_finance) t</Queryformat></DbDetails>
<OnEnchange>
<assign name="pgs_property_finance" expr="js(Math.ceil(%{records_property_finance}/%{property_finance_vLst[countsperpage]}))"/>
<assign name="pgscb_property_finance" function="setitems" expr="js('1~'+Math.ceil(%{records_property_finance}/%{property_finance_vLst[countsperpage]}))"/>
</OnEnchange>
</TextBox>

<TextBox Weight="30" ToolTip="ttp_pgs" Name="pgs_property_finance" readonly="1" Size="30,20"/>
<TextBox Weight="30" ToolTip="ttp_pgcur" Name="pgcur_property_finance" Size="30,20"/>
<Button Text="go2Page" Name="go2pageproperty_finance_vLst" Size="50,20"><OnClick><submit next="property_finance_vLst" function="GetPage(%{pgcur_property_finance}-1)"/></OnClick></Button>
</Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_finance_Vpgop.xml" cols="xs12 sm6 md4" Name="GBOPVproperty_finance" Size="100,10"><Ctrls>
<TAB/><Button Text="initial" ToolTip="ttp_initial" Name="initialproperty_finance" Size="50,20">
<OnClick><submit next="property_finance_vLst" function="initial"/><submit next="records_property_finance" function="initial"/></OnClick></Button>
<TAB/><Button Text="firstpage" Name="FPproperty_finance_vLst" Size="50,20">
<OnClick><submit next="property_finance_vLst" function="GetPage(first)"/><submit next="records_property_finance"/></OnClick></Button>
<Button Text="prepage" Name="PREproperty_finance_vLst" Size="50,20">
<OnClick><submit next="property_finance_vLst" function="GetPage(Pre)"/></OnClick></Button>
<Button Text="nextpage" Name="NPproperty_finance_vLst" Size="50,20">
<OnClick><submit next="property_finance_vLst" function="GetPage(Next)"/></OnClick></Button>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_finance_Vv.xml" cols="xs12 sm12 md12 lg12" Name="GBDVproperty_finance"><Ctrls>
<ListCtrl Heading="id_comm,120;tp,120;dt,150;outin,120;fee,90;remark,150;enteredby,55;dt_enter,150;stat,60;id_finance,55;" loadedclick="0" ToolTip="ttp_property_finance_v" OnLoad="init" Name="property_finance_vLst" Size="700,450">
	<DbDetails>
<Index>id_finance</Index>
<DbTable>mylayout.property_finance p left join mylayout.property_community p0 on p.id_comm=p0.id_comm left join mylayout.property_financetp p1 on p.tp=p1.idx</DbTable>
<Data>p0.name_comm id_comm,p1.name tp,p.dt,p.outin,p.fee,p.remark,p.enteredby,p.dt_enter,p.stat,p.id_finance</Data>
<Order>id_finance</Order></DbDetails>
<DbDetails><queryFormat xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\biztools\mysqlcfg.xml" id="tbpages">select %{data} from %{dbtable} %{where} limit %{StartRow},%{PgSize}</queryFormat></DbDetails>
<operator firstpage="1" nextpage="1" refresh="1" prepage="1">
<op text="modify"><DbDetails><Where>id_finance='%{property_finance_vLst[id_finance]}'</Where></DbDetails><submit next="$this.property_finance.property_financeLst" namelist="DbDetails"/><assign name="$this.property_finance.frmwndctrl" expr="%{this}"/></op>
<op text="delete" needconfirm="1"><DbDetails>
<DbTable>mylayout.property_finance</DbTable>
<Where>id_finance='%{property_finance_vLst[id_finance]}'</Where>
<queryFormat>delete from %{table} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><submit/></op>
</operator>
<OnChanged>
<assign name="pgcur_property_finance" expr="js(%{property_finance_vLst[currentpage]}+1)"/>
<assign name="pgscb_property_finance" function="SetSel" expr="js(%{property_finance_vLst[currentpage]}+1)"/>
</OnChanged></ListCtrl>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
</Ctrls></WndTap>
	<WndTap xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_chargelst_v.xml" Text="property_chargelst" Name="property_chargelst_v">
<WndTaps>
<WndTap xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_chargelst_Ve.xml" Text="property_chargelst" Name="property_chargelst" popup="1" Ver="2">
<var name="refreshAfterEdit" expr="2"/>
<var name="dataRequired" expr="id_comm[id_comm],id_build[id_build],id_room[id_room],chargetype[id_charge],price,num,year"/>
<var name="dataRequireless" expr=""/>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_chargelst.xml" name="property_chargelst">
<Lang name="property_chargelst" value="收费明细"/>
<Lang name="TabEditproperty_chargelst" value="property_chargelst Edit"/>
<Lang name="TabViewproperty_chargelst" value="property_chargelst View"/>
<Lang name="chargetype" value="收费类别"/>
<Lang name="ttp_chargetype" value=""/>
<Lang name="price" value="单价"/>
<Lang name="ttp_price" value=""/>
<Lang name="num" value="数量"/>
<Lang name="ttp_num" value=""/>
<Lang name="year" value="年"/>
<Lang name="ttp_year" value=""/>
<Lang name="month" value="月"/>
<Lang name="ttp_month" value=""/>
<Lang name="chargename" value="收费名称"/>
<Lang name="ttp_chargename" value=""/>
<Lang name="chargerule" value="计费规则"/>
<Lang name="ttp_chargerule" value=""/>
<Lang name="meterlast" value=""/>
<Lang name="ttp_meterlast" value=""/>
<Lang name="metercur" value=""/>
<Lang name="ttp_metercur" value=""/>
<Lang name="amount" value=""/>
<Lang name="ttp_amount" value=""/>
<Lang name="dt_pay" value=""/>
<Lang name="ttp_dt_pay" value=""/>
<Lang name="id_payment" value=""/>
<Lang name="ttp_id_payment" value=""/>
<Lang name="id_accountant" value=""/>
<Lang name="ttp_id_accountant" value=""/>
<Lang name="yy_sxid" value=""/>
<Lang name="ttp_yy_sxid" value=""/>
<Lang name="enteredby" value=""/>
<Lang name="ttp_enteredby" value=""/>
<Lang name="stat" value=""/>
<Lang name="ttp_stat" value="0--payed;1--payable"/>
<Lang name="idx" value=""/>
<Lang name="ttp_idx" value=""/>
<Lang name="ttp_operationproperty_chargelst" value=""/>
<Lang name="ttp_createproperty_chargelst" value=""/>
<Lang name="ttp_modifyproperty_chargelst" value=""/>
<Lang name="ttp_resetproperty_chargelst" value=""/>
<Lang name="ttp_deleteproperty_chargelst" value=""/>
<Lang name="ttp_refreshproperty_chargelst" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Ctrls>
<GroupBox Text="property_chargelst" Name="GBproperty_chargelst" id="property_chargelst" Size="100,100"><Ctrls>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_chargelst_GBDEDIT.xml" Name="GBDEDITproperty_chargelst"><Ctrls>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_id_comm"><Ctrls>
<Label Align="Right" Text="id_comm" onload="init" Name="lb_id_comm" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_id_comm" onload="init" Name="id_comm" Size="170,100">
	<DbDetails>
<Index>id_comm</Index>
<DbTable>mylayout.property_community</DbTable>
<Data>name_comm,id_comm</Data>
<Where/>
<queryFormat/></DbDetails><OnSELENDOK><if cond="%{id_comm[id_comm]}"><submit next="id_build"/><else/><submit next="id_build" function="resetcontent"/><submit next="id_room" function="resetcontent"/></if></OnSELENDOK></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_id_build"><Ctrls>
<Label Align="Right" Text="id_build" Name="lb_id_build" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_id_build" Name="id_build" Size="170,100">
	<DbDetails>
<Index>id_build</Index>
<DbTable>mylayout.property_building</DbTable>
<Data>name_build,id_build</Data>
<Where>id_comm='%{id_comm[id_comm]}'</Where>
<queryFormat/></DbDetails><OnSELENDOK><if cond="%{id_build[id_build]}"><submit next="id_room"/><else/><submit next="id_room" function="resetcontent"/></if></OnSELENDOK></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_id_room"><Ctrls>
<Label Align="Right" Text="id_room" Name="lb_id_room" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_id_room" Name="id_room" Size="170,100">
	<DbDetails>
<Index>id_room</Index>
<DbTable>mylayout.property_room</DbTable>
<Data>name_room,id_room</Data>
<Where>id_comm='%{id_comm[id_comm]}' and id_build='%{id_build[id_build]}'</Where>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_chargetype"><Ctrls>
<Label Align="Right" Text="chargetype" onload="init" Name="lb_chargetype" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_chargetype" onload="init" Name="chargetype" Size="170,100">
	<DbDetails fcsm="true">
<Index>id_charge</Index>
<DbTable>mylayout.property_charge</DbTable>
<Data>name_charge chargename,rule,price,id_charge</Data>
<Where/>
<queryFormat/></DbDetails><OnSelEndOk><assign name="chargerule[id_rule]" function="setsel" expr="%{chargetype[rule]}"/></OnSelEndOk></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_price"><Ctrls>
<Label Align="Right" Text="price" Name="lb_price" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_price" Name="price" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_num"><Ctrls>
<Label Align="Right" Text="num" Name="lb_num" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_num" Name="num" Size="170,20"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_year"><Ctrls>
<Label Align="Right" Text="year" Name="lb_year" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_year" Items="2019~2099" Name="year" Size="170,100"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_month"><Ctrls>
<Label Align="Right" Text="month" Name="lb_month" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_month" Items="01~12" Name="month" Size="170,100"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_chargename"><Ctrls>
<Label Align="Right" Text="chargename" Name="lb_chargename" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_chargename" Name="chargename" Size="170,20"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_chargerule"><Ctrls>
<Label Align="Right" Text="chargerule" onload="init" Name="lb_chargerule" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_chargerule" onload="init" Name="chargerule" Size="170,100">
	<DbDetails>
<Index>id_rule</Index>
<DbTable>mylayout.property_chargerule</DbTable>
<Data>name_rule,formula,id_rule</Data>
<Where/>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_meterlast"><Ctrls>
<Label Align="Right" Text="meterlast" Name="lb_meterlast" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_meterlast" Name="meterlast" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_metercur"><Ctrls>
<Label Align="Right" Text="metercur" Name="lb_metercur" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_metercur" Name="metercur" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_amount" Visible="false"><Ctrls>
<Label Align="Right" Text="amount" overlap="pre" Name="lb_amount" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_amount" overlap="pre" Name="amount" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_dt_pay" Visible="false"><Ctrls>
<Label Align="Right" Text="dt_pay" overlap="pre" Name="lb_dt_pay" readonly="true" Size="60,20" Visible="false"/>
<DateTime Weight="170" Text="" ToolTip="ttp_dt_pay" overlap="pre" Name="dt_pay" readonly="true" Size="170,20" Visible="false" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_id_payment" Visible="false"><Ctrls>
<Label Align="Right" Text="id_payment" overlap="pre" Name="lb_id_payment" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_id_payment" overlap="pre" Name="id_payment" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_id_accountant" Visible="false"><Ctrls>
<Label Align="Right" Text="id_accountant" overlap="pre" Name="lb_id_accountant" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_id_accountant" overlap="pre" Name="id_accountant" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_yy_sxid"><Ctrls>
<Label Align="Right" Text="yy_sxid" Name="lb_yy_sxid" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_yy_sxid" Name="yy_sxid" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_enteredby" Visible="false"><Ctrls>
<Label Align="Right" Text="enteredby" overlap="pre" Name="lb_enteredby" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_enteredby" overlap="pre" Name="enteredby" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_stat" Visible="false"><Ctrls>
<CheckBox Text="stat" ToolTip="ttp_stat" overlap="pre" Name="stat" readonly="true" Size="230,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_id_chargelst" Visible="false"><Ctrls>
<Label Align="Right" Text="id_chargelst" overlap="pre" Name="lb_id_chargelst" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_id_chargelst" overlap="pre" Name="id_chargelst" readonly="true" Size="170,20" Visible="false"><OnEnChange><if cond="'%{id_chargelst}'"><SetVisible name="insertproperty_chargelst" Visible="0"/><SetVisible name="modifyproperty_chargelst" Visible="1"/><else/><SetVisible name="insertproperty_chargelst" Visible="1"/><SetVisible name="modifyproperty_chargelst" Visible="0"/></if></OnEnChange></TextBox>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_chargelst_GBOPE.xml" cols="xs12 sm6 md4" Name="GBOPEproperty_chargelst" Size="100,100"><Ctrls>
<Button sqlpkinsert="id_chargelst" Text="create" ToolTip="ttp_createproperty_chargelst" Name="insertproperty_chargelst" Size="50,20">
<OnClick>
<DbDetails mode="insert" fcsm="1">
<DbTable>mylayout.property_chargelst</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>id_comm[id_comm],id_build[id_build],id_room[id_room],chargetype[id_charge],price,num,year,month,chargename,chargerule[id_rule],meterlast,metercur,yy_sxid</Data>
<DataEx>enteredby,stat;'%{user_id}',1</DataEx>
<queryFormat>insert into %{dbtable} (year,month,chargename,chargetype,chargerule,num,price,amount,id_comm,id_build,id_room,meterlast,metercur) select %{year},%{month},'%{chargename}',%{chargetype[id_charge]},%{chargetype[rule]},tnum,tprice,%{chargerule[formula]},%{id_comm[id_comm]},%{id_build[id_build]},%{id_room[id_room]},tmeterlast,tmetercur from (select %{num} as tnum,%{price} as tprice,'%{meterlast}' tmeterlast,'%{metercur}' tmetercur,area_ct tarea_ct FROM mylayout.property_room WHERE id_room='%{id_room[id_room]}') t</queryFormat></DbDetails>
<submit namelist="DbDetails"/><if cond="!%{insertproperty_chargelst[broke]}"><if cond="%{refreshAfterEdit}==1"><submit next="property_chargelstLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><if cond="'%{frmwndctrl}'"><submit next="%{frmwndctrl}" delay="1000"/><else/><submit next="$parent.property_chargelst_vLst" delay="1000"/></if></if></if>
	</OnClick>
	</Button><TAB/>
<Button Text="modify" ToolTip="ttp_modifyproperty_chargelst" Name="modifyproperty_chargelst" Size="50,20">
<OnClick>
<DbDetails mode="update" fcsm="1">
<DbTable>mylayout.property_chargelst</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>id_comm[id_comm],id_build[id_build],id_room[id_room],chargetype[id_charge],price,num,year,month,chargerule[id_rule],yy_sxid</Data>
<DataEx/>
<Where>id_chargelst='%{id_chargelst}'</Where>
<queryFormat>UPDATE mylayout.property_chargelst c JOIN (select %{num} as tnum,%{price} as tprice,'%{meterlast}' tmeterlast,'%{metercur}' tmetercur,area_ct tarea_ct FROM mylayout.property_room WHERE id_room='%{id_room[id_room]}') t set %{data},amount=%{chargerule[formula]} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><if cond="!%{modifyproperty_chargelst[broke]}"><if cond="%{refreshAfterEdit}==1"><submit next="property_chargelstLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><if cond="'%{frmwndctrl}'"><submit next="%{frmwndctrl}" delay="1000"/><else/><submit next="$parent.property_chargelst_vLst" delay="1000"/></if></if></if>
	</OnClick>
</Button><TAB/>
<Button Text="reset" ToolTip="ttp_resetproperty_chargelst" Name="resetproperty_chargelst" Size="50,20">
<OnClick>
<submit next="GBDEDITproperty_chargelst" function="reset"/>
	</OnClick>
</Button><TAB/>
<Button Text="Search" ToolTip="ttp_gsearchproperty_chargelst" Name="gsearchproperty_chargelst" Size="50,20" visible="false">
<OnClick>
<search next="property_chargelstLst" listed="0" prefixwhere="0" prefixand="0" inputed="1"/><submit next="GBDEDITproperty_chargelst" namelist="search" function="search"/>
	</OnClick>
</Button><TAB/>
</Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_chargelst_Vh.xml" cols="xs12 sm12 md12 lg12" Name="GBDVproperty_chargelst" visible="0"><Ctrls>
<ListCtrl loadedclick="1" ToolTip="ttp_property_chargelst" Name="property_chargelstLst" Size="70,20" visible="0">
	<DbDetails fcsm="1">
<Index>id_chargelst</Index>
<DbTable>mylayout.property_chargelst</DbTable>
<Data>id_comm,id_build,id_room,chargetype,price,num,year,month,chargename,chargerule,meterlast,metercur,amount,dt_pay,id_payment,id_accountant,yy_sxid,enteredby,stat,id_chargelst</Data>
<Order>id_chargelst</Order></DbDetails>
<OnClick><assign name="id_comm[id_comm]" function="SetSel" expr="%{property_chargelstLst[id_comm]}"/><assign name="id_build[id_build]" function="SetSel" expr="%{property_chargelstLst[id_build]}"/><assign name="id_room[id_room]" function="SetSel" expr="%{property_chargelstLst[id_room]}"/><assign name="chargetype[id_charge]" function="SetSel" expr="%{property_chargelstLst[chargetype]}"/><assign name="chargerule[id_rule]" function="SetSel" expr="%{property_chargelstLst[chargerule]}"/>
<if cond="%{id_chargelst}"><SetVisible name="insertproperty_chargelst" Visible="0"/><SetVisible name="modifyproperty_chargelst" Visible="1"/></if>
</OnClick>
</ListCtrl>
</Ctrls></GroupBox></Ctrls></GroupBox></Ctrls>
	<OnChanged/>
	<OnActivate><SetVisible name="insertproperty_chargelst" Visible="1"/><SetVisible name="modifyproperty_chargelst" Visible="0"/></OnActivate>
</WndTap>
</WndTaps>
<var name="searchtmpl"><id_comm format="p.id_comm='%{opvalue}'"/><id_build format="p.id_build='%{opvalue}'"/><id_room format="p.id_room='%{opvalue}'"/><chargetype format="p.chargetype='%{opvalue}'"/><price format="(p.price like '%%{opvalue}%')"/><num format="(p.num like '%%{opvalue}%')"/><year format="(p.year like '%%{opvalue}%')"/><month format="(p.month like '%%{opvalue}%')"/><chargename format="(p.chargename like '%%{opvalue}%')"/><chargerule format="p.chargerule='%{opvalue}'"/><meterlast format="(p.meterlast like '%%{opvalue}%')"/><metercur format="(p.metercur like '%%{opvalue}%')"/><amount format="(p.amount like '%%{opvalue}%')"/><dt_pay format="(p.dt_pay between '%{dt_pay[datetime]}' and '%{dt_pay[datetime2]}')"/><id_payment format="(p.id_payment like '%%{opvalue}%')"/><id_accountant format="(p.id_accountant like '%%{opvalue}%')"/><yy_sxid format="(p.yy_sxid like '%%{opvalue}%')"/><enteredby format="(p.enteredby like '%%{opvalue}%')"/><stat format="p.stat is %{opvalue}"/><id_chargelst format="(p.id_chargelst like '%%{opvalue}%')"/></var>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_chargelst.xml" name="property_chargelst">
<Lang name="property_chargelst" value="收费明细"/>
<Lang name="TabEditproperty_chargelst" value="property_chargelst Edit"/>
<Lang name="TabViewproperty_chargelst" value="property_chargelst View"/>
<Lang name="chargetype" value="收费类别"/>
<Lang name="ttp_chargetype" value=""/>
<Lang name="price" value="单价"/>
<Lang name="ttp_price" value=""/>
<Lang name="num" value="数量"/>
<Lang name="ttp_num" value=""/>
<Lang name="year" value="年"/>
<Lang name="ttp_year" value=""/>
<Lang name="month" value="月"/>
<Lang name="ttp_month" value=""/>
<Lang name="chargename" value="收费名称"/>
<Lang name="ttp_chargename" value=""/>
<Lang name="chargerule" value="计费规则"/>
<Lang name="ttp_chargerule" value=""/>
<Lang name="meterlast" value=""/>
<Lang name="ttp_meterlast" value=""/>
<Lang name="metercur" value=""/>
<Lang name="ttp_metercur" value=""/>
<Lang name="amount" value=""/>
<Lang name="ttp_amount" value=""/>
<Lang name="dt_pay" value=""/>
<Lang name="ttp_dt_pay" value=""/>
<Lang name="id_payment" value=""/>
<Lang name="ttp_id_payment" value=""/>
<Lang name="id_accountant" value=""/>
<Lang name="ttp_id_accountant" value=""/>
<Lang name="yy_sxid" value=""/>
<Lang name="ttp_yy_sxid" value=""/>
<Lang name="enteredby" value=""/>
<Lang name="ttp_enteredby" value=""/>
<Lang name="stat" value=""/>
<Lang name="ttp_stat" value="0--payed;1--payable"/>
<Lang name="idx" value=""/>
<Lang name="ttp_idx" value=""/>
<Lang name="ttp_operationproperty_chargelst" value=""/>
<Lang name="ttp_createproperty_chargelst" value=""/>
<Lang name="ttp_modifyproperty_chargelst" value=""/>
<Lang name="ttp_resetproperty_chargelst" value=""/>
<Lang name="ttp_deleteproperty_chargelst" value=""/>
<Lang name="ttp_refreshproperty_chargelst" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Ctrls><GroupBox Text="property_chargelst" Name="GBproperty_chargelst" id="property_chargelst" Size="100,100"><Ctrls>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_chargelst_Vs.xml" text="Search" toggle="1" Name="GBDEDITproperty_chargelst"><Ctrls>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_id_comm"><Ctrls>
<Label Align="Right" Text="id_comm" onload="init" Name="lb_id_comm" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_id_comm" onload="init" Name="id_comm" Size="170,100">
	<DbDetails>
<Index>id_comm</Index>
<DbTable>mylayout.property_community</DbTable>
<Data>name_comm,id_comm</Data>
<Where/>
<queryFormat/></DbDetails><OnSELENDOK><if cond="%{id_comm[id_comm]}"><submit next="id_build"/><else/><submit next="id_build" function="resetcontent"/><submit next="id_room" function="resetcontent"/></if></OnSELENDOK></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_id_build"><Ctrls>
<Label Align="Right" Text="id_build" Name="lb_id_build" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_id_build" Name="id_build" Size="170,100">
	<DbDetails>
<Index>id_build</Index>
<DbTable>mylayout.property_building</DbTable>
<Data>name_build,id_build</Data>
<Where>id_comm='%{id_comm[id_comm]}'</Where>
<queryFormat/></DbDetails><OnSELENDOK><if cond="%{id_build[id_build]}"><submit next="id_room"/><else/><submit next="id_room" function="resetcontent"/></if></OnSELENDOK></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_id_room"><Ctrls>
<Label Align="Right" Text="id_room" Name="lb_id_room" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_id_room" Name="id_room" Size="170,100">
	<DbDetails>
<Index>id_room</Index>
<DbTable>mylayout.property_room</DbTable>
<Data>name_room,id_room</Data>
<Where>id_comm='%{id_comm[id_comm]}' and id_build='%{id_build[id_build]}'</Where>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_chargetype"><Ctrls>
<Label Align="Right" Text="chargetype" onload="init" Name="lb_chargetype" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_chargetype" onload="init" Name="chargetype" Size="170,100">
	<DbDetails fcsm="true">
<Index>id_charge</Index>
<DbTable>mylayout.property_charge</DbTable>
<Data>name_charge chargename,rule,price,id_charge</Data>
<Where/>
<queryFormat/></DbDetails><OnSelEndOk><assign name="chargerule[id_rule]" function="setsel" expr="%{chargetype[rule]}"/></OnSelEndOk></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_year"><Ctrls>
<Label Align="Right" Text="year" Name="lb_year" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_year" Items="2019~2099" Name="year" Size="170,100"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_month"><Ctrls>
<Label Align="Right" Text="month" Name="lb_month" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_month" Items="01~12" Name="month" Size="170,100"/>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Name="GBOPVproperty_chargelst" Size="100,20"><Ctrls>
<Button Text="addone" ToolTip="ttp_addone" Name="addone" Size="50,20">	<OnClick><submit next="$this.property_chargelst.GBDEDITproperty_chargelst" function="reset"/><assign name="$this.property_chargelst.frmwndctrl" expr="%{$this.property_chargelst_vLst}"/></OnClick>	</Button><TAB/>	
<Button Text="reset" ToolTip="ttp_resetproperty_chargelst" Name="resetproperty_chargelst" Size="50,20">	<OnClick>	<submit next="GBDEDITproperty_chargelst" function="reset"/>	</OnClick>	</Button><TAB/>	
<Button Text="Search" ToolTip="ttp_gsearchproperty_chargelst" Name="gsearchproperty_chargelst" Size="50,20">	<OnClick>	
<search next="property_chargelst_vLst" listed="0" prefixwhere="1" prefixand="0" inputed="1">%{searchtmpl}</search><submit next="GBDEDITproperty_chargelst" namelist="search" function="search"/>	
<search next="records_property_chargelst" listed="0" prefixwhere="1" prefixand="0" inputed="1">%{searchtmpl}</search><submit next="GBDEDITproperty_chargelst" namelist="search" function="search"/>	
</OnClick></Button><TAB/></Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_chargelst_Vpg.xml" cols="xs12 sm6 md4" Multiline="0" Name="GBPGproperty_chargelst"><Ctrls>
<Label Align="Right" Text="Records" Name="lb_Records" Size="60,20"/>
<TextBox Weight="30" ToolTip="ttp_records" OnLoad="init" Name="records_property_chargelst" readonly="1" Size="30,20">
	<DbDetails fcsm="1">
<Index>id_chargelst</Index>
<DbTable>mylayout.property_chargelst p left join mylayout.property_community p0 on p.id_comm=p0.id_comm left join mylayout.property_building p1 on p.id_build=p1.id_build left join mylayout.property_room p2 on p.id_room=p2.id_room left join mylayout.property_charge p3 on p.chargetype=p3.id_charge left join mylayout.property_chargerule p4 on p.chargerule=p4.id_rule</DbTable>
<Data>count(*) records</Data>
<Order>id_chargelst</Order><Queryformat>select %{data} from (select p.id_chargelst from %{dbtable} %{where} GROUP BY p.id_chargelst  ORDER BY p.id_chargelst) t</Queryformat></DbDetails>
<OnEnchange>
<assign name="pgs_property_chargelst" expr="js(Math.ceil(%{records_property_chargelst}/%{property_chargelst_vLst[countsperpage]}))"/>
<assign name="pgscb_property_chargelst" function="setitems" expr="js('1~'+Math.ceil(%{records_property_chargelst}/%{property_chargelst_vLst[countsperpage]}))"/>
</OnEnchange>
</TextBox>

<TextBox Weight="30" ToolTip="ttp_pgs" Name="pgs_property_chargelst" readonly="1" Size="30,20"/>
<TextBox Weight="30" ToolTip="ttp_pgcur" Name="pgcur_property_chargelst" Size="30,20"/>
<Button Text="go2Page" Name="go2pageproperty_chargelst_vLst" Size="50,20"><OnClick><submit next="property_chargelst_vLst" function="GetPage(%{pgcur_property_chargelst}-1)"/></OnClick></Button>
</Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_chargelst_Vpgop.xml" cols="xs12 sm6 md4" Name="GBOPVproperty_chargelst" Size="100,10"><Ctrls>
<TAB/><Button Text="initial" ToolTip="ttp_initial" Name="initialproperty_chargelst" Size="50,20">
<OnClick><submit next="property_chargelst_vLst" function="initial"/><submit next="records_property_chargelst" function="initial"/></OnClick></Button>
<TAB/><Button Text="firstpage" Name="FPproperty_chargelst_vLst" Size="50,20">
<OnClick><submit next="property_chargelst_vLst" function="GetPage(first)"/><submit next="records_property_chargelst"/></OnClick></Button>
<Button Text="prepage" Name="PREproperty_chargelst_vLst" Size="50,20">
<OnClick><submit next="property_chargelst_vLst" function="GetPage(Pre)"/></OnClick></Button>
<Button Text="nextpage" Name="NPproperty_chargelst_vLst" Size="50,20">
<OnClick><submit next="property_chargelst_vLst" function="GetPage(Next)"/></OnClick></Button>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_chargelst_Vv.xml" cols="xs12 sm12 md12 lg12" Name="GBDVproperty_chargelst"><Ctrls>
<ListCtrl Heading="id_comm,120;id_build,120;id_room,120;chargetype,120;price,90;num,90;year,120;month,120;chargename,100;chargerule,120;meterlast,90;metercur,90;amount,90;dt_pay,150;id_payment,55;id_accountant,55;yy_sxid,55;enteredby,55;stat,60;id_chargelst,55;" loadedclick="0" ToolTip="ttp_property_chargelst_v" OnLoad="init" Name="property_chargelst_vLst" Size="700,450">
	<DbDetails>
<Index>id_chargelst</Index>
<DbTable>mylayout.property_chargelst p left join mylayout.property_community p0 on p.id_comm=p0.id_comm left join mylayout.property_building p1 on p.id_build=p1.id_build left join mylayout.property_room p2 on p.id_room=p2.id_room left join mylayout.property_charge p3 on p.chargetype=p3.id_charge left join mylayout.property_chargerule p4 on p.chargerule=p4.id_rule</DbTable>
<Data>p0.name_comm id_comm,p1.name_build id_build,p2.name_room id_room,name_charge chargename,p.price,p.num,p.year,p.month,p.chargename,p4.name_rule chargerule,p.meterlast,p.metercur,p.amount,p.dt_pay,p.id_payment,p.id_accountant,p.yy_sxid,p.enteredby,p.stat,p.id_chargelst</Data>
<Order>id_chargelst</Order></DbDetails>
<DbDetails><queryFormat xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\biztools\mysqlcfg.xml" id="tbpages">select %{data} from %{dbtable} %{where} limit %{StartRow},%{PgSize}</queryFormat></DbDetails>
<operator firstpage="1" nextpage="1" refresh="1" prepage="1">
<op text="modify"><DbDetails><Where>id_chargelst='%{property_chargelst_vLst[id_chargelst]}'</Where></DbDetails><submit next="$this.property_chargelst.property_chargelstLst" namelist="DbDetails"/><assign name="$this.property_chargelst.frmwndctrl" expr="%{this}"/></op>
<op text="delete" needconfirm="1"><DbDetails>
<DbTable>mylayout.property_chargelst</DbTable>
<Where>id_chargelst='%{property_chargelst_vLst[id_chargelst]}'</Where>
<queryFormat>delete from %{table} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><submit/></op>
</operator>
<OnChanged>
<assign name="pgcur_property_chargelst" expr="js(%{property_chargelst_vLst[currentpage]}+1)"/>
<assign name="pgscb_property_chargelst" function="SetSel" expr="js(%{property_chargelst_vLst[currentpage]}+1)"/>
</OnChanged></ListCtrl>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
</Ctrls></WndTap>
	<WndTap xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_repairs_v.xml" Text="property_repairs" Name="property_repairs_v">
<WndTaps>
<WndTap xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_repairs_Ve.xml" Text="property_repairs" Name="property_repairs" popup="1" Ver="2">
<var name="refreshAfterEdit" expr="2"/>
<var name="dataRequired" expr="requester,phone,repair_tp[idx],addr_request"/>
<var name="dataRequireless" expr=""/>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_repairs.xml" name="property_repairs">
<Lang name="property_repairs" value="维修管理"/>
<Lang name="TabEditproperty_repairs" value="property_repairs Edit"/>
<Lang name="TabViewproperty_repairs" value="property_repairs View"/>
<Lang name="requester" value="报 修 人"/>
<Lang name="ttp_requester" value=""/>
<Lang name="dt_request" value="报修时间"/>
<Lang name="ttp_dt_request" value=""/>
<Lang name="phone" value="联系电话"/>
<Lang name="ttp_phone" value=""/>
<Lang name="addr_request" value="报修地点"/>
<Lang name="ttp_addr_request" value=""/>
<Lang name="remark" value=""/>
<Lang name="ttp_remark" value=""/>
<Lang name="dt2repair" value="维修时间"/>
<Lang name="ttp_dt2repair" value=""/>
<Lang name="staff2repair" value="维修人员"/>
<Lang name="ttp_staff2repair" value=""/>
<Lang name="stat4repair" value="维修状态"/>
<Lang name="ttp_stat4repair" value="0--under repair;1--repaired"/>
<Lang name="dealwith" value="处理方式"/>
<Lang name="ttp_dealwith" value="0--repaired;1--replace;2--added;3--other"/>
<Lang name="dealwithinfo" value=""/>
<Lang name="ttp_dealwithinfo" value=""/>
<Lang name="dt_interview" value="回访时间"/>
<Lang name="ttp_dt_interview" value=""/>
<Lang name="interviewer" value="回访人"/>
<Lang name="ttp_interviewer" value=""/>
<Lang name="interviewinfo" value="回访情况"/>
<Lang name="ttp_interviewinfo" value=""/>
<Lang name="issues_remain" value="遗留问题"/>
<Lang name="ttp_issues_remain" value=""/>
<Lang name="repair_tp" value="报修类别"/>
<Lang name="ttp_repair_tp" value=""/>
<Lang name="staff2enter" value=""/>
<Lang name="ttp_staff2enter" value=""/>
<Lang name="acceptance" value=""/>
<Lang name="ttp_acceptance" value=""/>
<Lang name="satisfaction" value=""/>
<Lang name="ttp_satisfaction" value="0--not satisfy;1--satisfied;2--very satisfied"/>
<Lang name="interviewby" value=""/>
<Lang name="ttp_interviewby" value=""/>
<Lang name="id_corp" value=""/>
<Lang name="ttp_id_corp" value=""/>
<Lang name="idx" value=""/>
<Lang name="ttp_idx" value=""/>
<Lang name="ttp_operationproperty_repairs" value=""/>
<Lang name="ttp_createproperty_repairs" value=""/>
<Lang name="ttp_modifyproperty_repairs" value=""/>
<Lang name="ttp_resetproperty_repairs" value=""/>
<Lang name="ttp_deleteproperty_repairs" value=""/>
<Lang name="ttp_refreshproperty_repairs" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Ctrls>
<GroupBox Text="property_repairs" Name="GBproperty_repairs" id="property_repairs" Size="100,100"><Ctrls>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_repairs_GBDEDIT.xml" Name="GBDEDITproperty_repairs"><Ctrls>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_requester"><Ctrls>
<Label Align="Right" Text="requester" Name="lb_requester" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_requester" Name="requester" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_phone"><Ctrls>
<Label Align="Right" Text="phone" Name="lb_phone" Size="60,20"/>
<TextBox Weight="150" Text="" ToolTip="ttp_phone" Name="phone" Size="150,20"/>
<MagicCtrl ToolTip="DialToCall" Name="dialphone" OnClick="nis3ucs:%{phone}" images=" ,data/startcall_green.png" button="type:0" Size="20,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_repair_tp"><Ctrls>
<Label Align="Right" Text="repair_tp" onload="init" Name="lb_repair_tp" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_repair_tp" onload="init" Name="repair_tp" Size="170,100">
	<DbDetails>
<Index>idx</Index>
<DbTable>mylayout.property_repairtp</DbTable>
<Data>name,idx</Data>
<Where/>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_stat4repair" Visible="false"><Ctrls>
<Label Align="Right" Text="stat4repair" overlap="pre" Name="lb_stat4repair" readonly="true" Size="60,20" Visible="false"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_stat4repair" overlap="pre" Name="stat4repair" readonly="true" Size="170,100" Visible="false">
	<DbDetails>
<Index>status_id</Index>
<DbTable>mylayout.statusinfo</DbTable>
<Data>description,status_id</Data>
<Where>status_type='repair'</Where>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_addr_request"><Ctrls>
<Label Align="Right" Text="addr_request" Name="lb_addr_request" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_addr_request" Name="addr_request" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_remark"><Ctrls>
<Label Align="Right" Text="remark" Name="lb_remark" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_remark" Name="remark" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_dt_request" Visible="false"><Ctrls>
<Label Align="Right" Text="dt_request" overlap="pre" Name="lb_dt_request" readonly="true" Size="60,20" Visible="false"/>
<DateTime Weight="170" Text="" ToolTip="ttp_dt_request" overlap="pre" Name="dt_request" readonly="true" Size="170,20" Visible="false" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_dealwith" Visible="false"><Ctrls>
<Label Align="Right" Text="dealwith" overlap="pre" Name="lb_dealwith" readonly="true" Size="60,20" Visible="false"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_dealwith" overlap="pre" Name="dealwith" readonly="true" Size="170,100" Visible="false">
	<DbDetails>
<Index>dealwith_id</Index>
<DbTable>mylayout.dealwith</DbTable>
<Data>description,dealwith_id</Data>
<Where>dealwith_type='repair'</Where>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_dealwithinfo" Visible="false"><Ctrls>
<Label Align="Right" Text="dealwithinfo" overlap="pre" Name="lb_dealwithinfo" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_dealwithinfo" overlap="pre" Name="dealwithinfo" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_dt2repair" Visible="false"><Ctrls>
<Label Align="Right" Text="dt2repair" overlap="pre" Name="lb_dt2repair" readonly="true" Size="60,20" Visible="false"/>
<DateTime Weight="170" Text="" ToolTip="ttp_dt2repair" overlap="pre" Name="dt2repair" readonly="true" Size="170,20" Visible="false" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_staff2repair" Visible="false"><Ctrls>
<Label Align="Right" Text="staff2repair" overlap="pre" Name="lb_staff2repair" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_staff2repair" overlap="pre" Name="staff2repair" readonly="true" Size="170,20" Visible="false">
	<DbDetails>
<Index>user_code</Index>
<DbTable>mylayout.userlogin</DbTable>
<Data>user_name,user_code</Data>
<Where/>
<queryFormat/></DbDetails></TextBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_satisfaction" Visible="false"><Ctrls>
<Label Align="Right" Text="satisfaction" overlap="pre" Name="lb_satisfaction" readonly="true" Size="60,20" Visible="false"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_satisfaction" overlap="pre" Name="satisfaction" readonly="true" Size="170,100" Visible="false">
	<DbDetails>
<Index>id_satisfaction</Index>
<DbTable>mylayout.satisfaction</DbTable>
<Data>satisfaction,id_satisfaction</Data>
<Where/>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_interviewinfo" Visible="false"><Ctrls>
<Label Align="Right" Text="interviewinfo" overlap="pre" Name="lb_interviewinfo" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_interviewinfo" overlap="pre" Name="interviewinfo" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_issues_remain" Visible="false"><Ctrls>
<Label Align="Right" Text="issues_remain" overlap="pre" Name="lb_issues_remain" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_issues_remain" overlap="pre" Name="issues_remain" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_dt_interview" Visible="false"><Ctrls>
<Label Align="Right" Text="dt_interview" overlap="pre" Name="lb_dt_interview" readonly="true" Size="60,20" Visible="false"/>
<DateTime Weight="170" Text="" ToolTip="ttp_dt_interview" overlap="pre" Name="dt_interview" readonly="true" Size="170,20" Visible="false" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_interviewby" Visible="false"><Ctrls>
<Label Align="Right" Text="interviewby" overlap="pre" Name="lb_interviewby" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_interviewby" overlap="pre" Name="interviewby" readonly="true" Size="170,20" Visible="false">
	<DbDetails>
<Index>user_code</Index>
<DbTable>mylayout.userlogin</DbTable>
<Data>user_name,user_code</Data>
<Where/>
<queryFormat/></DbDetails></TextBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_staff2enter" Visible="false"><Ctrls>
<Label Align="Right" Text="staff2enter" overlap="pre" Name="lb_staff2enter" readonly="true" Size="60,20" Visible="false"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_staff2enter" overlap="pre" Name="staff2enter" readonly="true" Size="170,100" Visible="false">
	<DbDetails>
<Index>user_code</Index>
<DbTable>mylayout.userlogin</DbTable>
<Data>user_name,user_code</Data>
<Where/>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_acceptance"><Ctrls>
<Label Align="Right" Text="acceptance" Name="lb_acceptance" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_acceptance" Name="acceptance" Size="170,20"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_id_comm"><Ctrls>
<Label Align="Right" Text="id_comm" onload="init" Name="lb_id_comm" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_id_comm" onload="init" Name="id_comm" Size="170,100">
	<DbDetails>
<Index>id_comm</Index>
<DbTable>mylayout.property_community</DbTable>
<Data>name_comm,id_comm</Data>
<Where/>
<queryFormat/></DbDetails><OnSELENDOK><if cond="%{id_comm[id_comm]}"><submit next="id_build"/><else/><submit next="id_build" function="resetcontent"/><submit next="id_room" function="resetcontent"/></if></OnSELENDOK></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_id_build"><Ctrls>
<Label Align="Right" Text="id_build" Name="lb_id_build" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_id_build" Name="id_build" Size="170,100">
	<DbDetails>
<Index>id_build</Index>
<DbTable>mylayout.property_building</DbTable>
<Data>name_build,id_build</Data>
<Where>id_comm='%{id_comm[id_comm]}'</Where>
<queryFormat/></DbDetails><OnSELENDOK><if cond="%{id_build[id_build]}"><submit next="id_room"/><else/><submit next="id_room" function="resetcontent"/></if></OnSELENDOK></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_id_room"><Ctrls>
<Label Align="Right" Text="id_room" Name="lb_id_room" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_id_room" Name="id_room" Size="170,100">
	<DbDetails>
<Index>id_room</Index>
<DbTable>mylayout.property_room</DbTable>
<Data>name_room,owner,ownerphone,id_room</Data>
<Where>id_comm='%{id_comm[id_comm]}' and id_build='%{id_build[id_build]}'</Where>
<queryFormat/></DbDetails><OnSelEndOk><if cond="!'%{requester}'"><assign name="requester" expr="%{id_room[owner]}"/></if><if cond="!'%{phone}'"><assign name="phone" expr="%{id_room[ownerphone]}"/></if></OnSelEndOk></ComboBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_id_corp"><Ctrls>
<Label Align="Right" Text="id_corp" Name="lb_id_corp" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_id_corp" Name="id_corp" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_id_repairs" Visible="false"><Ctrls>
<Label Align="Right" Text="id_repairs" overlap="pre" Name="lb_id_repairs" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_id_repairs" overlap="pre" Name="id_repairs" readonly="true" Size="170,20" Visible="false"><OnEnChange><if cond="'%{id_repairs}'"><SetVisible name="insertproperty_repairs" Visible="0"/><SetVisible name="modifyproperty_repairs" Visible="1"/><else/><SetVisible name="insertproperty_repairs" Visible="1"/><SetVisible name="modifyproperty_repairs" Visible="0"/></if></OnEnChange></TextBox>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_repairs_GBOPE.xml" cols="xs12 sm6 md4" Name="GBOPEproperty_repairs" Size="100,100"><Ctrls>
<Button sqlpkinsert="id_repairs" Text="create" ToolTip="ttp_createproperty_repairs" Name="insertproperty_repairs" Size="50,20">
<OnClick>
<DbDetails mode="insert" fcsm="1">
<DbTable>mylayout.property_repairs</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>requester,phone,repair_tp[idx],addr_request,remark,dealwith[dealwith_id],acceptance,id_comm[id_comm],id_build[id_build],id_room[id_room],id_corp</Data>
<DataEx>dt_request,staff2enter;now(),'%{user_id}'</DataEx>
<queryFormat>insert into %{table} %{data}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><if cond="!%{insertproperty_repairs[broke]}"><if cond="%{refreshAfterEdit}==1"><submit next="property_repairsLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><if cond="'%{frmwndctrl}'"><submit next="%{frmwndctrl}" delay="1000"/><else/><submit next="$parent.property_repairs_vLst" delay="1000"/></if></if></if>
	</OnClick>
	</Button><TAB/>
<Button Text="modify" ToolTip="ttp_modifyproperty_repairs" Name="modifyproperty_repairs" Size="50,20">
<OnClick>
<DbDetails mode="update" fcsm="1">
<DbTable>mylayout.property_repairs</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>requester,phone,repair_tp[idx],addr_request,remark,dealwith[dealwith_id],acceptance,id_comm[id_comm],id_build[id_build],id_room[id_room],id_corp</Data>
<DataEx/>
<Where>id_repairs='%{id_repairs}'</Where>
<queryFormat>update %{table} set %{data} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><if cond="!%{modifyproperty_repairs[broke]}"><if cond="%{refreshAfterEdit}==1"><submit next="property_repairsLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><if cond="'%{frmwndctrl}'"><submit next="%{frmwndctrl}" delay="1000"/><else/><submit next="$parent.property_repairs_vLst" delay="1000"/></if></if></if>
	</OnClick>
</Button><TAB/>
<Button Text="reset" ToolTip="ttp_resetproperty_repairs" Name="resetproperty_repairs" Size="50,20">
<OnClick>
<submit next="GBDEDITproperty_repairs" function="reset"/>
	</OnClick>
</Button><TAB/>
<Button Text="Search" ToolTip="ttp_gsearchproperty_repairs" Name="gsearchproperty_repairs" Size="50,20" visible="false">
<OnClick>
<search next="property_repairsLst" listed="0" prefixwhere="0" prefixand="0" inputed="1"/><submit next="GBDEDITproperty_repairs" namelist="search" function="search"/>
	</OnClick>
</Button><TAB/>
</Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_repairs_Vh.xml" cols="xs12 sm12 md12 lg12" Name="GBDVproperty_repairs" visible="0"><Ctrls>
<ListCtrl loadedclick="1" ToolTip="ttp_property_repairs" Name="property_repairsLst" Size="70,20" visible="0">
	<DbDetails fcsm="1">
<Index>id_repairs</Index>
<DbTable>mylayout.property_repairs</DbTable>
<Data>requester,phone,repair_tp,stat4repair,addr_request,remark,dt_request,dealwith,dealwithinfo,dt2repair,staff2repair,satisfaction,interviewinfo,issues_remain,dt_interview,interviewby,staff2enter,acceptance,id_comm,id_build,id_room,id_corp,id_repairs</Data>
<Order>id_repairs</Order></DbDetails>
<OnClick><assign name="repair_tp[idx]" function="SetSel" expr="%{property_repairsLst[repair_tp]}"/><assign name="stat4repair[status_id]" function="SetSel" expr="%{property_repairsLst[stat4repair]}"/><assign name="dealwith[dealwith_id]" function="SetSel" expr="%{property_repairsLst[dealwith]}"/><assign name="staff2repair[user_code]" function="SetSel" expr="%{property_repairsLst[staff2repair]}"/><assign name="satisfaction[id_satisfaction]" function="SetSel" expr="%{property_repairsLst[satisfaction]}"/><assign name="interviewby[user_code]" function="SetSel" expr="%{property_repairsLst[interviewby]}"/><assign name="staff2enter[user_code]" function="SetSel" expr="%{property_repairsLst[staff2enter]}"/><assign name="id_comm[id_comm]" function="SetSel" expr="%{property_repairsLst[id_comm]}"/><assign name="id_build[id_build]" function="SetSel" expr="%{property_repairsLst[id_build]}"/><assign name="id_room[id_room]" function="SetSel" expr="%{property_repairsLst[id_room]}"/>
<if cond="%{id_repairs}"><SetVisible name="insertproperty_repairs" Visible="0"/><SetVisible name="modifyproperty_repairs" Visible="1"/></if>
</OnClick>
</ListCtrl>
</Ctrls></GroupBox></Ctrls></GroupBox></Ctrls>
	<OnChanged/>
	<OnActivate><SetVisible name="insertproperty_repairs" Visible="1"/><SetVisible name="modifyproperty_repairs" Visible="0"/></OnActivate>
</WndTap>
</WndTaps>
<var name="searchtmpl"><requester format="(p.requester like '%%{opvalue}%')"/><phone format="(p.phone like '%%{opvalue}%')"/><repair_tp format="p.repair_tp='%{opvalue}'"/><stat4repair format="p.stat4repair='%{opvalue}'"/><addr_request format="(p.addr_request like '%%{opvalue}%')"/><remark format="(p.remark like '%%{opvalue}%')"/><dt_request format="(p.dt_request between '%{dt_request[datetime]}' and '%{dt_request[datetime2]}')"/><dealwith format="p.dealwith='%{opvalue}'"/><dealwithinfo format="(p.dealwithinfo like '%%{opvalue}%')"/><dt2repair format="(p.dt2repair between '%{dt2repair[datetime]}' and '%{dt2repair[datetime2]}')"/><staff2repair format="p.staff2repair='%{opvalue}'"/><satisfaction format="p.satisfaction='%{opvalue}'"/><interviewinfo format="(p.interviewinfo like '%%{opvalue}%')"/><issues_remain format="(p.issues_remain like '%%{opvalue}%')"/><dt_interview format="(p.dt_interview between '%{dt_interview[datetime]}' and '%{dt_interview[datetime2]}')"/><interviewby format="p.interviewby='%{opvalue}'"/><staff2enter format="p.staff2enter='%{opvalue}'"/><acceptance format="(p.acceptance like '%%{opvalue}%')"/><id_comm format="p.id_comm='%{opvalue}'"/><id_build format="p.id_build='%{opvalue}'"/><id_room format="p.id_room='%{opvalue}'"/><id_corp format="(p.id_corp like '%%{opvalue}%')"/><id_repairs format="(p.id_repairs like '%%{opvalue}%')"/></var>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_repairs.xml" name="property_repairs">
<Lang name="property_repairs" value="维修管理"/>
<Lang name="TabEditproperty_repairs" value="property_repairs Edit"/>
<Lang name="TabViewproperty_repairs" value="property_repairs View"/>
<Lang name="requester" value="报 修 人"/>
<Lang name="ttp_requester" value=""/>
<Lang name="dt_request" value="报修时间"/>
<Lang name="ttp_dt_request" value=""/>
<Lang name="phone" value="联系电话"/>
<Lang name="ttp_phone" value=""/>
<Lang name="addr_request" value="报修地点"/>
<Lang name="ttp_addr_request" value=""/>
<Lang name="remark" value=""/>
<Lang name="ttp_remark" value=""/>
<Lang name="dt2repair" value="维修时间"/>
<Lang name="ttp_dt2repair" value=""/>
<Lang name="staff2repair" value="维修人员"/>
<Lang name="ttp_staff2repair" value=""/>
<Lang name="stat4repair" value="维修状态"/>
<Lang name="ttp_stat4repair" value="0--under repair;1--repaired"/>
<Lang name="dealwith" value="处理方式"/>
<Lang name="ttp_dealwith" value="0--repaired;1--replace;2--added;3--other"/>
<Lang name="dealwithinfo" value=""/>
<Lang name="ttp_dealwithinfo" value=""/>
<Lang name="dt_interview" value="回访时间"/>
<Lang name="ttp_dt_interview" value=""/>
<Lang name="interviewer" value="回访人"/>
<Lang name="ttp_interviewer" value=""/>
<Lang name="interviewinfo" value="回访情况"/>
<Lang name="ttp_interviewinfo" value=""/>
<Lang name="issues_remain" value="遗留问题"/>
<Lang name="ttp_issues_remain" value=""/>
<Lang name="repair_tp" value="报修类别"/>
<Lang name="ttp_repair_tp" value=""/>
<Lang name="staff2enter" value=""/>
<Lang name="ttp_staff2enter" value=""/>
<Lang name="acceptance" value=""/>
<Lang name="ttp_acceptance" value=""/>
<Lang name="satisfaction" value=""/>
<Lang name="ttp_satisfaction" value="0--not satisfy;1--satisfied;2--very satisfied"/>
<Lang name="interviewby" value=""/>
<Lang name="ttp_interviewby" value=""/>
<Lang name="id_corp" value=""/>
<Lang name="ttp_id_corp" value=""/>
<Lang name="idx" value=""/>
<Lang name="ttp_idx" value=""/>
<Lang name="ttp_operationproperty_repairs" value=""/>
<Lang name="ttp_createproperty_repairs" value=""/>
<Lang name="ttp_modifyproperty_repairs" value=""/>
<Lang name="ttp_resetproperty_repairs" value=""/>
<Lang name="ttp_deleteproperty_repairs" value=""/>
<Lang name="ttp_refreshproperty_repairs" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Ctrls><GroupBox Text="property_repairs" Name="GBproperty_repairs" id="property_repairs" Size="100,100"><Ctrls>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_repairs_Vs.xml" text="Search" toggle="1" Name="GBDEDITproperty_repairs"><Ctrls>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_requester"><Ctrls>
<Label Align="Right" Text="requester" Name="lb_requester" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_requester" Name="requester" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_phone"><Ctrls>
<Label Align="Right" Text="phone" Name="lb_phone" Size="60,20"/>
<TextBox Weight="150" Text="" ToolTip="ttp_phone" Name="phone" Size="150,20"/>
<MagicCtrl ToolTip="DialToCall" Name="dialphone" OnClick="nis3ucs:%{phone}" images=" ,data/startcall_green.png" button="type:0" Size="20,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_addr_request"><Ctrls>
<Label Align="Right" Text="addr_request" Name="lb_addr_request" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_addr_request" Name="addr_request" Size="170,20"/>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Name="GBOPVproperty_repairs" Size="100,20"><Ctrls>
<Button Text="addone" ToolTip="ttp_addone" Name="addone" Size="50,20">	<OnClick><submit next="$this.property_repairs.GBDEDITproperty_repairs" function="reset"/><assign name="$this.property_repairs.frmwndctrl" expr="%{$this.property_repairs_vLst}"/></OnClick>	</Button><TAB/>	
<Button Text="reset" ToolTip="ttp_resetproperty_repairs" Name="resetproperty_repairs" Size="50,20">	<OnClick>	<submit next="GBDEDITproperty_repairs" function="reset"/>	</OnClick>	</Button><TAB/>	
<Button Text="Search" ToolTip="ttp_gsearchproperty_repairs" Name="gsearchproperty_repairs" Size="50,20">	<OnClick>	
<search next="property_repairs_vLst" listed="0" prefixwhere="1" prefixand="0" inputed="1">%{searchtmpl}</search><submit next="GBDEDITproperty_repairs" namelist="search" function="search"/>	
<search next="records_property_repairs" listed="0" prefixwhere="1" prefixand="0" inputed="1">%{searchtmpl}</search><submit next="GBDEDITproperty_repairs" namelist="search" function="search"/>	
</OnClick></Button><TAB/></Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_repairs_Vpg.xml" cols="xs12 sm6 md4" Multiline="0" Name="GBPGproperty_repairs"><Ctrls>
<Label Align="Right" Text="Records" Name="lb_Records" Size="60,20"/>
<TextBox Weight="30" ToolTip="ttp_records" OnLoad="init" Name="records_property_repairs" readonly="1" Size="30,20">
	<DbDetails fcsm="1">
<Index>id_repairs</Index>
<DbTable>mylayout.property_repairs p left join mylayout.property_repairtp p0 on p.repair_tp=p0.idx left join mylayout.statusinfo s on p.stat4repair=s.status_id left join mylayout.dealwith d on p.dealwith=d.dealwith_id left join mylayout.userlogin u on p.staff2repair=u.user_code left join mylayout.satisfaction s0 on p.satisfaction=s0.id_satisfaction left join mylayout.userlogin u0 on p.interviewby=u0.user_code left join mylayout.userlogin u1 on p.staff2enter=u1.user_code left join mylayout.property_community p1 on p.id_comm=p1.id_comm left join mylayout.property_building p2 on p.id_build=p2.id_build left join mylayout.property_room p3 on p.id_room=p3.id_room</DbTable>
<Data>count(*) records</Data>
<Order>id_repairs</Order><Queryformat>select %{data} from (select p.id_repairs from %{dbtable} %{where} GROUP BY p.id_repairs  ORDER BY p.id_repairs) t</Queryformat></DbDetails>
<OnEnchange>
<assign name="pgs_property_repairs" expr="js(Math.ceil(%{records_property_repairs}/%{property_repairs_vLst[countsperpage]}))"/>
<assign name="pgscb_property_repairs" function="setitems" expr="js('1~'+Math.ceil(%{records_property_repairs}/%{property_repairs_vLst[countsperpage]}))"/>
</OnEnchange>
</TextBox>

<TextBox Weight="30" ToolTip="ttp_pgs" Name="pgs_property_repairs" readonly="1" Size="30,20"/>
<TextBox Weight="30" ToolTip="ttp_pgcur" Name="pgcur_property_repairs" Size="30,20"/>
<Button Text="go2Page" Name="go2pageproperty_repairs_vLst" Size="50,20"><OnClick><submit next="property_repairs_vLst" function="GetPage(%{pgcur_property_repairs}-1)"/></OnClick></Button>
</Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_repairs_Vpgop.xml" cols="xs12 sm6 md4" Name="GBOPVproperty_repairs" Size="100,10"><Ctrls>
<TAB/><Button Text="initial" ToolTip="ttp_initial" Name="initialproperty_repairs" Size="50,20">
<OnClick><submit next="property_repairs_vLst" function="initial"/><submit next="records_property_repairs" function="initial"/></OnClick></Button>
<TAB/><Button Text="firstpage" Name="FPproperty_repairs_vLst" Size="50,20">
<OnClick><submit next="property_repairs_vLst" function="GetPage(first)"/><submit next="records_property_repairs"/></OnClick></Button>
<Button Text="prepage" Name="PREproperty_repairs_vLst" Size="50,20">
<OnClick><submit next="property_repairs_vLst" function="GetPage(Pre)"/></OnClick></Button>
<Button Text="nextpage" Name="NPproperty_repairs_vLst" Size="50,20">
<OnClick><submit next="property_repairs_vLst" function="GetPage(Next)"/></OnClick></Button>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_repairs_Vv.xml" cols="xs12 sm12 md12 lg12" Name="GBDVproperty_repairs"><Ctrls>
<ListCtrl Heading="requester,100;phone,100;repair_tp,120;stat4repair,120;addr_request,200;remark,250;dt_request,150;dealwith,120;dealwithinfo,250;dt2repair,150;staff2repair,55;satisfaction,120;interviewinfo,250;issues_remain,200;dt_interview,150;interviewby,55;staff2enter,120;acceptance,100;id_comm,120;id_build,120;id_room,120;id_corp,55;id_repairs,55;" loadedclick="0" ToolTip="ttp_property_repairs_v" OnLoad="init" Name="property_repairs_vLst" Size="700,450">
	<DbDetails>
<Index>id_repairs</Index>
<DbTable>mylayout.property_repairs p left join mylayout.property_repairtp p0 on p.repair_tp=p0.idx left join mylayout.statusinfo s on p.stat4repair=s.status_id left join mylayout.dealwith d on p.dealwith=d.dealwith_id left join mylayout.userlogin u on p.staff2repair=u.user_code left join mylayout.satisfaction s0 on p.satisfaction=s0.id_satisfaction left join mylayout.userlogin u0 on p.interviewby=u0.user_code left join mylayout.userlogin u1 on p.staff2enter=u1.user_code left join mylayout.property_community p1 on p.id_comm=p1.id_comm left join mylayout.property_building p2 on p.id_build=p2.id_build left join mylayout.property_room p3 on p.id_room=p3.id_room</DbTable>
<Data>p.requester,p.phone,p0.name repair_tp,s.description stat4repair,p.addr_request,p.remark,p.dt_request,d.description dealwith,p.dealwithinfo,p.dt2repair,u.user_name staff2repair,s0.satisfaction satisfaction,p.interviewinfo,p.issues_remain,p.dt_interview,u0.user_name interviewby,u1.user_name staff2enter,p.acceptance,p1.name_comm id_comm,p2.name_build id_build,p3.name_room id_room,p.id_corp,p.id_repairs</Data>
<Order>id_repairs</Order></DbDetails>
<DbDetails><queryFormat xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\biztools\mysqlcfg.xml" id="tbpages">select %{data} from %{dbtable} %{where} limit %{StartRow},%{PgSize}</queryFormat></DbDetails>
<operator firstpage="1" nextpage="1" refresh="1" prepage="1">
<op text="modify"><DbDetails><Where>id_repairs='%{property_repairs_vLst[id_repairs]}'</Where></DbDetails><submit next="$this.property_repairs.property_repairsLst" namelist="DbDetails"/><assign name="$this.property_repairs.frmwndctrl" expr="%{this}"/></op>
<op text="delete" needconfirm="1"><DbDetails>
<DbTable>mylayout.property_repairs</DbTable>
<Where>id_repairs='%{property_repairs_vLst[id_repairs]}'</Where>
<queryFormat>delete from %{table} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><submit/></op>
</operator>
<OnChanged>
<assign name="pgcur_property_repairs" expr="js(%{property_repairs_vLst[currentpage]}+1)"/>
<assign name="pgscb_property_repairs" function="SetSel" expr="js(%{property_repairs_vLst[currentpage]}+1)"/>
</OnChanged></ListCtrl>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
</Ctrls></WndTap>
	<WndTap xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_complaints_v.xml" Text="property_complaints" Name="property_complaints_v">
<WndTaps>
<WndTap xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_complaints_Ve.xml" Text="property_complaints" Name="property_complaints" popup="1" Ver="2">
<var name="refreshAfterEdit" expr="2"/>
<var name="dataRequired" expr="id_comm[id_comm],id_build[id_build],id_room[id_room],complaintp[idx]"/>
<var name="dataRequireless" expr=""/>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_complaints.xml" name="property_complaints">
<Lang name="property_complaints" value="投诉管理"/>
<Lang name="TabEditproperty_complaints" value="property_complaints Edit"/>
<Lang name="TabViewproperty_complaints" value="property_complaints View"/>
<Lang name="complaintp" value="投诉类别"/>
<Lang name="ttp_complaintp" value=""/>
<Lang name="complainer" value="投 诉 人"/>
<Lang name="ttp_complainer" value=""/>
<Lang name="phone" value="联系电话"/>
<Lang name="ttp_phone" value=""/>
<Lang name="remark" value=""/>
<Lang name="ttp_remark" value=""/>
<Lang name="dealwithinfo" value="回访登记"/>
<Lang name="ttp_dealwithinfo" value=""/>
<Lang name="dt_interview" value="回访时间"/>
<Lang name="ttp_dt_interview" value=""/>
<Lang name="interviewer" value="回访人"/>
<Lang name="ttp_interviewer" value=""/>
<Lang name="interviewinfo" value="回访情况"/>
<Lang name="ttp_interviewinfo" value=""/>
<Lang name="acceptance" value="验 收 人"/>
<Lang name="ttp_acceptance" value=""/>
<Lang name="satisfaction" value="不满意|满意|很满意"/>
<Lang name="ttp_satisfaction" value=""/>
<Lang name="interviewby" value=""/>
<Lang name="ttp_interviewby" value=""/>
<Lang name="dt_complaint" value="投诉时间"/>
<Lang name="ttp_dt_complaint" value=""/>
<Lang name="dt_dealwith" value="处理时间"/>
<Lang name="ttp_dt_dealwith" value=""/>
<Lang name="staff2dealwith" value="处理人员"/>
<Lang name="ttp_staff2dealwith" value=""/>
<Lang name="stat4dealwith" value="未处理|已处理"/>
<Lang name="ttp_stat4dealwith" value=""/>
<Lang name="idx" value=""/>
<Lang name="ttp_idx" value=""/>
<Lang name="ttp_operationproperty_complaints" value=""/>
<Lang name="ttp_createproperty_complaints" value=""/>
<Lang name="ttp_modifyproperty_complaints" value=""/>
<Lang name="ttp_resetproperty_complaints" value=""/>
<Lang name="ttp_deleteproperty_complaints" value=""/>
<Lang name="ttp_refreshproperty_complaints" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Ctrls>
<GroupBox Text="property_complaints" Name="GBproperty_complaints" id="property_complaints" Size="100,100"><Ctrls>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_complaints_GBDEDIT.xml" Name="GBDEDITproperty_complaints"><Ctrls>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_id_comm"><Ctrls>
<Label Align="Right" Text="id_comm" onload="init" Name="lb_id_comm" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_id_comm" onload="init" Name="id_comm" Size="170,100">
	<DbDetails>
<Index>id_comm</Index>
<DbTable>mylayout.property_community</DbTable>
<Data>name_comm,id_comm</Data>
<Where/>
<queryFormat/></DbDetails><OnSELENDOK><if cond="%{id_comm[id_comm]}"><submit next="id_build"/><else/><submit next="id_build" function="resetcontent"/><submit next="id_room" function="resetcontent"/></if></OnSELENDOK></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_id_build"><Ctrls>
<Label Align="Right" Text="id_build" Name="lb_id_build" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_id_build" Name="id_build" Size="170,100">
	<DbDetails>
<Index>id_build</Index>
<DbTable>mylayout.property_building</DbTable>
<Data>name_build,id_build</Data>
<Where>id_comm='%{id_comm[id_comm]}'</Where>
<queryFormat/></DbDetails><OnSELENDOK><if cond="%{id_build[id_build]}"><submit next="id_room"/><else/><submit next="id_room" function="resetcontent"/></if></OnSELENDOK></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_id_room"><Ctrls>
<Label Align="Right" Text="id_room" Name="lb_id_room" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_id_room" Name="id_room" Size="170,100">
	<DbDetails>
<Index>id_room</Index>
<DbTable>mylayout.property_room</DbTable>
<Data>name_room,owner,ownerphone,id_room</Data>
<Where>id_comm='%{id_comm[id_comm]}' and id_build='%{id_build[id_build]}'</Where>
<queryFormat/></DbDetails><OnSelEndOk><if cond="!'%{complainer}'"><assign name="complainer" expr="%{id_room[owner]}"/></if><if cond="!'%{phone}'"><assign name="phone" expr="%{id_room[ownerphone]}"/></if></OnSelEndOk></ComboBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_complaintp"><Ctrls>
<Label Align="Right" Text="complaintp" onload="init" Name="lb_complaintp" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_complaintp" onload="init" Name="complaintp" Size="170,100">
	<DbDetails>
<Index>idx</Index>
<DbTable>mylayout.property_complainttp</DbTable>
<Data>name,idx</Data>
<Where/>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_stat4dealwith" Visible="false"><Ctrls>
<Label Align="Right" Text="stat4dealwith" overlap="pre" Name="lb_stat4dealwith" readonly="true" Size="60,20" Visible="false"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_stat4dealwith" overlap="pre" Name="stat4dealwith" readonly="true" Size="170,100" Visible="false">
	<DbDetails>
<Index>status_id</Index>
<DbTable>mylayout.statusinfo</DbTable>
<Data>description,status_id</Data>
<Where>status_type='complaint'</Where>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_complainer"><Ctrls>
<Label Align="Right" Text="complainer" Name="lb_complainer" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_complainer" Name="complainer" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_phone"><Ctrls>
<Label Align="Right" Text="phone" Name="lb_phone" Size="60,20"/>
<TextBox Weight="150" Text="" ToolTip="ttp_phone" Name="phone" Size="150,20"/>
<MagicCtrl ToolTip="DialToCall" Name="dialphone" OnClick="nis3ucs:%{phone}" images=" ,data/startcall_green.png" button="type:0" Size="20,20"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_remark"><Ctrls>
<Label Align="Right" Text="remark" Name="lb_remark" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_remark" Name="remark" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_dealwithinfo" Visible="false"><Ctrls>
<Label Align="Right" Text="dealwithinfo" overlap="pre" Name="lb_dealwithinfo" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_dealwithinfo" overlap="pre" Name="dealwithinfo" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_dt_interview" Visible="false"><Ctrls>
<Label Align="Right" Text="dt_interview" overlap="pre" Name="lb_dt_interview" readonly="true" Size="60,20" Visible="false"/>
<DateTime Weight="170" Text="" ToolTip="ttp_dt_interview" overlap="pre" Name="dt_interview" readonly="true" Size="170,20" Visible="false" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_interviewer" Visible="false"><Ctrls>
<Label Align="Right" Text="interviewer" overlap="pre" Name="lb_interviewer" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_interviewer" overlap="pre" Name="interviewer" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_interviewinfo" Visible="false"><Ctrls>
<Label Align="Right" Text="interviewinfo" overlap="pre" Name="lb_interviewinfo" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_interviewinfo" overlap="pre" Name="interviewinfo" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_acceptance"><Ctrls>
<Label Align="Right" Text="acceptance" Name="lb_acceptance" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_acceptance" Name="acceptance" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_satisfaction" Visible="false"><Ctrls>
<Label Align="Right" Text="satisfaction" overlap="pre" Name="lb_satisfaction" readonly="true" Size="60,20" Visible="false"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_satisfaction" overlap="pre" Name="satisfaction" readonly="true" Size="170,100" Visible="false">
	<DbDetails>
<Index>id_satisfaction</Index>
<DbTable>mylayout.satisfaction</DbTable>
<Data>satisfaction,id_satisfaction</Data>
<Where/>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_interviewby" Visible="false"><Ctrls>
<Label Align="Right" Text="interviewby" overlap="pre" Name="lb_interviewby" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_interviewby" overlap="pre" Name="interviewby" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_dt_complaint" Visible="false"><Ctrls>
<Label Align="Right" Text="dt_complaint" overlap="pre" Name="lb_dt_complaint" readonly="true" Size="60,20" Visible="false"/>
<DateTime Weight="170" Text="" ToolTip="ttp_dt_complaint" overlap="pre" Name="dt_complaint" readonly="true" Size="170,20" Visible="false" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_dt_dealwith" Visible="false"><Ctrls>
<Label Align="Right" Text="dt_dealwith" overlap="pre" Name="lb_dt_dealwith" readonly="true" Size="60,20" Visible="false"/>
<DateTime Weight="170" Text="" ToolTip="ttp_dt_dealwith" overlap="pre" Name="dt_dealwith" readonly="true" Size="170,20" Visible="false" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_staff2dealwith" Visible="false"><Ctrls>
<Label Align="Right" Text="staff2dealwith" overlap="pre" Name="lb_staff2dealwith" readonly="true" Size="60,20" Visible="false"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_staff2dealwith" overlap="pre" Name="staff2dealwith" readonly="true" Size="170,100" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_id_complaints" Visible="false"><Ctrls>
<Label Align="Right" Text="id_complaints" overlap="pre" Name="lb_id_complaints" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_id_complaints" overlap="pre" Name="id_complaints" readonly="true" Size="170,20" Visible="false"><OnEnChange><if cond="'%{id_complaints}'"><SetVisible name="insertproperty_complaints" Visible="0"/><SetVisible name="modifyproperty_complaints" Visible="1"/><else/><SetVisible name="insertproperty_complaints" Visible="1"/><SetVisible name="modifyproperty_complaints" Visible="0"/></if></OnEnChange></TextBox>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_complaints_GBOPE.xml" cols="xs12 sm6 md4" Name="GBOPEproperty_complaints" Size="100,100"><Ctrls>
<Button sqlpkinsert="id_complaints" Text="create" ToolTip="ttp_createproperty_complaints" Name="insertproperty_complaints" Size="50,20">
<OnClick>
<DbDetails mode="insert" fcsm="1">
<DbTable>mylayout.property_complaints</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>id_comm[id_comm],id_build[id_build],id_room[id_room],complaintp[idx],complainer,phone,remark,acceptance</Data>
<DataEx>dt_complaint;now()</DataEx>
<queryFormat>insert into %{table} %{data}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><if cond="!%{insertproperty_complaints[broke]}"><if cond="%{refreshAfterEdit}==1"><submit next="property_complaintsLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><if cond="'%{frmwndctrl}'"><submit next="%{frmwndctrl}" delay="1000"/><else/><submit next="$parent.property_complaints_vLst" delay="1000"/></if></if></if>
	</OnClick>
	</Button><TAB/>
<Button Text="modify" ToolTip="ttp_modifyproperty_complaints" Name="modifyproperty_complaints" Size="50,20">
<OnClick>
<DbDetails mode="update" fcsm="1">
<DbTable>mylayout.property_complaints</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>id_comm[id_comm],id_build[id_build],id_room[id_room],complaintp[idx],complainer,phone,remark,acceptance</Data>
<DataEx/>
<Where>id_complaints='%{id_complaints}'</Where>
<queryFormat>update %{table} set %{data} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><if cond="!%{modifyproperty_complaints[broke]}"><if cond="%{refreshAfterEdit}==1"><submit next="property_complaintsLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><if cond="'%{frmwndctrl}'"><submit next="%{frmwndctrl}" delay="1000"/><else/><submit next="$parent.property_complaints_vLst" delay="1000"/></if></if></if>
	</OnClick>
</Button><TAB/>
<Button Text="reset" ToolTip="ttp_resetproperty_complaints" Name="resetproperty_complaints" Size="50,20">
<OnClick>
<submit next="GBDEDITproperty_complaints" function="reset"/>
	</OnClick>
</Button><TAB/>
<Button Text="Search" ToolTip="ttp_gsearchproperty_complaints" Name="gsearchproperty_complaints" Size="50,20" visible="false">
<OnClick>
<search next="property_complaintsLst" listed="0" prefixwhere="0" prefixand="0" inputed="1"/><submit next="GBDEDITproperty_complaints" namelist="search" function="search"/>
	</OnClick>
</Button><TAB/>
</Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_complaints_Vh.xml" cols="xs12 sm12 md12 lg12" Name="GBDVproperty_complaints" visible="0"><Ctrls>
<ListCtrl loadedclick="1" ToolTip="ttp_property_complaints" Name="property_complaintsLst" Size="70,20" visible="0">
	<DbDetails fcsm="1">
<Index>id_complaints</Index>
<DbTable>mylayout.property_complaints</DbTable>
<Data>id_comm,id_build,id_room,complaintp,stat4dealwith,complainer,phone,remark,dealwithinfo,dt_interview,interviewer,interviewinfo,acceptance,satisfaction,interviewby,dt_complaint,dt_dealwith,staff2dealwith,id_complaints</Data>
<Order>id_complaints</Order></DbDetails>
<OnClick><assign name="id_comm[id_comm]" function="SetSel" expr="%{property_complaintsLst[id_comm]}"/><assign name="id_build[id_build]" function="SetSel" expr="%{property_complaintsLst[id_build]}"/><assign name="id_room[id_room]" function="SetSel" expr="%{property_complaintsLst[id_room]}"/><assign name="complaintp[idx]" function="SetSel" expr="%{property_complaintsLst[complaintp]}"/><assign name="stat4dealwith[status_id]" function="SetSel" expr="%{property_complaintsLst[stat4dealwith]}"/><assign name="satisfaction[id_satisfaction]" function="SetSel" expr="%{property_complaintsLst[satisfaction]}"/>
<if cond="%{id_complaints}"><SetVisible name="insertproperty_complaints" Visible="0"/><SetVisible name="modifyproperty_complaints" Visible="1"/></if>
</OnClick>
</ListCtrl>
</Ctrls></GroupBox></Ctrls></GroupBox></Ctrls>
	<OnChanged/>
	<OnActivate><SetVisible name="insertproperty_complaints" Visible="1"/><SetVisible name="modifyproperty_complaints" Visible="0"/></OnActivate>
</WndTap>
</WndTaps>
<var name="searchtmpl"><id_comm format="p.id_comm='%{opvalue}'"/><id_build format="p.id_build='%{opvalue}'"/><id_room format="p.id_room='%{opvalue}'"/><complaintp format="p.complaintp='%{opvalue}'"/><stat4dealwith format="p.stat4dealwith='%{opvalue}'"/><complainer format="(p.complainer like '%%{opvalue}%')"/><phone format="(p.phone like '%%{opvalue}%')"/><remark format="(p.remark like '%%{opvalue}%')"/><dealwithinfo format="(p.dealwithinfo like '%%{opvalue}%')"/><dt_interview format="(p.dt_interview between '%{dt_interview[datetime]}' and '%{dt_interview[datetime2]}')"/><interviewer format="(p.interviewer like '%%{opvalue}%')"/><interviewinfo format="(p.interviewinfo like '%%{opvalue}%')"/><acceptance format="(p.acceptance like '%%{opvalue}%')"/><satisfaction format="p.satisfaction='%{opvalue}'"/><interviewby format="(p.interviewby like '%%{opvalue}%')"/><dt_complaint format="(p.dt_complaint between '%{dt_complaint[datetime]}' and '%{dt_complaint[datetime2]}')"/><dt_dealwith format="(p.dt_dealwith between '%{dt_dealwith[datetime]}' and '%{dt_dealwith[datetime2]}')"/><staff2dealwith format="(p.staff2dealwith like '%%{opvalue}%')"/><id_complaints format="(p.id_complaints like '%%{opvalue}%')"/></var>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_complaints.xml" name="property_complaints">
<Lang name="property_complaints" value="投诉管理"/>
<Lang name="TabEditproperty_complaints" value="property_complaints Edit"/>
<Lang name="TabViewproperty_complaints" value="property_complaints View"/>
<Lang name="complaintp" value="投诉类别"/>
<Lang name="ttp_complaintp" value=""/>
<Lang name="complainer" value="投 诉 人"/>
<Lang name="ttp_complainer" value=""/>
<Lang name="phone" value="联系电话"/>
<Lang name="ttp_phone" value=""/>
<Lang name="remark" value=""/>
<Lang name="ttp_remark" value=""/>
<Lang name="dealwithinfo" value="回访登记"/>
<Lang name="ttp_dealwithinfo" value=""/>
<Lang name="dt_interview" value="回访时间"/>
<Lang name="ttp_dt_interview" value=""/>
<Lang name="interviewer" value="回访人"/>
<Lang name="ttp_interviewer" value=""/>
<Lang name="interviewinfo" value="回访情况"/>
<Lang name="ttp_interviewinfo" value=""/>
<Lang name="acceptance" value="验 收 人"/>
<Lang name="ttp_acceptance" value=""/>
<Lang name="satisfaction" value="不满意|满意|很满意"/>
<Lang name="ttp_satisfaction" value=""/>
<Lang name="interviewby" value=""/>
<Lang name="ttp_interviewby" value=""/>
<Lang name="dt_complaint" value="投诉时间"/>
<Lang name="ttp_dt_complaint" value=""/>
<Lang name="dt_dealwith" value="处理时间"/>
<Lang name="ttp_dt_dealwith" value=""/>
<Lang name="staff2dealwith" value="处理人员"/>
<Lang name="ttp_staff2dealwith" value=""/>
<Lang name="stat4dealwith" value="未处理|已处理"/>
<Lang name="ttp_stat4dealwith" value=""/>
<Lang name="idx" value=""/>
<Lang name="ttp_idx" value=""/>
<Lang name="ttp_operationproperty_complaints" value=""/>
<Lang name="ttp_createproperty_complaints" value=""/>
<Lang name="ttp_modifyproperty_complaints" value=""/>
<Lang name="ttp_resetproperty_complaints" value=""/>
<Lang name="ttp_deleteproperty_complaints" value=""/>
<Lang name="ttp_refreshproperty_complaints" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Ctrls><GroupBox Text="property_complaints" Name="GBproperty_complaints" id="property_complaints" Size="100,100"><Ctrls>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_complaints_Vs.xml" text="Search" toggle="1" Name="GBDEDITproperty_complaints"><Ctrls>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_id_comm"><Ctrls>
<Label Align="Right" Text="id_comm" onload="init" Name="lb_id_comm" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_id_comm" onload="init" Name="id_comm" Size="170,100">
	<DbDetails>
<Index>id_comm</Index>
<DbTable>mylayout.property_community</DbTable>
<Data>name_comm,id_comm</Data>
<Where/>
<queryFormat/></DbDetails><OnSELENDOK><if cond="%{id_comm[id_comm]}"><submit next="id_build"/><else/><submit next="id_build" function="resetcontent"/><submit next="id_room" function="resetcontent"/></if></OnSELENDOK></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_id_build"><Ctrls>
<Label Align="Right" Text="id_build" Name="lb_id_build" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_id_build" Name="id_build" Size="170,100">
	<DbDetails>
<Index>id_build</Index>
<DbTable>mylayout.property_building</DbTable>
<Data>name_build,id_build</Data>
<Where>id_comm='%{id_comm[id_comm]}'</Where>
<queryFormat/></DbDetails><OnSELENDOK><if cond="%{id_build[id_build]}"><submit next="id_room"/><else/><submit next="id_room" function="resetcontent"/></if></OnSELENDOK></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_id_room"><Ctrls>
<Label Align="Right" Text="id_room" Name="lb_id_room" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_id_room" Name="id_room" Size="170,100">
	<DbDetails>
<Index>id_room</Index>
<DbTable>mylayout.property_room</DbTable>
<Data>name_room,owner,ownerphone,id_room</Data>
<Where>id_comm='%{id_comm[id_comm]}' and id_build='%{id_build[id_build]}'</Where>
<queryFormat/></DbDetails><OnSelEndOk><if cond="!'%{complainer}'"><assign name="complainer" expr="%{id_room[owner]}"/></if><if cond="!'%{phone}'"><assign name="phone" expr="%{id_room[ownerphone]}"/></if></OnSelEndOk></ComboBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_complaintp"><Ctrls>
<Label Align="Right" Text="complaintp" onload="init" Name="lb_complaintp" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_complaintp" onload="init" Name="complaintp" Size="170,100">
	<DbDetails>
<Index>idx</Index>
<DbTable>mylayout.property_complainttp</DbTable>
<Data>name,idx</Data>
<Where/>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_complainer"><Ctrls>
<Label Align="Right" Text="complainer" Name="lb_complainer" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_complainer" Name="complainer" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_phone"><Ctrls>
<Label Align="Right" Text="phone" Name="lb_phone" Size="60,20"/>
<TextBox Weight="150" Text="" ToolTip="ttp_phone" Name="phone" Size="150,20"/>
<MagicCtrl ToolTip="DialToCall" Name="dialphone" OnClick="nis3ucs:%{phone}" images=" ,data/startcall_green.png" button="type:0" Size="20,20"/>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Name="GBOPVproperty_complaints" Size="100,20"><Ctrls>
<Button Text="addone" ToolTip="ttp_addone" Name="addone" Size="50,20">	<OnClick><submit next="$this.property_complaints.GBDEDITproperty_complaints" function="reset"/><assign name="$this.property_complaints.frmwndctrl" expr="%{$this.property_complaints_vLst}"/></OnClick>	</Button><TAB/>	
<Button Text="reset" ToolTip="ttp_resetproperty_complaints" Name="resetproperty_complaints" Size="50,20">	<OnClick>	<submit next="GBDEDITproperty_complaints" function="reset"/>	</OnClick>	</Button><TAB/>	
<Button Text="Search" ToolTip="ttp_gsearchproperty_complaints" Name="gsearchproperty_complaints" Size="50,20">	<OnClick>	
<search next="property_complaints_vLst" listed="0" prefixwhere="1" prefixand="0" inputed="1">%{searchtmpl}</search><submit next="GBDEDITproperty_complaints" namelist="search" function="search"/>	
<search next="records_property_complaints" listed="0" prefixwhere="1" prefixand="0" inputed="1">%{searchtmpl}</search><submit next="GBDEDITproperty_complaints" namelist="search" function="search"/>	
</OnClick></Button><TAB/></Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_complaints_Vpg.xml" cols="xs12 sm6 md4" Multiline="0" Name="GBPGproperty_complaints"><Ctrls>
<Label Align="Right" Text="Records" Name="lb_Records" Size="60,20"/>
<TextBox Weight="30" ToolTip="ttp_records" OnLoad="init" Name="records_property_complaints" readonly="1" Size="30,20">
	<DbDetails fcsm="1">
<Index>id_complaints</Index>
<DbTable>mylayout.property_complaints p left join mylayout.property_community p0 on p.id_comm=p0.id_comm left join mylayout.property_building p1 on p.id_build=p1.id_build left join mylayout.property_room p2 on p.id_room=p2.id_room left join mylayout.property_complainttp p3 on p.complaintp=p3.idx left join mylayout.statusinfo s on p.stat4dealwith=s.status_id left join mylayout.satisfaction s0 on p.satisfaction=s0.id_satisfaction</DbTable>
<Data>count(*) records</Data>
<Order>id_complaints</Order><Queryformat>select %{data} from (select p.id_complaints from %{dbtable} %{where} GROUP BY p.id_complaints  ORDER BY p.id_complaints) t</Queryformat></DbDetails>
<OnEnchange>
<assign name="pgs_property_complaints" expr="js(Math.ceil(%{records_property_complaints}/%{property_complaints_vLst[countsperpage]}))"/>
<assign name="pgscb_property_complaints" function="setitems" expr="js('1~'+Math.ceil(%{records_property_complaints}/%{property_complaints_vLst[countsperpage]}))"/>
</OnEnchange>
</TextBox>

<TextBox Weight="30" ToolTip="ttp_pgs" Name="pgs_property_complaints" readonly="1" Size="30,20"/>
<TextBox Weight="30" ToolTip="ttp_pgcur" Name="pgcur_property_complaints" Size="30,20"/>
<Button Text="go2Page" Name="go2pageproperty_complaints_vLst" Size="50,20"><OnClick><submit next="property_complaints_vLst" function="GetPage(%{pgcur_property_complaints}-1)"/></OnClick></Button>
</Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_complaints_Vpgop.xml" cols="xs12 sm6 md4" Name="GBOPVproperty_complaints" Size="100,10"><Ctrls>
<TAB/><Button Text="initial" ToolTip="ttp_initial" Name="initialproperty_complaints" Size="50,20">
<OnClick><submit next="property_complaints_vLst" function="initial"/><submit next="records_property_complaints" function="initial"/></OnClick></Button>
<TAB/><Button Text="firstpage" Name="FPproperty_complaints_vLst" Size="50,20">
<OnClick><submit next="property_complaints_vLst" function="GetPage(first)"/><submit next="records_property_complaints"/></OnClick></Button>
<Button Text="prepage" Name="PREproperty_complaints_vLst" Size="50,20">
<OnClick><submit next="property_complaints_vLst" function="GetPage(Pre)"/></OnClick></Button>
<Button Text="nextpage" Name="NPproperty_complaints_vLst" Size="50,20">
<OnClick><submit next="property_complaints_vLst" function="GetPage(Next)"/></OnClick></Button>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_complaints_Vv.xml" cols="xs12 sm12 md12 lg12" Name="GBDVproperty_complaints"><Ctrls>
<ListCtrl Heading="id_comm,120;id_build,120;id_room,120;complaintp,120;stat4dealwith,120;complainer,100;phone,100;remark,200;dealwithinfo,200;dt_interview,150;interviewer,100;interviewinfo,250;acceptance,100;satisfaction,120;interviewby,55;dt_complaint,150;dt_dealwith,150;staff2dealwith,120;id_complaints,55;" loadedclick="0" ToolTip="ttp_property_complaints_v" OnLoad="init" Name="property_complaints_vLst" Size="700,450">
	<DbDetails>
<Index>id_complaints</Index>
<DbTable>mylayout.property_complaints p left join mylayout.property_community p0 on p.id_comm=p0.id_comm left join mylayout.property_building p1 on p.id_build=p1.id_build left join mylayout.property_room p2 on p.id_room=p2.id_room left join mylayout.property_complainttp p3 on p.complaintp=p3.idx left join mylayout.statusinfo s on p.stat4dealwith=s.status_id left join mylayout.satisfaction s0 on p.satisfaction=s0.id_satisfaction</DbTable>
<Data>p0.name_comm id_comm,p1.name_build id_build,p2.name_room id_room,p3.name complaintp,s.description stat4dealwith,p.complainer,p.phone,p.remark,p.dealwithinfo,p.dt_interview,p.interviewer,p.interviewinfo,p.acceptance,s0.satisfaction satisfaction,p.interviewby,p.dt_complaint,p.dt_dealwith,p.staff2dealwith,p.id_complaints</Data>
<Order>id_complaints</Order></DbDetails>
<DbDetails><queryFormat xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\biztools\mysqlcfg.xml" id="tbpages">select %{data} from %{dbtable} %{where} limit %{StartRow},%{PgSize}</queryFormat></DbDetails>
<operator firstpage="1" nextpage="1" refresh="1" prepage="1">
<op text="modify"><DbDetails><Where>id_complaints='%{property_complaints_vLst[id_complaints]}'</Where></DbDetails><submit next="$this.property_complaints.property_complaintsLst" namelist="DbDetails"/><assign name="$this.property_complaints.frmwndctrl" expr="%{this}"/></op>
<op text="delete" needconfirm="1"><DbDetails>
<DbTable>mylayout.property_complaints</DbTable>
<Where>id_complaints='%{property_complaints_vLst[id_complaints]}'</Where>
<queryFormat>delete from %{table} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><submit/></op>
</operator>
<OnChanged>
<assign name="pgcur_property_complaints" expr="js(%{property_complaints_vLst[currentpage]}+1)"/>
<assign name="pgscb_property_complaints" function="SetSel" expr="js(%{property_complaints_vLst[currentpage]}+1)"/>
</OnChanged></ListCtrl>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
</Ctrls></WndTap>
	<WndTap xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_community_vm.xml" Text="property_community" Name="property_community_v">
<WndTaps>
<WndTap xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_community_Ve.xml" Text="property_community" Name="property_community" popup="1" Ver="2">
<var name="refreshAfterEdit" expr="2"/>
<var name="dataRequired" expr="name_comm,addr,numbuilding"/>
<var name="dataRequireless" expr=""/>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_community.xml" name="property_community">
<Lang name="property_community" value="物业小区"/>
<Lang name="TabEditproperty_community" value="property_community Edit"/>
<Lang name="TabViewproperty_community" value="property_community View"/>
<Lang name="name_comm" value="小区名称"/>
<Lang name="ttp_name_comm" value=""/>
<Lang name="addr" value="小区地址"/>
<Lang name="ttp_addr" value=""/>
<Lang name="remark" value=""/>
<Lang name="ttp_remark" value=""/>
<Lang name="code_comm" value="小区编号"/>
<Lang name="ttp_code_comm" value=""/>
<Lang name="numbuilding" value="楼宇数量"/>
<Lang name="ttp_numbuilding" value=""/>
<Lang name="numroom" value="房屋数量"/>
<Lang name="ttp_numroom" value=""/>
<Lang name="numresident" value="居民数量"/>
<Lang name="ttp_numresident" value=""/>
<Lang name="asigned2" value=""/>
<Lang name="ttp_asigned2" value=""/>
<Lang name="enteredby" value=""/>
<Lang name="ttp_enteredby" value=""/>
<Lang name="dt_enter" value=""/>
<Lang name="ttp_dt_enter" value=""/>
<Lang name="dt_update" value=""/>
<Lang name="ttp_dt_update" value=""/>
<Lang name="stat" value=""/>
<Lang name="ttp_stat" value=""/>
<Lang name="idx" value=""/>
<Lang name="ttp_idx" value=""/>
<Lang name="ttp_operationproperty_community" value=""/>
<Lang name="ttp_createproperty_community" value=""/>
<Lang name="ttp_modifyproperty_community" value=""/>
<Lang name="ttp_resetproperty_community" value=""/>
<Lang name="ttp_deleteproperty_community" value=""/>
<Lang name="ttp_refreshproperty_community" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_building.xml" name="property_building">
<Lang name="property_building" value="楼宇"/>
<Lang name="TabEditproperty_building" value="property_building Edit"/>
<Lang name="TabViewproperty_building" value="property_building View"/>
<Lang name="code_build" value=""/>
<Lang name="ttp_code_build" value=""/>
<Lang name="name_build" value="楼宇名称"/>
<Lang name="ttp_name_build" value=""/>
<Lang name="id_comm" value="所属小区"/>
<Lang name="ttp_id_comm" value=""/>
<Lang name="layers" value="楼层数量"/>
<Lang name="ttp_layers" value=""/>
<Lang name="rooms" value="房屋数量"/>
<Lang name="ttp_rooms" value=""/>
<Lang name="residents" value="住户数量"/>
<Lang name="ttp_residents" value=""/>
<Lang name="structure" value="楼房结构"/>
<Lang name="ttp_structure" value=""/>
<Lang name="remark" value=""/>
<Lang name="ttp_remark" value=""/>
<Lang name="dt_const" value="建成日期"/>
<Lang name="ttp_dt_const" value="constrution complete"/>
<Lang name="enteredby" value=""/>
<Lang name="ttp_enteredby" value=""/>
<Lang name="dt_enter" value=""/>
<Lang name="ttp_dt_enter" value=""/>
<Lang name="dt_update" value=""/>
<Lang name="ttp_dt_update" value=""/>
<Lang name="stat" value=""/>
<Lang name="ttp_stat" value=""/>
<Lang name="id_build" value="序号"/>
<Lang name="ttp_idx" value=""/>
<Lang name="ttp_operationproperty_building" value=""/>
<Lang name="ttp_createproperty_building" value=""/>
<Lang name="ttp_modifyproperty_building" value=""/>
<Lang name="ttp_resetproperty_building" value=""/>
<Lang name="ttp_deleteproperty_building" value=""/>
<Lang name="ttp_refreshproperty_building" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Ctrls>
<GroupBox Text="property_community" Name="GBproperty_community" id="property_community" Size="100,100"><Ctrls>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_community_GBDEDIT.xml" Name="GBDEDITproperty_community"><Ctrls>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_code_comm"><Ctrls>
<Label Align="Right" Text="code_comm" Name="lb_code_comm" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_code_comm" Name="code_comm" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_name_comm"><Ctrls>
<Label Align="Right" Text="name_comm" Name="lb_name_comm" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_name_comm" Name="name_comm" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_addr"><Ctrls>
<Label Align="Right" Text="addr" Name="lb_addr" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_addr" Name="addr" Size="170,20"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_numbuilding"><Ctrls>
<Label Align="Right" Text="numbuilding" Name="lb_numbuilding" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_numbuilding" Name="numbuilding" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_numroom"><Ctrls>
<Label Align="Right" Text="numroom" Name="lb_numroom" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_numroom" Name="numroom" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_numresident"><Ctrls>
<Label Align="Right" Text="numresident" Name="lb_numresident" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_numresident" Name="numresident" Size="170,20"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_asigned2"><Ctrls>
<Label Align="Right" Text="asigned2" Name="lb_asigned2" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_asigned2" Name="asigned2" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_enteredby" Visible="false"><Ctrls>
<Label Align="Right" Text="enteredby" overlap="pre" Name="lb_enteredby" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_enteredby" overlap="pre" Name="enteredby" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_dt_enter" Visible="false"><Ctrls>
<Label Align="Right" Text="dt_enter" overlap="pre" Name="lb_dt_enter" readonly="true" Size="60,20" Visible="false"/>
<DateTime Weight="170" Text="" ToolTip="ttp_dt_enter" overlap="pre" Name="dt_enter" readonly="true" Size="170,20" Visible="false" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_dt_update" Visible="false"><Ctrls>
<Label Align="Right" Text="dt_update" overlap="pre" Name="lb_dt_update" readonly="true" Size="60,20" Visible="false"/>
<DateTime Weight="170" Text="" ToolTip="ttp_dt_update" overlap="pre" Name="dt_update" readonly="true" Size="170,20" Visible="false" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_remark"><Ctrls>
<Label Align="Right" Text="remark" Name="lb_remark" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_remark" Name="remark" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_stat" Visible="false"><Ctrls>
<CheckBox Text="stat" ToolTip="ttp_stat" overlap="pre" Name="stat" readonly="true" Size="230,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_id_comm" Visible="false"><Ctrls>
<Label Align="Right" Text="id_comm" overlap="pre" Name="lb_id_comm" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_id_comm" overlap="pre" Name="id_comm" readonly="true" Size="170,20" Visible="false"><OnEnChange><if cond="'%{id_comm}'"><SetVisible name="insertproperty_community" Visible="0"/><SetVisible name="modifyproperty_community" Visible="1"/><else/><SetVisible name="insertproperty_community" Visible="1"/><SetVisible name="modifyproperty_community" Visible="0"/></if><if cond="'%{id_comm}'"><DbDetails><Where>id_comm='%{id_comm}'</Where></DbDetails><submit next="property_building_vLst" namelist="DbDetails"/><else/><submit next="property_building_vLst" function="resetcontent"/></if></OnEnChange></TextBox>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_community_GBOPE.xml" cols="xs12 sm6 md4" Name="GBOPEproperty_community" Size="100,100"><Ctrls>
<Button sqlpkinsert="id_comm" Text="create" ToolTip="ttp_createproperty_community" Name="insertproperty_community" Size="50,20">
<OnClick>
<DbDetails mode="insert" fcsm="1">
<DbTable>mylayout.property_community</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>code_comm,name_comm,addr,numbuilding,numroom,numresident,asigned2,remark</Data>
<DataEx>enteredby,dt_enter,dt_update;'%{user_id}',now(),now()</DataEx>
<queryFormat>insert into %{table} %{data}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><if cond="!%{insertproperty_community[broke]}"><if cond="%{refreshAfterEdit}==1"><submit next="property_communityLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><if cond="'%{frmwndctrl}'"><submit next="%{frmwndctrl}" delay="1000"/><else/><submit next="$parent.property_community_vLst" delay="1000"/></if></if></if>
	</OnClick>
	</Button><TAB/>
<Button Text="modify" ToolTip="ttp_modifyproperty_community" Name="modifyproperty_community" Size="50,20">
<OnClick>
<DbDetails mode="update" fcsm="1">
<DbTable>mylayout.property_community</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>code_comm,name_comm,addr,numbuilding,numroom,numresident,asigned2,remark</Data>
<DataEx>dt_update;now()</DataEx>
<Where>id_comm='%{id_comm}'</Where>
<queryFormat>update %{table} set %{data} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><if cond="!%{modifyproperty_community[broke]}"><if cond="%{refreshAfterEdit}==1"><submit next="property_communityLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><if cond="'%{frmwndctrl}'"><submit next="%{frmwndctrl}" delay="1000"/><else/><submit next="$parent.property_community_vLst" delay="1000"/></if></if></if>
	</OnClick>
</Button><TAB/>
<Button Text="reset" ToolTip="ttp_resetproperty_community" Name="resetproperty_community" Size="50,20">
<OnClick>
<submit next="GBDEDITproperty_community" function="reset"/>
	</OnClick>
</Button><TAB/>
<Button Text="Search" ToolTip="ttp_gsearchproperty_community" Name="gsearchproperty_community" Size="50,20" visible="false">
<OnClick>
<search next="property_communityLst" listed="0" prefixwhere="0" prefixand="0" inputed="1"/><submit next="GBDEDITproperty_community" namelist="search" function="search"/>
	</OnClick>
</Button><TAB/>
</Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_community_Vh.xml" cols="xs12 sm12 md12 lg12" Name="GBDVproperty_community" visible="0"><Ctrls>
<ListCtrl loadedclick="1" ToolTip="ttp_property_community" Name="property_communityLst" Size="70,20" visible="0">
	<DbDetails fcsm="1">
<Index>id_comm</Index>
<DbTable>mylayout.property_community</DbTable>
<Data>code_comm,name_comm,addr,numbuilding,numroom,numresident,asigned2,enteredby,dt_enter,dt_update,remark,stat,id_comm</Data>
<Order>id_comm</Order></DbDetails>
<OnClick>
<if cond="%{id_comm}"><SetVisible name="insertproperty_community" Visible="0"/><SetVisible name="modifyproperty_community" Visible="1"/></if>
</OnClick>
</ListCtrl>
</Ctrls></GroupBox>
<BR/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_building_Vv.xml" cols="xs12 sm12 md12 lg12" Name="GBDVproperty_building"><Ctrls>
<ListCtrl Heading="code_build,100;name_build,150;dt_const,150;layers,30;rooms,30;residents,30;structure,100;remark,250;enteredby,100;dt_enter,150;dt_update,150;id_comm,55;stat,60;id_build,55;" loadedclick="0" ToolTip="ttp_property_building_v" Name="property_building_vLst" Size="700,450">
	<DbDetails>
<Index>id_build</Index>
<DbTable>mylayout.property_building p</DbTable>
<Data>p.code_build,p.name_build,p.dt_const,p.layers,p.rooms,p.residents,p.structure,p.remark,p.enteredby,p.dt_enter,p.dt_update,p.id_comm,p.stat,p.id_build,location</Data>
<Order>id_build</Order></DbDetails>
<DbDetails><DbTable>mylayout.property_building p left join mylayout.addresses_loc_v a on a.reftbltp='property_building' and p.id_comm=a.refid</DbTable></DbDetails>
<operator xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_building_ops.xml" firstpage="1" nextpage="1" refresh="1" prepage="1">
<op mustselected="0" text="addone"><if cond="!%{id_comm}"><alert expr="id_comm is Empty!"/><else/><submit next="$parent.property_building.GBDEDITproperty_building" function="reset"/><assign name="$parent.property_building.id_comm" expr="%{id_comm}"/><assign name="$parent.property_building.frmwndctrl" expr="%{this}"/></if></op>
<op text="address"><assign name="$parent.addressinfo_V.reftbltp" expr="property_building"/><assign name="$parent.addressinfo_V.refid" expr="%{property_building_vLst[id_build]}"/><submit next="$parent.addressinfo_V.addressinfo_Vlst"/></op>
<op text="Location"><assign name="$parent.addressinfo_V.address_pick.map" function="Navigate" expr="http://localhost/xmappicker?mark=%{property_building_vLst[location]}&zoom=100"/></op>
<op text="modify"><DbDetails><Where>id_build='%{property_building_vLst[id_build]}'</Where></DbDetails><submit next="$parent.property_building.property_buildingLst" namelist="DbDetails"/><assign name="$parent.property_building.frmwndctrl" expr="%{this}"/></op>
<op text="delete" needconfirm="1"><DbDetails>
<DbTable>mylayout.property_building</DbTable>
<Where>id_build='%{property_building_vLst[id_build]}'</Where>
<queryFormat>delete from %{table} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><submit/></op>
</operator>
</ListCtrl>
</Ctrls></GroupBox>
</Ctrls></GroupBox></Ctrls>
	<OnChanged/>
	<OnActivate><SetVisible name="insertproperty_community" Visible="1"/><SetVisible name="modifyproperty_community" Visible="0"/></OnActivate>
</WndTap>
<WndTap xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_building_Ve.xml" Text="property_building" Name="property_building" popup="1" Ver="2">
<var name="refreshAfterEdit" expr="2"/>
<var name="dataRequired" expr="name_build,layers,id_comm"/>
<var name="dataRequireless" expr=""/>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_building.xml" name="property_building">
<Lang name="property_building" value="楼宇"/>
<Lang name="TabEditproperty_building" value="property_building Edit"/>
<Lang name="TabViewproperty_building" value="property_building View"/>
<Lang name="code_build" value=""/>
<Lang name="ttp_code_build" value=""/>
<Lang name="name_build" value="楼宇名称"/>
<Lang name="ttp_name_build" value=""/>
<Lang name="id_comm" value="所属小区"/>
<Lang name="ttp_id_comm" value=""/>
<Lang name="layers" value="楼层数量"/>
<Lang name="ttp_layers" value=""/>
<Lang name="rooms" value="房屋数量"/>
<Lang name="ttp_rooms" value=""/>
<Lang name="residents" value="住户数量"/>
<Lang name="ttp_residents" value=""/>
<Lang name="structure" value="楼房结构"/>
<Lang name="ttp_structure" value=""/>
<Lang name="remark" value=""/>
<Lang name="ttp_remark" value=""/>
<Lang name="dt_const" value="建成日期"/>
<Lang name="ttp_dt_const" value="constrution complete"/>
<Lang name="enteredby" value=""/>
<Lang name="ttp_enteredby" value=""/>
<Lang name="dt_enter" value=""/>
<Lang name="ttp_dt_enter" value=""/>
<Lang name="dt_update" value=""/>
<Lang name="ttp_dt_update" value=""/>
<Lang name="stat" value=""/>
<Lang name="ttp_stat" value=""/>
<Lang name="id_build" value="序号"/>
<Lang name="ttp_idx" value=""/>
<Lang name="ttp_operationproperty_building" value=""/>
<Lang name="ttp_createproperty_building" value=""/>
<Lang name="ttp_modifyproperty_building" value=""/>
<Lang name="ttp_resetproperty_building" value=""/>
<Lang name="ttp_deleteproperty_building" value=""/>
<Lang name="ttp_refreshproperty_building" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_room.xml" name="property_room">
<Lang name="property_room" value="房屋"/>
<Lang name="TabEditproperty_room" value="property_room Edit"/>
<Lang name="TabViewproperty_room" value="property_room View"/>
<Lang name="name_room" value="房    号"/>
<Lang name="ttp_name_room" value=""/>
<Lang name="layers" value="楼层"/>
<Lang name="ttp_layers" value=""/>
<Lang name="roomtp" value="户型"/>
<Lang name="ttp_roomtp" value=""/>
<Lang name="owner" value="业主名字"/>
<Lang name="ttp_owner" value=""/>
<Lang name="ownerphone" value="联系电话"/>
<Lang name="ttp_ownerphone" value=""/>
<Lang name="owneridcard" value="身份证号"/>
<Lang name="ttp_owneridcard" value=""/>
<Lang name="ownerfirm" value="工作单位"/>
<Lang name="ttp_ownerfirm" value=""/>
<Lang name="property_no" value="产权证号"/>
<Lang name="ttp_property_no" value=""/>
<Lang name="parking_no" value="车位号码"/>
<Lang name="ttp_parking_no" value=""/>
<Lang name="area_ct" value="房屋面积"/>
<Lang name="ttp_area_ct" value="area construct"/>
<Lang name="area_real" value="使用面积"/>
<Lang name="ttp_area_real" value=""/>
<Lang name="isrent" value="是否出租"/>
<Lang name="ttp_isrent" value=""/>
<Lang name="dt_rentdue" value="租约到期"/>
<Lang name="ttp_dt_rentdue" value=""/>
<Lang name="remark" value=""/>
<Lang name="ttp_remark" value=""/>
<Lang name="code_room" value=""/>
<Lang name="ttp_code_room" value=""/>
<Lang name="fw_lydy" value=""/>
<Lang name="ttp_fw_lydy" value=""/>
<Lang name="deposit" value=""/>
<Lang name="ttp_deposit" value=""/>
<Lang name="enteredby" value=""/>
<Lang name="ttp_enteredby" value=""/>
<Lang name="dt_enter" value=""/>
<Lang name="ttp_dt_enter" value=""/>
<Lang name="dt_update" value=""/>
<Lang name="ttp_dt_update" value=""/>
<Lang name="id_comm" value=""/>
<Lang name="ttp_id_comm" value=""/>
<Lang name="id_build" value=""/>
<Lang name="ttp_id_build" value=""/>
<Lang name="stat" value=""/>
<Lang name="ttp_stat" value=""/>
<Lang name="id_room" value=""/>
<Lang name="ttp_id_room" value=""/>
<Lang name="ttp_operationproperty_room" value=""/>
<Lang name="ttp_createproperty_room" value=""/>
<Lang name="ttp_modifyproperty_room" value=""/>
<Lang name="ttp_resetproperty_room" value=""/>
<Lang name="ttp_deleteproperty_room" value=""/>
<Lang name="ttp_refreshproperty_room" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Ctrls>
<GroupBox Text="property_building" Name="GBproperty_building" id="property_building" Size="100,100"><Ctrls>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_building_GBDEDIT.xml" Name="GBDEDITproperty_building"><Ctrls>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_code_build"><Ctrls>
<Label Align="Right" Text="code_build" Name="lb_code_build" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_code_build" Name="code_build" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_name_build"><Ctrls>
<Label Align="Right" Text="name_build" Name="lb_name_build" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_name_build" Name="name_build" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_dt_const"><Ctrls>
<Label Align="Right" Text="dt_const" Name="lb_dt_const" Size="60,20"/>
<DateTime Weight="170" Text="" ToolTip="ttp_dt_const" Name="dt_const" Size="170,20" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_layers"><Ctrls>
<Label Align="Right" Text="layers" Name="lb_layers" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_layers" Name="layers" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_rooms"><Ctrls>
<Label Align="Right" Text="rooms" Name="lb_rooms" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_rooms" Name="rooms" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_residents"><Ctrls>
<Label Align="Right" Text="residents" Name="lb_residents" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_residents" Name="residents" Size="170,20"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_structure"><Ctrls>
<Label Align="Right" Text="structure" Name="lb_structure" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_structure" Name="structure" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_remark"><Ctrls>
<Label Align="Right" Text="remark" Name="lb_remark" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_remark" Name="remark" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_enteredby" Visible="false"><Ctrls>
<Label Align="Right" Text="enteredby" overlap="pre" Name="lb_enteredby" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_enteredby" overlap="pre" Name="enteredby" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_dt_enter" Visible="false"><Ctrls>
<Label Align="Right" Text="dt_enter" overlap="pre" Name="lb_dt_enter" readonly="true" Size="60,20" Visible="false"/>
<DateTime Weight="170" Text="" ToolTip="ttp_dt_enter" overlap="pre" Name="dt_enter" readonly="true" Size="170,20" Visible="false" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_dt_update" Visible="false"><Ctrls>
<Label Align="Right" Text="dt_update" overlap="pre" Name="lb_dt_update" readonly="true" Size="60,20" Visible="false"/>
<DateTime Weight="170" Text="" ToolTip="ttp_dt_update" overlap="pre" Name="dt_update" readonly="true" Size="170,20" Visible="false" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_id_comm" Visible="false"><Ctrls>
<Label Align="Right" Text="id_comm" overlap="pre" Name="lb_id_comm" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_id_comm" overlap="pre" Name="id_comm" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_stat" Visible="false"><Ctrls>
<CheckBox Text="stat" ToolTip="ttp_stat" overlap="pre" Name="stat" readonly="true" Size="230,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_id_build" Visible="false"><Ctrls>
<Label Align="Right" Text="id_build" overlap="pre" Name="lb_id_build" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_id_build" overlap="pre" Name="id_build" readonly="true" Size="170,20" Visible="false"><OnEnChange><if cond="'%{id_build}'"><SetVisible name="insertproperty_building" Visible="0"/><SetVisible name="modifyproperty_building" Visible="1"/><else/><SetVisible name="insertproperty_building" Visible="1"/><SetVisible name="modifyproperty_building" Visible="0"/></if><if cond="'%{id_build}'"><DbDetails><Where>id_build='%{id_build}'</Where></DbDetails><submit next="property_room_vLst" namelist="DbDetails"/><else/><submit next="property_room_vLst" function="resetcontent"/></if></OnEnChange></TextBox>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_building_GBOPE.xml" cols="xs12 sm6 md4" Name="GBOPEproperty_building" Size="100,100"><Ctrls>
<Button sqlpkinsert="id_build" Text="create" ToolTip="ttp_createproperty_building" Name="insertproperty_building" Size="50,20">
<OnClick>
<DbDetails mode="insert" fcsm="1">
<DbTable>mylayout.property_building</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>code_build,name_build,dt_const,layers,rooms,residents,structure,remark,id_comm</Data>
<DataEx>enteredby,dt_enter,dt_update,stat;'%{user_id}',now(),now(),1</DataEx>
<queryFormat>insert into %{table} %{data}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><if cond="!%{insertproperty_building[broke]}"><if cond="%{refreshAfterEdit}==1"><submit next="property_buildingLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><if cond="'%{frmwndctrl}'"><submit next="%{frmwndctrl}" delay="1000"/><else/><submit next="$parent.property_building_vLst" delay="1000"/></if></if></if>
	</OnClick>
	</Button><TAB/>
<Button Text="modify" ToolTip="ttp_modifyproperty_building" Name="modifyproperty_building" Size="50,20">
<OnClick>
<DbDetails mode="update" fcsm="1">
<DbTable>mylayout.property_building</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>code_build,name_build,dt_const,layers,rooms,residents,structure,remark</Data>
<DataEx>dt_update;now()</DataEx>
<Where>id_build='%{id_build}'</Where>
<queryFormat>update %{table} set %{data} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><if cond="!%{modifyproperty_building[broke]}"><if cond="%{refreshAfterEdit}==1"><submit next="property_buildingLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><if cond="'%{frmwndctrl}'"><submit next="%{frmwndctrl}" delay="1000"/><else/><submit next="$parent.property_building_vLst" delay="1000"/></if></if></if>
	</OnClick>
</Button><TAB/>
<Button Text="reset" ToolTip="ttp_resetproperty_building" Name="resetproperty_building" Size="50,20">
<OnClick>
<submit next="GBDEDITproperty_building" function="reset"/>
	</OnClick>
</Button><TAB/>
<Button Text="Search" ToolTip="ttp_gsearchproperty_building" Name="gsearchproperty_building" Size="50,20" visible="false">
<OnClick>
<search next="property_buildingLst" listed="0" prefixwhere="0" prefixand="0" inputed="1"/><submit next="GBDEDITproperty_building" namelist="search" function="search"/>
	</OnClick>
</Button><TAB/>
</Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_building_Vh.xml" cols="xs12 sm12 md12 lg12" Name="GBDVproperty_building" visible="0"><Ctrls>
<ListCtrl loadedclick="1" ToolTip="ttp_property_building" Name="property_buildingLst" Size="70,20" visible="0">
	<DbDetails fcsm="1">
<Index>id_build</Index>
<DbTable>mylayout.property_building</DbTable>
<Data>code_build,name_build,dt_const,layers,rooms,residents,structure,remark,enteredby,dt_enter,dt_update,id_comm,stat,id_build</Data>
<Order>id_build</Order></DbDetails>
<OnClick>
<if cond="%{id_build}"><SetVisible name="insertproperty_building" Visible="0"/><SetVisible name="modifyproperty_building" Visible="1"/></if>
</OnClick>
</ListCtrl>
</Ctrls></GroupBox>
<BR/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_room_Vv.xml" cols="xs12 sm12 md12 lg12" Name="GBDVproperty_room"><Ctrls>
<ListCtrl Heading="code_room,100;name_room,100;layers,30;roomtp,120;owner,100;ownerphone,100;owneridcard,150;ownerfirm,200;property_no,100;parking_no,100;area_ct,90;area_real,90;isrent,120;dt_rentdue,150;remark,250;fw_lydy,30;deposit,90;enteredby,100;dt_enter,150;dt_update,150;stat,60;id_room,55;" loadedclick="0" ToolTip="ttp_property_room_v" Name="property_room_vLst" Size="700,450">
	<DbDetails>
<Index>id_room</Index>
<DbTable>mylayout.property_room p left join mylayout.property_roomtp p0 on p.roomtp=p0.idx</DbTable>
<Data>p.code_room,p.name_room,p.layers,p0.name roomtp,p.owner,p.ownerphone,p.owneridcard,p.ownerfirm,p.property_no,p.parking_no,p.area_ct,p.area_real,p.isrent,p.dt_rentdue,p.remark,p.fw_lydy,p.deposit,p.enteredby,p.dt_enter,p.dt_update,p.stat,p.id_room</Data>
<Order>id_room</Order></DbDetails>
<operator xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_room_ops.xml" firstpage="1" nextpage="1" refresh="1" prepage="1">
<op mustselected="0" text="addone"><if cond="!%{id_build}"><alert expr="id_build is Empty!"/><else/><submit next="$parent.property_room.GBDEDITproperty_room" function="reset"/><assign name="$parent.property_room.id_build" expr="%{id_build}"/><assign name="$parent.property_room.id_comm" expr="%{id_comm}"/><assign name="$parent.property_room.frmwndctrl" expr="%{this}"/></if></op>
<op text="address"><assign name="$parent.addressinfo_V.reftbltp" expr="property_room"/><assign name="$parent.addressinfo_V.refid" expr="%{property_room_vLst[id_room]}"/><submit next="$parent.addressinfo_V.addressinfo_Vlst"/></op>
<op text="modify"><DbDetails><Where>id_room='%{property_room_vLst[id_room]}'</Where></DbDetails><submit next="$parent.property_room.property_roomLst" namelist="DbDetails"/><assign name="$parent.property_room.frmwndctrl" expr="%{this}"/></op>
<op text="delete" needconfirm="1"><DbDetails>
<DbTable>mylayout.property_room</DbTable>
<Where>id_room='%{property_room_vLst[id_room]}'</Where>
<queryFormat>delete from %{table} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><submit/></op>
</operator>
</ListCtrl>
</Ctrls></GroupBox>
</Ctrls></GroupBox></Ctrls>
	<OnChanged/>
	<OnActivate><SetVisible name="insertproperty_building" Visible="1"/><SetVisible name="modifyproperty_building" Visible="0"/></OnActivate>
</WndTap>
<WndTap xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_room_Ve.xml" Text="property_room" Name="property_room" popup="1" Ver="2">
<var name="refreshAfterEdit" expr="2"/>
<var name="dataRequired" expr="name_room,layers,roomtp[idx],owner,ownerphone,owneridcard,area_ct,area_real,id_comm,id_build"/>
<var name="dataRequireless" expr=""/>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_room.xml" name="property_room">
<Lang name="property_room" value="房屋"/>
<Lang name="TabEditproperty_room" value="property_room Edit"/>
<Lang name="TabViewproperty_room" value="property_room View"/>
<Lang name="name_room" value="房    号"/>
<Lang name="ttp_name_room" value=""/>
<Lang name="layers" value="楼层"/>
<Lang name="ttp_layers" value=""/>
<Lang name="roomtp" value="户型"/>
<Lang name="ttp_roomtp" value=""/>
<Lang name="owner" value="业主名字"/>
<Lang name="ttp_owner" value=""/>
<Lang name="ownerphone" value="联系电话"/>
<Lang name="ttp_ownerphone" value=""/>
<Lang name="owneridcard" value="身份证号"/>
<Lang name="ttp_owneridcard" value=""/>
<Lang name="ownerfirm" value="工作单位"/>
<Lang name="ttp_ownerfirm" value=""/>
<Lang name="property_no" value="产权证号"/>
<Lang name="ttp_property_no" value=""/>
<Lang name="parking_no" value="车位号码"/>
<Lang name="ttp_parking_no" value=""/>
<Lang name="area_ct" value="房屋面积"/>
<Lang name="ttp_area_ct" value="area construct"/>
<Lang name="area_real" value="使用面积"/>
<Lang name="ttp_area_real" value=""/>
<Lang name="isrent" value="是否出租"/>
<Lang name="ttp_isrent" value=""/>
<Lang name="dt_rentdue" value="租约到期"/>
<Lang name="ttp_dt_rentdue" value=""/>
<Lang name="remark" value=""/>
<Lang name="ttp_remark" value=""/>
<Lang name="code_room" value=""/>
<Lang name="ttp_code_room" value=""/>
<Lang name="fw_lydy" value=""/>
<Lang name="ttp_fw_lydy" value=""/>
<Lang name="deposit" value=""/>
<Lang name="ttp_deposit" value=""/>
<Lang name="enteredby" value=""/>
<Lang name="ttp_enteredby" value=""/>
<Lang name="dt_enter" value=""/>
<Lang name="ttp_dt_enter" value=""/>
<Lang name="dt_update" value=""/>
<Lang name="ttp_dt_update" value=""/>
<Lang name="id_comm" value=""/>
<Lang name="ttp_id_comm" value=""/>
<Lang name="id_build" value=""/>
<Lang name="ttp_id_build" value=""/>
<Lang name="stat" value=""/>
<Lang name="ttp_stat" value=""/>
<Lang name="id_room" value=""/>
<Lang name="ttp_id_room" value=""/>
<Lang name="ttp_operationproperty_room" value=""/>
<Lang name="ttp_createproperty_room" value=""/>
<Lang name="ttp_modifyproperty_room" value=""/>
<Lang name="ttp_resetproperty_room" value=""/>
<Lang name="ttp_deleteproperty_room" value=""/>
<Lang name="ttp_refreshproperty_room" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Ctrls>
<GroupBox Text="property_room" Name="GBproperty_room" id="property_room" Size="100,100"><Ctrls>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_room_GBDEDIT.xml" Name="GBDEDITproperty_room"><Ctrls>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_code_room"><Ctrls>
<Label Align="Right" Text="code_room" Name="lb_code_room" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_code_room" Name="code_room" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_name_room"><Ctrls>
<Label Align="Right" Text="name_room" Name="lb_name_room" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_name_room" Name="name_room" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_layers"><Ctrls>
<Label Align="Right" Text="layers" Name="lb_layers" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_layers" Name="layers" Size="170,20"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_roomtp"><Ctrls>
<Label Align="Right" Text="roomtp" onload="init" Name="lb_roomtp" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_roomtp" onload="init" Name="roomtp" Size="170,100">
	<DbDetails>
<Index>idx</Index>
<DbTable>mylayout.property_roomtp</DbTable>
<Data>name,idx</Data>
<Where/>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_owner"><Ctrls>
<Label Align="Right" Text="owner" Name="lb_owner" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_owner" Name="owner" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_ownerphone"><Ctrls>
<Label Align="Right" Text="ownerphone" Name="lb_ownerphone" Size="60,20"/>
<TextBox Weight="150" Text="" ToolTip="ttp_ownerphone" Name="ownerphone" Size="150,20"/>
<MagicCtrl ToolTip="DialToCall" Name="dialownerphone" OnClick="nis3ucs:%{ownerphone}" images=" ,data/startcall_green.png" button="type:0" Size="20,20"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_owneridcard"><Ctrls>
<Label Align="Right" Text="owneridcard" Name="lb_owneridcard" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_owneridcard" Name="owneridcard" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_ownerfirm"><Ctrls>
<Label Align="Right" Text="ownerfirm" Name="lb_ownerfirm" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_ownerfirm" Name="ownerfirm" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_property_no"><Ctrls>
<Label Align="Right" Text="property_no" Name="lb_property_no" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_property_no" Name="property_no" Size="170,20"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_parking_no"><Ctrls>
<Label Align="Right" Text="parking_no" Name="lb_parking_no" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_parking_no" Name="parking_no" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_area_ct"><Ctrls>
<Label Align="Right" Text="area_ct" Name="lb_area_ct" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_area_ct" Name="area_ct" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_area_real"><Ctrls>
<Label Align="Right" Text="area_real" Name="lb_area_real" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_area_real" Name="area_real" Size="170,20"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_isrent"><Ctrls>
<Label Align="Right" Text="isrent" Name="lb_isrent" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_isrent" Items="否|是" Name="isrent" Size="170,100"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_dt_rentdue" Visible="false"><Ctrls>
<Label Align="Right" Text="dt_rentdue" overlap="pre" Name="lb_dt_rentdue" readonly="true" Size="60,20" Visible="false"/>
<DateTime Weight="170" Text="" ToolTip="ttp_dt_rentdue" overlap="pre" Name="dt_rentdue" readonly="true" Size="170,20" Visible="false" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_remark"><Ctrls>
<Label Align="Right" Text="remark" Name="lb_remark" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_remark" Name="remark" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_fw_lydy"><Ctrls>
<Label Align="Right" Text="fw_lydy" Name="lb_fw_lydy" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_fw_lydy" Name="fw_lydy" Size="170,20"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_deposit"><Ctrls>
<Label Align="Right" Text="deposit" Name="lb_deposit" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_deposit" Name="deposit" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_enteredby" Visible="false"><Ctrls>
<Label Align="Right" Text="enteredby" overlap="pre" Name="lb_enteredby" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_enteredby" overlap="pre" Name="enteredby" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_dt_enter" Visible="false"><Ctrls>
<Label Align="Right" Text="dt_enter" overlap="pre" Name="lb_dt_enter" readonly="true" Size="60,20" Visible="false"/>
<DateTime Weight="170" Text="" ToolTip="ttp_dt_enter" overlap="pre" Name="dt_enter" readonly="true" Size="170,20" Visible="false" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_dt_update" Visible="false"><Ctrls>
<Label Align="Right" Text="dt_update" overlap="pre" Name="lb_dt_update" readonly="true" Size="60,20" Visible="false"/>
<DateTime Weight="170" Text="" ToolTip="ttp_dt_update" overlap="pre" Name="dt_update" readonly="true" Size="170,20" Visible="false" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_id_comm" Visible="false"><Ctrls>
<Label Align="Right" Text="id_comm" overlap="pre" Name="lb_id_comm" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_id_comm" overlap="pre" Name="id_comm" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_id_build" Visible="false"><Ctrls>
<Label Align="Right" Text="id_build" overlap="pre" Name="lb_id_build" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_id_build" overlap="pre" Name="id_build" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_stat" Visible="false"><Ctrls>
<CheckBox Text="stat" ToolTip="ttp_stat" overlap="pre" Name="stat" readonly="true" Size="230,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_id_room" Visible="false"><Ctrls>
<Label Align="Right" Text="id_room" overlap="pre" Name="lb_id_room" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_id_room" overlap="pre" Name="id_room" readonly="true" Size="170,20" Visible="false"><OnEnChange><if cond="'%{id_room}'"><SetVisible name="insertproperty_room" Visible="0"/><SetVisible name="modifyproperty_room" Visible="1"/><else/><SetVisible name="insertproperty_room" Visible="1"/><SetVisible name="modifyproperty_room" Visible="0"/></if></OnEnChange></TextBox>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_room_GBOPE.xml" cols="xs12 sm6 md4" Name="GBOPEproperty_room" Size="100,100"><Ctrls>
<Button sqlpkinsert="id_room" Text="create" ToolTip="ttp_createproperty_room" Name="insertproperty_room" Size="50,20">
<OnClick>
<DbDetails mode="insert" fcsm="1">
<DbTable>mylayout.property_room</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>code_room,name_room,layers,roomtp[idx],owner,ownerphone,owneridcard,ownerfirm,property_no,parking_no,area_ct,area_real,isrent,remark,fw_lydy,deposit,id_comm,id_build</Data>
<DataEx>dt_rentdue,enteredby,dt_enter,dt_update,stat;if('%{isrent}',now(),NULL),'%{user_id}',now(),now(),1</DataEx>
<queryFormat>insert into %{table} %{data}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><if cond="!%{insertproperty_room[broke]}"><if cond="%{refreshAfterEdit}==1"><submit next="property_roomLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><if cond="'%{frmwndctrl}'"><submit next="%{frmwndctrl}" delay="1000"/><else/><submit next="$parent.property_room_vLst" delay="1000"/></if></if></if>
	</OnClick>
	</Button><TAB/>
<Button Text="modify" ToolTip="ttp_modifyproperty_room" Name="modifyproperty_room" Size="50,20">
<OnClick>
<DbDetails mode="update" fcsm="1">
<DbTable>mylayout.property_room</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>code_room,name_room,layers,roomtp[idx],owner,ownerphone,owneridcard,ownerfirm,property_no,parking_no,area_ct,area_real,isrent,remark,fw_lydy,deposit</Data>
<DataEx>dt_rentdue,dt_update;if('%{isrent}',now(),NULL),now()</DataEx>
<Where>id_room='%{id_room}'</Where>
<queryFormat>update %{table} set %{data} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><if cond="!%{modifyproperty_room[broke]}"><if cond="%{refreshAfterEdit}==1"><submit next="property_roomLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><if cond="'%{frmwndctrl}'"><submit next="%{frmwndctrl}" delay="1000"/><else/><submit next="$parent.property_room_vLst" delay="1000"/></if></if></if>
	</OnClick>
</Button><TAB/>
<Button Text="reset" ToolTip="ttp_resetproperty_room" Name="resetproperty_room" Size="50,20">
<OnClick>
<submit next="GBDEDITproperty_room" function="reset"/>
	</OnClick>
</Button><TAB/>
<Button Text="Search" ToolTip="ttp_gsearchproperty_room" Name="gsearchproperty_room" Size="50,20" visible="false">
<OnClick>
<search next="property_roomLst" listed="0" prefixwhere="0" prefixand="0" inputed="1"/><submit next="GBDEDITproperty_room" namelist="search" function="search"/>
	</OnClick>
</Button><TAB/>
</Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_room_Vh.xml" cols="xs12 sm12 md12 lg12" Name="GBDVproperty_room" visible="0"><Ctrls>
<ListCtrl loadedclick="1" ToolTip="ttp_property_room" Name="property_roomLst" Size="70,20" visible="0">
	<DbDetails fcsm="1">
<Index>id_room</Index>
<DbTable>mylayout.property_room</DbTable>
<Data>code_room,name_room,layers,roomtp,owner,ownerphone,owneridcard,ownerfirm,property_no,parking_no,area_ct,area_real,isrent,dt_rentdue,remark,fw_lydy,deposit,enteredby,dt_enter,dt_update,stat,id_room</Data>
<Order>id_room</Order></DbDetails>
<OnClick><assign name="roomtp[idx]" function="SetSel" expr="%{property_roomLst[roomtp]}"/>
<if cond="%{id_room}"><SetVisible name="insertproperty_room" Visible="0"/><SetVisible name="modifyproperty_room" Visible="1"/></if>
</OnClick>
</ListCtrl>
</Ctrls></GroupBox></Ctrls></GroupBox></Ctrls>
	<OnChanged/>
	<OnActivate><SetVisible name="insertproperty_room" Visible="1"/><SetVisible name="modifyproperty_room" Visible="0"/></OnActivate>
</WndTap>
<WndTap xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\addressinfo_Vm.xml" Text="addressinfo" Name="addressinfo_v" popup="1">
<WndTaps>
<WndTap xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\addressinfo_Ve.xml" Text="addressinfo" Name="addressinfo" popup="1" Ver="2">
<var name="refreshAfterEdit" expr="0"/>
<var name="dataRequired" expr="reftbltp,refid,address"/>
<var name="dataRequireless" expr=""/>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\addressinfo.xml" name="addressinfo">
<Lang name="addressinfo" value="地址信息"/>
<Lang name="TabEditaddress" value="addressinfo Edit"/>
<Lang name="TabViewaddress" value="addressinfo View"/>
<Lang name="addressname" value="地址名称"/>
<Lang name="ttp_addressname" value=""/>
<Lang name="addr" value="地址"/>
<Lang name="ttp_addr" value=""/>
<Lang name="county" value="区县"/>
<Lang name="ttp_county" value=""/>
<Lang name="city" value="城市"/>
<Lang name="ttp_city" value=""/>
<Lang name="province" value="省份"/>
<Lang name="ttp_province" value=""/>
<Lang name="nation" value="国家"/>
<Lang name="ttp_nation" value=""/>
<Lang name="contact" value="联系人"/>
<Lang name="ttp_contact" value=""/>
<Lang name="telphone" value="电话"/>
<Lang name="ttp_telphone" value=""/>
<Lang name="postal_code" value="邮编"/>
<Lang name="ttp_postal_code" value=""/>
<Lang name="reftbltp" value=""/>
<Lang name="ttp_reftbltp" value=""/>
<Lang name="refid" value=""/>
<Lang name="ttp_refid" value=""/>
<Lang name="address" value="邻近地址"/>
<Lang name="ttp_address" value=""/>
<Lang name="address_distance" value="距离"/>
<Lang name="ttp_address_distance" value=""/>
<Lang name="address_position" value="方位"/>
<Lang name="ttp_address_position" value=""/>
<Lang name="poi" value="邻近地点"/>
<Lang name="ttp_poi" value=""/>
<Lang name="poi_distance" value="点距离"/>
<Lang name="ttp_poi_distance" value=""/>
<Lang name="poi_position" value="点方位"/>
<Lang name="ttp_poi_position" value=""/>
<Lang name="landmark" value="邻近地标"/>
<Lang name="ttp_landmark" value=""/>
<Lang name="landmark_distance" value="地标距离"/>
<Lang name="ttp_landmark_distance" value=""/>
<Lang name="landmark_position" value="地标方位"/>
<Lang name="ttp_landmark_position" value=""/>
<Lang name="road" value="邻近道路"/>
<Lang name="ttp_road" value=""/>
<Lang name="road_distance" value="道路距离"/>
<Lang name="ttp_road_distance" value=""/>
<Lang name="county_code" value="区县编码"/>
<Lang name="ttp_county_code" value=""/>
<Lang name="created_by" value=""/>
<Lang name="ttp_created_by" value=""/>
<Lang name="creation_date" value=""/>
<Lang name="ttp_creation_date" value=""/>
<Lang name="last_update_by" value=""/>
<Lang name="ttp_last_update_by" value=""/>
<Lang name="last_update_date" value=""/>
<Lang name="ttp_last_update_date" value=""/>
<Lang name="addressid" value=""/>
<Lang name="ttp_addressid" value=""/>
<Lang name="addrlng" value="经度"/>
<Lang name="ttp_addrlng" value=""/>
<Lang name="addrlat" value="纬度"/>
<Lang name="ttp_addrlat" value=""/>
<Lang name="city_code" value="城市编码"/>
<Lang name="ttp_city_code" value=""/>
<Lang name="province_code" value="省份编码"/>
<Lang name="ttp_province_code" value=""/>
<Lang name="active" value="有效"/>
<Lang name="ttp_active" value=""/>
<Lang name="ttp_operationaddress" value=""/>
<Lang name="ttp_createaddress" value=""/>
<Lang name="ttp_modifyaddress" value=""/>
<Lang name="ttp_resetaddress" value=""/>
<Lang name="ttp_deleteaddress" value=""/>
<Lang name="ttp_refreshaddress" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Ctrls>
<GroupBox Text="addressinfo" Name="GBaddressinfo" id="addressinfo" Size="100,100"><Ctrls>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\addressinfo_GBDEDIT.xml" Name="GBDEDITaddressinfo"><Ctrls>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_addressname"><Ctrls>
<Label Align="Right" Text="addressname" Name="lb_addressname" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_addressname" Name="addressname" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_addr"><Ctrls>
<Label Align="Right" Text="addr" Name="lb_addr" Size="60,20"/>
<TextBox Weight="150" Text="" ToolTip="ttp_addr" Name="addr" Size="150,20"/>
<MagicCtrl Name="pickaddr" Link="tip:Pick" images=",data/marker.png" button="type:0" Size="20,20"><OnClick><assign name="$parent.address_pick.map" function="Navigate" expr="http://localhost/xmap4picker?name=武汉钢花118街&mark=%{addrlng},%{addrlat}"/><assign name="$parent.address_pick.pts2Mark" expr="'%{addrlng},%{addrlat}'"/><assign name="$parent.address_pick.frmwndctrl" expr="addressinfo"/></OnClick></MagicCtrl>\r\n</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_county"><Ctrls>
<Label Align="Right" Text="county" Name="lb_county" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_county" Name="county" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_city" Visible="false"><Ctrls>
<Label Align="Right" Text="city" overlap="pre" Name="lb_city" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_city" overlap="pre" Name="city" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_province" Visible="false"><Ctrls>
<Label Align="Right" Text="province" overlap="pre" Name="lb_province" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_province" overlap="pre" Name="province" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_nation" Visible="false"><Ctrls>
<Label Align="Right" Text="nation" overlap="pre" Name="lb_nation" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_nation" overlap="pre" Name="nation" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_contact"><Ctrls>
<Label Align="Right" Text="contact" Name="lb_contact" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_contact" Name="contact" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_telphone"><Ctrls>
<Label Align="Right" Text="telphone" Name="lb_telphone" Size="60,20"/>
<TextBox Weight="150" Text="" ToolTip="ttp_telphone" Name="telphone" Size="150,20"/>
<MagicCtrl ToolTip="DialToCall" Name="dialtelphone" OnClick="nis3ucs:%{telphone}" images=" ,data/startcall_green.png" button="type:0" Size="20,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_postal_code"><Ctrls>
<Label Align="Right" Text="postal_code" Name="lb_postal_code" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_postal_code" Name="postal_code" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_reftbltp" Visible="false"><Ctrls>
<Label Align="Right" Text="reftbltp" overlap="pre" Name="lb_reftbltp" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_reftbltp" overlap="pre" Name="reftbltp" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_refid" Visible="false"><Ctrls>
<Label Align="Right" Text="refid" overlap="pre" Name="lb_refid" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_refid" overlap="pre" Name="refid" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_address" Visible="false"><Ctrls>
<Label Align="Right" Text="address" overlap="pre" Name="lb_address" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_address" overlap="pre" Name="address" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_address_distance" Visible="false"><Ctrls>
<Label Align="Right" Text="address_distance" overlap="pre" Name="lb_address_distance" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_address_distance" overlap="pre" Name="address_distance" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_address_position" Visible="false"><Ctrls>
<Label Align="Right" Text="address_position" overlap="pre" Name="lb_address_position" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_address_position" overlap="pre" Name="address_position" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_poi" Visible="false"><Ctrls>
<Label Align="Right" Text="poi" overlap="pre" Name="lb_poi" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_poi" overlap="pre" Name="poi" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_poi_distance" Visible="false"><Ctrls>
<Label Align="Right" Text="poi_distance" overlap="pre" Name="lb_poi_distance" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_poi_distance" overlap="pre" Name="poi_distance" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_poi_position" Visible="false"><Ctrls>
<Label Align="Right" Text="poi_position" overlap="pre" Name="lb_poi_position" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_poi_position" overlap="pre" Name="poi_position" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_landmark"><Ctrls>
<Label Align="Right" Text="landmark" Name="lb_landmark" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_landmark" Name="landmark" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_landmark_distance"><Ctrls>
<Label Align="Right" Text="landmark_distance" Name="lb_landmark_distance" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_landmark_distance" Name="landmark_distance" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_landmark_position"><Ctrls>
<Label Align="Right" Text="landmark_position" Name="lb_landmark_position" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_landmark_position" Name="landmark_position" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_road" Visible="false"><Ctrls>
<Label Align="Right" Text="road" overlap="pre" Name="lb_road" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_road" overlap="pre" Name="road" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_road_distance" Visible="false"><Ctrls>
<Label Align="Right" Text="road_distance" overlap="pre" Name="lb_road_distance" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_road_distance" overlap="pre" Name="road_distance" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_county_code" Visible="false"><Ctrls>
<Label Align="Right" Text="county_code" overlap="pre" Name="lb_county_code" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_county_code" overlap="pre" Name="county_code" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_created_by" Visible="false"><Ctrls>
<Label Align="Right" Text="created_by" overlap="pre" Name="lb_created_by" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_created_by" overlap="pre" Name="created_by" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_creation_date" Visible="false"><Ctrls>
<Label Align="Right" Text="creation_date" overlap="pre" Name="lb_creation_date" Size="60,20" Visible="false"/>
<DateTime Weight="170" Text="" ToolTip="ttp_creation_date" overlap="pre" Name="creation_date" Size="170,20" Visible="false" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_last_update_by" Visible="false"><Ctrls>
<Label Align="Right" Text="last_update_by" overlap="pre" Name="lb_last_update_by" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_last_update_by" overlap="pre" Name="last_update_by" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_last_update_date" Visible="false"><Ctrls>
<Label Align="Right" Text="last_update_date" overlap="pre" Name="lb_last_update_date" Size="60,20" Visible="false"/>
<DateTime Weight="170" Text="" ToolTip="ttp_last_update_date" overlap="pre" Name="last_update_date" Size="170,20" Visible="false" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_addressinfoid" Visible="false"><Ctrls>
<Label Align="Right" Text="addressinfoid" overlap="pre" Name="lb_addressinfoid" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_addressinfoid" overlap="pre" Name="addressinfoid" readonly="true" Size="170,20" Visible="false"><OnEnChange><if cond="'%{addressinfoid}'"><SetVisible name="insertaddressinfo" Visible="0"/><SetVisible name="modifyaddressinfo" Visible="1"/><else/><SetVisible name="insertaddressinfo" Visible="1"/><SetVisible name="modifyaddressinfo" Visible="0"/></if></OnEnChange></TextBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_addrlng" Visible="false"><Ctrls>
<Label Align="Right" Text="addrlng" overlap="pre" Name="lb_addrlng" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_addrlng" overlap="pre" Name="addrlng" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_addrlat" Visible="false"><Ctrls>
<Label Align="Right" Text="addrlat" overlap="pre" Name="lb_addrlat" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_addrlat" overlap="pre" Name="addrlat" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_city_code" Visible="false"><Ctrls>
<Label Align="Right" Text="city_code" overlap="pre" Name="lb_city_code" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_city_code" overlap="pre" Name="city_code" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_province_code" Visible="false"><Ctrls>
<Label Align="Right" Text="province_code" overlap="pre" Name="lb_province_code" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_province_code" overlap="pre" Name="province_code" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_active" Visible="false"><Ctrls>
<CheckBox Text="active" ToolTip="ttp_active" overlap="pre" Name="active" readonly="true" Size="230,20" Visible="false"/>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\addressinfo_GBOPE.xml" cols="xs12 sm6 md4" Name="GBOPEaddressinfo" Size="100,100"><Ctrls>
<Button sqlpkinsert="addressinfoid" Text="create" ToolTip="ttp_createaddressinfo" Name="insertaddressinfo" Size="50,20">
	<OnClick>
	<DbDetails mode="insert" fcsm="1">
<DbTable>mylayout.addressinfo</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>addressname,addr,county,city,province,nation,contact,telphone,postal_code,reftbltp,refid,address,address_distance,address_position,poi,poi_distance,poi_position,landmark,landmark_distance,landmark_position,road,road_distance,county_code,addrlng,addrlat,city_code,province_code</Data>
<DataEx>created_by,creation_date,last_update_by,last_update_date;'%{user_id}',now(),'%{user_id}',now()</DataEx>
<queryFormat>insert into %{table} %{data}</queryFormat></DbDetails>
	<submit namelist="DbDetails"/><if cond="%{refreshAfterEdit}==1"><submit next="addressinfoLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><submit next="$parent.addressinfo_vLst" delay="1000"/></if>
	</OnClick>
	</Button><TAB/>
<Button Text="modify" ToolTip="ttp_modifyaddressinfo" Name="modifyaddressinfo" Size="50,20">
	<OnClick>
	<DbDetails mode="update" fcsm="1">
<DbTable>mylayout.addressinfo</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>addressname,addr,county,city,province,nation,contact,telphone,postal_code,reftbltp,refid,address,address_distance,address_position,poi,poi_distance,poi_position,landmark,landmark_distance,landmark_position,road,road_distance,county_code,addrlng,addrlat,city_code,province_code</Data>
<DataEx>last_update_by,last_update_date;'%{user_id}',now()</DataEx>
<Where>addressinfoid='%{addressinfoid}'</Where>
<queryFormat>update %{table} set %{data} where %{where}</queryFormat></DbDetails>
	<submit namelist="DbDetails"/><if cond="%{refreshAfterEdit}==1"><submit next="addressinfoLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><submit next="$parent.addressinfo_vLst" delay="1000"/></if>
	</OnClick>
	</Button><TAB/>
<Button Text="reset" ToolTip="ttp_resetaddressinfo" Name="resetaddressinfo" Size="50,20">
	<OnClick>
	<submit next="GBDEDITaddressinfo" function="reset"/>
	</OnClick>
	</Button><TAB/>
<Button Text="gsearch" ToolTip="ttp_gsearchaddressinfo" Name="gsearchaddressinfo" Size="50,20" visible="false">
	<OnClick>
	<search next="addressinfoLst" listed="0" prefixwhere="0" prefixand="0" inputed="1"><zone_id op="(" ref=""/></search><submit next="GBDEDITaddressinfo" namelist="search" function="search"/>
	</OnClick>
	</Button><TAB/>
</Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\addressinfo_Vh.xml" cols="xs12 sm12 md12 lg12" Name="GBDVaddressinfo" visible="0"><Ctrls>
<ListCtrl loadedclick="1" ToolTip="ttp_addressinfo" Name="addressinfoLst" Size="70,20" visible="0">
	<DbDetails fcsm="1">
<Index>addressinfoid</Index>
<DbTable>mylayout.addressinfo</DbTable>
<Data>addressname,addr,county,city,province,nation,contact,telphone,postal_code,address,address_distance,address_position,poi,poi_distance,poi_position,landmark,landmark_distance,landmark_position,road,road_distance,county_code,created_by,creation_date,last_update_by,last_update_date,addressinfoid,addrlng,addrlat,city_code,province_code,active</Data>
<Order>addressinfoid</Order></DbDetails>
<OnClick>
<if cond="%{addressinfoid}"><SetVisible name="insertaddressinfo" Visible="0"/><SetVisible name="modifyaddressinfo" Visible="1"/></if>
</OnClick>
</ListCtrl>
</Ctrls></GroupBox></Ctrls></GroupBox></Ctrls>
	<OnChanged/>
	<OnActivate><SetVisible name="insertaddressinfo" Visible="1"/><SetVisible name="modifyaddressinfo" Visible="0"/></OnActivate>
</WndTap>
<WndTap Text="地址选取" Name="address_pick" popup="1">
<var name="mapurl" expr="http://localhost/xmappicker"/>
<Ctrls>
	<WebBrowser Studio="0" Name="map" Size="700,600" url="%{mapurl}"><OnBiz><if cond="!'%{map[biz_error]}'">
	<assign name="$parent.%{frmwndctrl}.addr" expr="%{map[addr]}"/>
	<assign name="$parent.%{frmwndctrl}.addrlng" expr="%{map[lng]}"/>
	<assign name="$parent.%{frmwndctrl}.addrlat" expr="%{map[lat]}"/>
	<assign name="$parent.%{frmwndctrl}.address" expr="%{map[address]}"/>
	<assign name="$parent.%{frmwndctrl}.address_distance" expr="%{map[address_distance]}"/>
	<assign name="$parent.%{frmwndctrl}.address_position" expr="%{map[address_position]}"/>
	<assign name="$parent.%{frmwndctrl}.city" expr="%{map[city]}"/>
	<assign name="$parent.%{frmwndctrl}.city_code" expr="%{map[city_code]}"/>
	<assign name="$parent.%{frmwndctrl}.poi" expr="%{map[poi]}"/>
	<assign name="$parent.%{frmwndctrl}.poi_distance" expr="%{map[poi_distance]}"/>
	<assign name="$parent.%{frmwndctrl}.poi_position" expr="%{map[poi_position]}"/>
	<assign name="$parent.%{frmwndctrl}.road" expr="%{map[road]}"/>
	<assign name="$parent.%{frmwndctrl}.road_distance" expr="%{map[road_distance]}"/>
	<assign name="$parent.%{frmwndctrl}.county" expr="%{map[county]}"/>
	<assign name="$parent.%{frmwndctrl}.county_code" expr="%{map[county_code]}"/>
	<assign name="$parent.%{frmwndctrl}.province" expr="%{map[province]}"/>
	<assign name="$parent.%{frmwndctrl}.province_code" expr="%{map[province_code]}"/>
	<assign name="$parent.%{frmwndctrl}.nation" expr="%{map[nation]}"/>
	<submit function="onok"/><else/><info expr="%{map[biz_error]}"/></if></OnBiz>
	</WebBrowser>
</Ctrls></WndTap>
</WndTaps>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\addressinfo.xml" name="addressinfo">
<Lang name="addressinfo" value="地址信息"/>
<Lang name="TabEditaddress" value="addressinfo Edit"/>
<Lang name="TabViewaddress" value="addressinfo View"/>
<Lang name="addressname" value="地址名称"/>
<Lang name="ttp_addressname" value=""/>
<Lang name="addr" value="地址"/>
<Lang name="ttp_addr" value=""/>
<Lang name="county" value="区县"/>
<Lang name="ttp_county" value=""/>
<Lang name="city" value="城市"/>
<Lang name="ttp_city" value=""/>
<Lang name="province" value="省份"/>
<Lang name="ttp_province" value=""/>
<Lang name="nation" value="国家"/>
<Lang name="ttp_nation" value=""/>
<Lang name="contact" value="联系人"/>
<Lang name="ttp_contact" value=""/>
<Lang name="telphone" value="电话"/>
<Lang name="ttp_telphone" value=""/>
<Lang name="postal_code" value="邮编"/>
<Lang name="ttp_postal_code" value=""/>
<Lang name="reftbltp" value=""/>
<Lang name="ttp_reftbltp" value=""/>
<Lang name="refid" value=""/>
<Lang name="ttp_refid" value=""/>
<Lang name="address" value="邻近地址"/>
<Lang name="ttp_address" value=""/>
<Lang name="address_distance" value="距离"/>
<Lang name="ttp_address_distance" value=""/>
<Lang name="address_position" value="方位"/>
<Lang name="ttp_address_position" value=""/>
<Lang name="poi" value="邻近地点"/>
<Lang name="ttp_poi" value=""/>
<Lang name="poi_distance" value="点距离"/>
<Lang name="ttp_poi_distance" value=""/>
<Lang name="poi_position" value="点方位"/>
<Lang name="ttp_poi_position" value=""/>
<Lang name="landmark" value="邻近地标"/>
<Lang name="ttp_landmark" value=""/>
<Lang name="landmark_distance" value="地标距离"/>
<Lang name="ttp_landmark_distance" value=""/>
<Lang name="landmark_position" value="地标方位"/>
<Lang name="ttp_landmark_position" value=""/>
<Lang name="road" value="邻近道路"/>
<Lang name="ttp_road" value=""/>
<Lang name="road_distance" value="道路距离"/>
<Lang name="ttp_road_distance" value=""/>
<Lang name="county_code" value="区县编码"/>
<Lang name="ttp_county_code" value=""/>
<Lang name="created_by" value=""/>
<Lang name="ttp_created_by" value=""/>
<Lang name="creation_date" value=""/>
<Lang name="ttp_creation_date" value=""/>
<Lang name="last_update_by" value=""/>
<Lang name="ttp_last_update_by" value=""/>
<Lang name="last_update_date" value=""/>
<Lang name="ttp_last_update_date" value=""/>
<Lang name="addressid" value=""/>
<Lang name="ttp_addressid" value=""/>
<Lang name="addrlng" value="经度"/>
<Lang name="ttp_addrlng" value=""/>
<Lang name="addrlat" value="纬度"/>
<Lang name="ttp_addrlat" value=""/>
<Lang name="city_code" value="城市编码"/>
<Lang name="ttp_city_code" value=""/>
<Lang name="province_code" value="省份编码"/>
<Lang name="ttp_province_code" value=""/>
<Lang name="active" value="有效"/>
<Lang name="ttp_active" value=""/>
<Lang name="ttp_operationaddress" value=""/>
<Lang name="ttp_createaddress" value=""/>
<Lang name="ttp_modifyaddress" value=""/>
<Lang name="ttp_resetaddress" value=""/>
<Lang name="ttp_deleteaddress" value=""/>
<Lang name="ttp_refreshaddress" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Ctrls><GroupBox Text="addressinfo" Name="GBaddressinfo" id="addressinfo" Size="100,100"><Ctrls>
<GroupBox cols="xs12 sm12 md12 lg12" Name="GBOPVaddressinfo" Size="100,20"><Ctrls>
<Button Text="addone" ToolTip="ttp_addone" Name="addone" Size="50,20">	<OnClick><submit next="$this.addressinfo.GBDEDITaddressinfo" function="reset"/><assign name="$this.addressinfo.reftbltp" expr="%{reftbltp}"/><assign name="$this.addressinfo.refid" expr="%{refid}"/></OnClick>	</Button><TAB/>	
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\addressinfo_Vv.xml" cols="xs12 sm12 md12 lg12" Name="GBDVaddressinfo"><Ctrls>
<ListCtrl Heading="addressname,100;addr,500;county,250;city,250;province,250;nation,250;contact,100;telphone,100;postal_code,100;address,500;address_distance,55;address_position,50;poi,500;poi_distance,55;poi_position,50;landmark,250;landmark_distance,55;landmark_position,50;road,100;road_distance,55;county_code,50;created_by,55;creation_date,150;last_update_by,55;last_update_date,150;addressinfoid,100;addrlng,20;addrlat,20;city_code,50;province_code,50;active,60;" loadedclick="0" ToolTip="ttp_addressinfo_v" OnLoad="init" Name="addressinfo_vLst" Size="700,450">
	<DbDetails>
<Index>addressinfoid</Index>
<DbTable>mylayout.addressinfo a</DbTable>
<Data>a.addressname,a.addr,a.county,a.city,a.province,a.nation,a.contact,a.telphone,a.postal_code,a.address,a.address_distance,a.address_position,a.poi,a.poi_distance,a.poi_position,a.landmark,a.landmark_distance,a.landmark_position,a.road,a.road_distance,a.county_code,a.created_by,a.creation_date,a.last_update_by,a.last_update_date,a.addressinfoid,a.addrlng,a.addrlat,a.city_code,a.province_code,a.active</Data>
<Order>addressinfoid</Order></DbDetails>
<DbDetails fcsm="1"><Where>reftbltp='%{reftbltp}' and refid='%{refid}'</Where></DbDetails>
<operator xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\addressinfo_ops.xml" firstpage="1" nextpage="1" refresh="1" prepage="1">
<op mustselected="0" text="addone"><submit next="$this.addressinfo.GBDEDITaddressinfo" function="reset"/><assign name="$this.addressinfo.reftbltp" expr="%{reftbltp}"/><assign name="$this.addressinfo.refid" expr="%{refid}"/></op>
<op text="modify"><assign name="$this.addressinfo.reftbltp" expr="%{reftbltp}"/><assign name="$this.addressinfo.refid" expr="%{refid}"/><assign name="$parent.addressinfo_V.addressinfo.addressinfoid" expr="%{addressinfolst[addressinfoid]}"/><DbDetails><Where>addressinfoid='%{addressinfo_vLst[addressinfoid]}'</Where></DbDetails><submit next="$this.addressinfo.addressinfoLst" namelist="DbDetails"/></op>
</operator>
<OnChanged>
<assign name="pgcur_addressinfo" expr="js(%{addressinfo_vLst[currentpage]}+1)"/>
<assign name="pgscb_addressinfo" function="SetSel" expr="js(%{addressinfo_vLst[currentpage]}+1)"/>
</OnChanged></ListCtrl>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
</Ctrls></WndTap>
<WndTap xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_building_Vm.xml" Text="property_building" Name="property_building_v">
<WndTaps>
<WndTap xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_building_Ve.xml" Text="property_building" Name="property_building" popup="1" Ver="2">
<var name="refreshAfterEdit" expr="2"/>
<var name="dataRequired" expr="name_build,layers,id_comm"/>
<var name="dataRequireless" expr=""/>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_building.xml" name="property_building">
<Lang name="property_building" value="楼宇"/>
<Lang name="TabEditproperty_building" value="property_building Edit"/>
<Lang name="TabViewproperty_building" value="property_building View"/>
<Lang name="code_build" value=""/>
<Lang name="ttp_code_build" value=""/>
<Lang name="name_build" value="楼宇名称"/>
<Lang name="ttp_name_build" value=""/>
<Lang name="id_comm" value="所属小区"/>
<Lang name="ttp_id_comm" value=""/>
<Lang name="layers" value="楼层数量"/>
<Lang name="ttp_layers" value=""/>
<Lang name="rooms" value="房屋数量"/>
<Lang name="ttp_rooms" value=""/>
<Lang name="residents" value="住户数量"/>
<Lang name="ttp_residents" value=""/>
<Lang name="structure" value="楼房结构"/>
<Lang name="ttp_structure" value=""/>
<Lang name="remark" value=""/>
<Lang name="ttp_remark" value=""/>
<Lang name="dt_const" value="建成日期"/>
<Lang name="ttp_dt_const" value="constrution complete"/>
<Lang name="enteredby" value=""/>
<Lang name="ttp_enteredby" value=""/>
<Lang name="dt_enter" value=""/>
<Lang name="ttp_dt_enter" value=""/>
<Lang name="dt_update" value=""/>
<Lang name="ttp_dt_update" value=""/>
<Lang name="stat" value=""/>
<Lang name="ttp_stat" value=""/>
<Lang name="id_build" value="序号"/>
<Lang name="ttp_idx" value=""/>
<Lang name="ttp_operationproperty_building" value=""/>
<Lang name="ttp_createproperty_building" value=""/>
<Lang name="ttp_modifyproperty_building" value=""/>
<Lang name="ttp_resetproperty_building" value=""/>
<Lang name="ttp_deleteproperty_building" value=""/>
<Lang name="ttp_refreshproperty_building" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_room.xml" name="property_room">
<Lang name="property_room" value="房屋"/>
<Lang name="TabEditproperty_room" value="property_room Edit"/>
<Lang name="TabViewproperty_room" value="property_room View"/>
<Lang name="name_room" value="房    号"/>
<Lang name="ttp_name_room" value=""/>
<Lang name="layers" value="楼层"/>
<Lang name="ttp_layers" value=""/>
<Lang name="roomtp" value="户型"/>
<Lang name="ttp_roomtp" value=""/>
<Lang name="owner" value="业主名字"/>
<Lang name="ttp_owner" value=""/>
<Lang name="ownerphone" value="联系电话"/>
<Lang name="ttp_ownerphone" value=""/>
<Lang name="owneridcard" value="身份证号"/>
<Lang name="ttp_owneridcard" value=""/>
<Lang name="ownerfirm" value="工作单位"/>
<Lang name="ttp_ownerfirm" value=""/>
<Lang name="property_no" value="产权证号"/>
<Lang name="ttp_property_no" value=""/>
<Lang name="parking_no" value="车位号码"/>
<Lang name="ttp_parking_no" value=""/>
<Lang name="area_ct" value="房屋面积"/>
<Lang name="ttp_area_ct" value="area construct"/>
<Lang name="area_real" value="使用面积"/>
<Lang name="ttp_area_real" value=""/>
<Lang name="isrent" value="是否出租"/>
<Lang name="ttp_isrent" value=""/>
<Lang name="dt_rentdue" value="租约到期"/>
<Lang name="ttp_dt_rentdue" value=""/>
<Lang name="remark" value=""/>
<Lang name="ttp_remark" value=""/>
<Lang name="code_room" value=""/>
<Lang name="ttp_code_room" value=""/>
<Lang name="fw_lydy" value=""/>
<Lang name="ttp_fw_lydy" value=""/>
<Lang name="deposit" value=""/>
<Lang name="ttp_deposit" value=""/>
<Lang name="enteredby" value=""/>
<Lang name="ttp_enteredby" value=""/>
<Lang name="dt_enter" value=""/>
<Lang name="ttp_dt_enter" value=""/>
<Lang name="dt_update" value=""/>
<Lang name="ttp_dt_update" value=""/>
<Lang name="id_comm" value=""/>
<Lang name="ttp_id_comm" value=""/>
<Lang name="id_build" value=""/>
<Lang name="ttp_id_build" value=""/>
<Lang name="stat" value=""/>
<Lang name="ttp_stat" value=""/>
<Lang name="id_room" value=""/>
<Lang name="ttp_id_room" value=""/>
<Lang name="ttp_operationproperty_room" value=""/>
<Lang name="ttp_createproperty_room" value=""/>
<Lang name="ttp_modifyproperty_room" value=""/>
<Lang name="ttp_resetproperty_room" value=""/>
<Lang name="ttp_deleteproperty_room" value=""/>
<Lang name="ttp_refreshproperty_room" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Ctrls>
<GroupBox Text="property_building" Name="GBproperty_building" id="property_building" Size="100,100"><Ctrls>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_building_GBDEDIT.xml" Name="GBDEDITproperty_building"><Ctrls>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_code_build"><Ctrls>
<Label Align="Right" Text="code_build" Name="lb_code_build" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_code_build" Name="code_build" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_name_build"><Ctrls>
<Label Align="Right" Text="name_build" Name="lb_name_build" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_name_build" Name="name_build" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_dt_const"><Ctrls>
<Label Align="Right" Text="dt_const" Name="lb_dt_const" Size="60,20"/>
<DateTime Weight="170" Text="" ToolTip="ttp_dt_const" Name="dt_const" Size="170,20" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_layers"><Ctrls>
<Label Align="Right" Text="layers" Name="lb_layers" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_layers" Name="layers" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_rooms"><Ctrls>
<Label Align="Right" Text="rooms" Name="lb_rooms" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_rooms" Name="rooms" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_residents"><Ctrls>
<Label Align="Right" Text="residents" Name="lb_residents" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_residents" Name="residents" Size="170,20"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_structure"><Ctrls>
<Label Align="Right" Text="structure" Name="lb_structure" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_structure" Name="structure" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_remark"><Ctrls>
<Label Align="Right" Text="remark" Name="lb_remark" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_remark" Name="remark" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_enteredby" Visible="false"><Ctrls>
<Label Align="Right" Text="enteredby" overlap="pre" Name="lb_enteredby" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_enteredby" overlap="pre" Name="enteredby" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_dt_enter" Visible="false"><Ctrls>
<Label Align="Right" Text="dt_enter" overlap="pre" Name="lb_dt_enter" readonly="true" Size="60,20" Visible="false"/>
<DateTime Weight="170" Text="" ToolTip="ttp_dt_enter" overlap="pre" Name="dt_enter" readonly="true" Size="170,20" Visible="false" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_dt_update" Visible="false"><Ctrls>
<Label Align="Right" Text="dt_update" overlap="pre" Name="lb_dt_update" readonly="true" Size="60,20" Visible="false"/>
<DateTime Weight="170" Text="" ToolTip="ttp_dt_update" overlap="pre" Name="dt_update" readonly="true" Size="170,20" Visible="false" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_id_comm" Visible="false"><Ctrls>
<Label Align="Right" Text="id_comm" overlap="pre" Name="lb_id_comm" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_id_comm" overlap="pre" Name="id_comm" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_stat" Visible="false"><Ctrls>
<CheckBox Text="stat" ToolTip="ttp_stat" overlap="pre" Name="stat" readonly="true" Size="230,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_id_build" Visible="false"><Ctrls>
<Label Align="Right" Text="id_build" overlap="pre" Name="lb_id_build" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_id_build" overlap="pre" Name="id_build" readonly="true" Size="170,20" Visible="false"><OnEnChange><if cond="'%{id_build}'"><SetVisible name="insertproperty_building" Visible="0"/><SetVisible name="modifyproperty_building" Visible="1"/><else/><SetVisible name="insertproperty_building" Visible="1"/><SetVisible name="modifyproperty_building" Visible="0"/></if><if cond="'%{id_build}'"><DbDetails><Where>id_build='%{id_build}'</Where></DbDetails><submit next="property_room_vLst" namelist="DbDetails"/><else/><submit next="property_room_vLst" function="resetcontent"/></if></OnEnChange></TextBox>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_building_GBOPE.xml" cols="xs12 sm6 md4" Name="GBOPEproperty_building" Size="100,100"><Ctrls>
<Button sqlpkinsert="id_build" Text="create" ToolTip="ttp_createproperty_building" Name="insertproperty_building" Size="50,20">
<OnClick>
<DbDetails mode="insert" fcsm="1">
<DbTable>mylayout.property_building</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>code_build,name_build,dt_const,layers,rooms,residents,structure,remark,id_comm</Data>
<DataEx>enteredby,dt_enter,dt_update,stat;'%{user_id}',now(),now(),1</DataEx>
<queryFormat>insert into %{table} %{data}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><if cond="!%{insertproperty_building[broke]}"><if cond="%{refreshAfterEdit}==1"><submit next="property_buildingLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><if cond="'%{frmwndctrl}'"><submit next="%{frmwndctrl}" delay="1000"/><else/><submit next="$parent.property_building_vLst" delay="1000"/></if></if></if>
	</OnClick>
	</Button><TAB/>
<Button Text="modify" ToolTip="ttp_modifyproperty_building" Name="modifyproperty_building" Size="50,20">
<OnClick>
<DbDetails mode="update" fcsm="1">
<DbTable>mylayout.property_building</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>code_build,name_build,dt_const,layers,rooms,residents,structure,remark</Data>
<DataEx>dt_update;now()</DataEx>
<Where>id_build='%{id_build}'</Where>
<queryFormat>update %{table} set %{data} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><if cond="!%{modifyproperty_building[broke]}"><if cond="%{refreshAfterEdit}==1"><submit next="property_buildingLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><if cond="'%{frmwndctrl}'"><submit next="%{frmwndctrl}" delay="1000"/><else/><submit next="$parent.property_building_vLst" delay="1000"/></if></if></if>
	</OnClick>
</Button><TAB/>
<Button Text="reset" ToolTip="ttp_resetproperty_building" Name="resetproperty_building" Size="50,20">
<OnClick>
<submit next="GBDEDITproperty_building" function="reset"/>
	</OnClick>
</Button><TAB/>
<Button Text="Search" ToolTip="ttp_gsearchproperty_building" Name="gsearchproperty_building" Size="50,20" visible="false">
<OnClick>
<search next="property_buildingLst" listed="0" prefixwhere="0" prefixand="0" inputed="1"/><submit next="GBDEDITproperty_building" namelist="search" function="search"/>
	</OnClick>
</Button><TAB/>
</Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_building_Vh.xml" cols="xs12 sm12 md12 lg12" Name="GBDVproperty_building" visible="0"><Ctrls>
<ListCtrl loadedclick="1" ToolTip="ttp_property_building" Name="property_buildingLst" Size="70,20" visible="0">
	<DbDetails fcsm="1">
<Index>id_build</Index>
<DbTable>mylayout.property_building</DbTable>
<Data>code_build,name_build,dt_const,layers,rooms,residents,structure,remark,enteredby,dt_enter,dt_update,id_comm,stat,id_build</Data>
<Order>id_build</Order></DbDetails>
<OnClick>
<if cond="%{id_build}"><SetVisible name="insertproperty_building" Visible="0"/><SetVisible name="modifyproperty_building" Visible="1"/></if>
</OnClick>
</ListCtrl>
</Ctrls></GroupBox>
<BR/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_room_Vv.xml" cols="xs12 sm12 md12 lg12" Name="GBDVproperty_room"><Ctrls>
<ListCtrl Heading="code_room,100;name_room,100;layers,30;roomtp,120;owner,100;ownerphone,100;owneridcard,150;ownerfirm,200;property_no,100;parking_no,100;area_ct,90;area_real,90;isrent,120;dt_rentdue,150;remark,250;fw_lydy,30;deposit,90;enteredby,100;dt_enter,150;dt_update,150;stat,60;id_room,55;" loadedclick="0" ToolTip="ttp_property_room_v" Name="property_room_vLst" Size="700,450">
	<DbDetails>
<Index>id_room</Index>
<DbTable>mylayout.property_room p left join mylayout.property_roomtp p0 on p.roomtp=p0.idx</DbTable>
<Data>p.code_room,p.name_room,p.layers,p0.name roomtp,p.owner,p.ownerphone,p.owneridcard,p.ownerfirm,p.property_no,p.parking_no,p.area_ct,p.area_real,p.isrent,p.dt_rentdue,p.remark,p.fw_lydy,p.deposit,p.enteredby,p.dt_enter,p.dt_update,p.stat,p.id_room</Data>
<Order>id_room</Order></DbDetails>
<operator xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_room_ops.xml" firstpage="1" nextpage="1" refresh="1" prepage="1">
<op mustselected="0" text="addone"><if cond="!%{id_build}"><alert expr="id_build is Empty!"/><else/><submit next="$parent.property_room.GBDEDITproperty_room" function="reset"/><assign name="$parent.property_room.id_build" expr="%{id_build}"/><assign name="$parent.property_room.id_comm" expr="%{id_comm}"/><assign name="$parent.property_room.frmwndctrl" expr="%{this}"/></if></op>
<op text="address"><assign name="$parent.addressinfo_V.reftbltp" expr="property_room"/><assign name="$parent.addressinfo_V.refid" expr="%{property_room_vLst[id_room]}"/><submit next="$parent.addressinfo_V.addressinfo_Vlst"/></op>
<op text="modify"><DbDetails><Where>id_room='%{property_room_vLst[id_room]}'</Where></DbDetails><submit next="$parent.property_room.property_roomLst" namelist="DbDetails"/><assign name="$parent.property_room.frmwndctrl" expr="%{this}"/></op>
<op text="delete" needconfirm="1"><DbDetails>
<DbTable>mylayout.property_room</DbTable>
<Where>id_room='%{property_room_vLst[id_room]}'</Where>
<queryFormat>delete from %{table} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><submit/></op>
</operator>
</ListCtrl>
</Ctrls></GroupBox>
</Ctrls></GroupBox></Ctrls>
	<OnChanged/>
	<OnActivate><SetVisible name="insertproperty_building" Visible="1"/><SetVisible name="modifyproperty_building" Visible="0"/></OnActivate>
</WndTap>
<WndTap xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_room_Ve.xml" Text="property_room" Name="property_room" popup="1" Ver="2">
<var name="refreshAfterEdit" expr="2"/>
<var name="dataRequired" expr="name_room,layers,roomtp[idx],owner,ownerphone,owneridcard,area_ct,area_real,id_comm,id_build"/>
<var name="dataRequireless" expr=""/>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_room.xml" name="property_room">
<Lang name="property_room" value="房屋"/>
<Lang name="TabEditproperty_room" value="property_room Edit"/>
<Lang name="TabViewproperty_room" value="property_room View"/>
<Lang name="name_room" value="房    号"/>
<Lang name="ttp_name_room" value=""/>
<Lang name="layers" value="楼层"/>
<Lang name="ttp_layers" value=""/>
<Lang name="roomtp" value="户型"/>
<Lang name="ttp_roomtp" value=""/>
<Lang name="owner" value="业主名字"/>
<Lang name="ttp_owner" value=""/>
<Lang name="ownerphone" value="联系电话"/>
<Lang name="ttp_ownerphone" value=""/>
<Lang name="owneridcard" value="身份证号"/>
<Lang name="ttp_owneridcard" value=""/>
<Lang name="ownerfirm" value="工作单位"/>
<Lang name="ttp_ownerfirm" value=""/>
<Lang name="property_no" value="产权证号"/>
<Lang name="ttp_property_no" value=""/>
<Lang name="parking_no" value="车位号码"/>
<Lang name="ttp_parking_no" value=""/>
<Lang name="area_ct" value="房屋面积"/>
<Lang name="ttp_area_ct" value="area construct"/>
<Lang name="area_real" value="使用面积"/>
<Lang name="ttp_area_real" value=""/>
<Lang name="isrent" value="是否出租"/>
<Lang name="ttp_isrent" value=""/>
<Lang name="dt_rentdue" value="租约到期"/>
<Lang name="ttp_dt_rentdue" value=""/>
<Lang name="remark" value=""/>
<Lang name="ttp_remark" value=""/>
<Lang name="code_room" value=""/>
<Lang name="ttp_code_room" value=""/>
<Lang name="fw_lydy" value=""/>
<Lang name="ttp_fw_lydy" value=""/>
<Lang name="deposit" value=""/>
<Lang name="ttp_deposit" value=""/>
<Lang name="enteredby" value=""/>
<Lang name="ttp_enteredby" value=""/>
<Lang name="dt_enter" value=""/>
<Lang name="ttp_dt_enter" value=""/>
<Lang name="dt_update" value=""/>
<Lang name="ttp_dt_update" value=""/>
<Lang name="id_comm" value=""/>
<Lang name="ttp_id_comm" value=""/>
<Lang name="id_build" value=""/>
<Lang name="ttp_id_build" value=""/>
<Lang name="stat" value=""/>
<Lang name="ttp_stat" value=""/>
<Lang name="id_room" value=""/>
<Lang name="ttp_id_room" value=""/>
<Lang name="ttp_operationproperty_room" value=""/>
<Lang name="ttp_createproperty_room" value=""/>
<Lang name="ttp_modifyproperty_room" value=""/>
<Lang name="ttp_resetproperty_room" value=""/>
<Lang name="ttp_deleteproperty_room" value=""/>
<Lang name="ttp_refreshproperty_room" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Ctrls>
<GroupBox Text="property_room" Name="GBproperty_room" id="property_room" Size="100,100"><Ctrls>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_room_GBDEDIT.xml" Name="GBDEDITproperty_room"><Ctrls>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_code_room"><Ctrls>
<Label Align="Right" Text="code_room" Name="lb_code_room" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_code_room" Name="code_room" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_name_room"><Ctrls>
<Label Align="Right" Text="name_room" Name="lb_name_room" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_name_room" Name="name_room" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_layers"><Ctrls>
<Label Align="Right" Text="layers" Name="lb_layers" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_layers" Name="layers" Size="170,20"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_roomtp"><Ctrls>
<Label Align="Right" Text="roomtp" onload="init" Name="lb_roomtp" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_roomtp" onload="init" Name="roomtp" Size="170,100">
	<DbDetails>
<Index>idx</Index>
<DbTable>mylayout.property_roomtp</DbTable>
<Data>name,idx</Data>
<Where/>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_owner"><Ctrls>
<Label Align="Right" Text="owner" Name="lb_owner" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_owner" Name="owner" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_ownerphone"><Ctrls>
<Label Align="Right" Text="ownerphone" Name="lb_ownerphone" Size="60,20"/>
<TextBox Weight="150" Text="" ToolTip="ttp_ownerphone" Name="ownerphone" Size="150,20"/>
<MagicCtrl ToolTip="DialToCall" Name="dialownerphone" OnClick="nis3ucs:%{ownerphone}" images=" ,data/startcall_green.png" button="type:0" Size="20,20"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_owneridcard"><Ctrls>
<Label Align="Right" Text="owneridcard" Name="lb_owneridcard" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_owneridcard" Name="owneridcard" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_ownerfirm"><Ctrls>
<Label Align="Right" Text="ownerfirm" Name="lb_ownerfirm" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_ownerfirm" Name="ownerfirm" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_property_no"><Ctrls>
<Label Align="Right" Text="property_no" Name="lb_property_no" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_property_no" Name="property_no" Size="170,20"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_parking_no"><Ctrls>
<Label Align="Right" Text="parking_no" Name="lb_parking_no" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_parking_no" Name="parking_no" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_area_ct"><Ctrls>
<Label Align="Right" Text="area_ct" Name="lb_area_ct" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_area_ct" Name="area_ct" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_area_real"><Ctrls>
<Label Align="Right" Text="area_real" Name="lb_area_real" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_area_real" Name="area_real" Size="170,20"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_isrent"><Ctrls>
<Label Align="Right" Text="isrent" Name="lb_isrent" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_isrent" Items="否|是" Name="isrent" Size="170,100"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_dt_rentdue" Visible="false"><Ctrls>
<Label Align="Right" Text="dt_rentdue" overlap="pre" Name="lb_dt_rentdue" readonly="true" Size="60,20" Visible="false"/>
<DateTime Weight="170" Text="" ToolTip="ttp_dt_rentdue" overlap="pre" Name="dt_rentdue" readonly="true" Size="170,20" Visible="false" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_remark"><Ctrls>
<Label Align="Right" Text="remark" Name="lb_remark" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_remark" Name="remark" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_fw_lydy"><Ctrls>
<Label Align="Right" Text="fw_lydy" Name="lb_fw_lydy" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_fw_lydy" Name="fw_lydy" Size="170,20"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_deposit"><Ctrls>
<Label Align="Right" Text="deposit" Name="lb_deposit" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_deposit" Name="deposit" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_enteredby" Visible="false"><Ctrls>
<Label Align="Right" Text="enteredby" overlap="pre" Name="lb_enteredby" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_enteredby" overlap="pre" Name="enteredby" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_dt_enter" Visible="false"><Ctrls>
<Label Align="Right" Text="dt_enter" overlap="pre" Name="lb_dt_enter" readonly="true" Size="60,20" Visible="false"/>
<DateTime Weight="170" Text="" ToolTip="ttp_dt_enter" overlap="pre" Name="dt_enter" readonly="true" Size="170,20" Visible="false" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_dt_update" Visible="false"><Ctrls>
<Label Align="Right" Text="dt_update" overlap="pre" Name="lb_dt_update" readonly="true" Size="60,20" Visible="false"/>
<DateTime Weight="170" Text="" ToolTip="ttp_dt_update" overlap="pre" Name="dt_update" readonly="true" Size="170,20" Visible="false" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_id_comm" Visible="false"><Ctrls>
<Label Align="Right" Text="id_comm" overlap="pre" Name="lb_id_comm" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_id_comm" overlap="pre" Name="id_comm" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_id_build" Visible="false"><Ctrls>
<Label Align="Right" Text="id_build" overlap="pre" Name="lb_id_build" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_id_build" overlap="pre" Name="id_build" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_stat" Visible="false"><Ctrls>
<CheckBox Text="stat" ToolTip="ttp_stat" overlap="pre" Name="stat" readonly="true" Size="230,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_id_room" Visible="false"><Ctrls>
<Label Align="Right" Text="id_room" overlap="pre" Name="lb_id_room" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_id_room" overlap="pre" Name="id_room" readonly="true" Size="170,20" Visible="false"><OnEnChange><if cond="'%{id_room}'"><SetVisible name="insertproperty_room" Visible="0"/><SetVisible name="modifyproperty_room" Visible="1"/><else/><SetVisible name="insertproperty_room" Visible="1"/><SetVisible name="modifyproperty_room" Visible="0"/></if></OnEnChange></TextBox>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_room_GBOPE.xml" cols="xs12 sm6 md4" Name="GBOPEproperty_room" Size="100,100"><Ctrls>
<Button sqlpkinsert="id_room" Text="create" ToolTip="ttp_createproperty_room" Name="insertproperty_room" Size="50,20">
<OnClick>
<DbDetails mode="insert" fcsm="1">
<DbTable>mylayout.property_room</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>code_room,name_room,layers,roomtp[idx],owner,ownerphone,owneridcard,ownerfirm,property_no,parking_no,area_ct,area_real,isrent,remark,fw_lydy,deposit,id_comm,id_build</Data>
<DataEx>dt_rentdue,enteredby,dt_enter,dt_update,stat;if('%{isrent}',now(),NULL),'%{user_id}',now(),now(),1</DataEx>
<queryFormat>insert into %{table} %{data}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><if cond="!%{insertproperty_room[broke]}"><if cond="%{refreshAfterEdit}==1"><submit next="property_roomLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><if cond="'%{frmwndctrl}'"><submit next="%{frmwndctrl}" delay="1000"/><else/><submit next="$parent.property_room_vLst" delay="1000"/></if></if></if>
	</OnClick>
	</Button><TAB/>
<Button Text="modify" ToolTip="ttp_modifyproperty_room" Name="modifyproperty_room" Size="50,20">
<OnClick>
<DbDetails mode="update" fcsm="1">
<DbTable>mylayout.property_room</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>code_room,name_room,layers,roomtp[idx],owner,ownerphone,owneridcard,ownerfirm,property_no,parking_no,area_ct,area_real,isrent,remark,fw_lydy,deposit</Data>
<DataEx>dt_rentdue,dt_update;if('%{isrent}',now(),NULL),now()</DataEx>
<Where>id_room='%{id_room}'</Where>
<queryFormat>update %{table} set %{data} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><if cond="!%{modifyproperty_room[broke]}"><if cond="%{refreshAfterEdit}==1"><submit next="property_roomLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><if cond="'%{frmwndctrl}'"><submit next="%{frmwndctrl}" delay="1000"/><else/><submit next="$parent.property_room_vLst" delay="1000"/></if></if></if>
	</OnClick>
</Button><TAB/>
<Button Text="reset" ToolTip="ttp_resetproperty_room" Name="resetproperty_room" Size="50,20">
<OnClick>
<submit next="GBDEDITproperty_room" function="reset"/>
	</OnClick>
</Button><TAB/>
<Button Text="Search" ToolTip="ttp_gsearchproperty_room" Name="gsearchproperty_room" Size="50,20" visible="false">
<OnClick>
<search next="property_roomLst" listed="0" prefixwhere="0" prefixand="0" inputed="1"/><submit next="GBDEDITproperty_room" namelist="search" function="search"/>
	</OnClick>
</Button><TAB/>
</Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_room_Vh.xml" cols="xs12 sm12 md12 lg12" Name="GBDVproperty_room" visible="0"><Ctrls>
<ListCtrl loadedclick="1" ToolTip="ttp_property_room" Name="property_roomLst" Size="70,20" visible="0">
	<DbDetails fcsm="1">
<Index>id_room</Index>
<DbTable>mylayout.property_room</DbTable>
<Data>code_room,name_room,layers,roomtp,owner,ownerphone,owneridcard,ownerfirm,property_no,parking_no,area_ct,area_real,isrent,dt_rentdue,remark,fw_lydy,deposit,enteredby,dt_enter,dt_update,stat,id_room</Data>
<Order>id_room</Order></DbDetails>
<OnClick><assign name="roomtp[idx]" function="SetSel" expr="%{property_roomLst[roomtp]}"/>
<if cond="%{id_room}"><SetVisible name="insertproperty_room" Visible="0"/><SetVisible name="modifyproperty_room" Visible="1"/></if>
</OnClick>
</ListCtrl>
</Ctrls></GroupBox></Ctrls></GroupBox></Ctrls>
	<OnChanged/>
	<OnActivate><SetVisible name="insertproperty_room" Visible="1"/><SetVisible name="modifyproperty_room" Visible="0"/></OnActivate>
</WndTap>
</WndTaps>
<var name="searchtmpl"><name_build format="(p.name_build like '%%{opvalue}%')"/><layers format="(p.layers like '%%{opvalue}%')"/><rooms format="(p.rooms like '%%{opvalue}%')"/><residents format="(p.residents like '%%{opvalue}%')"/><structure format="(p.structure like '%%{opvalue}%')"/><remark format="(p.remark like '%%{opvalue}%')"/><code_build format="(p.code_build like '%%{opvalue}%')"/><dt_const format="(p.dt_const between '%{dt_const[datetime]}' and '%{dt_const[datetime2]}')"/><enteredby format="(p.enteredby like '%%{opvalue}%')"/><dt_enter format="(p.dt_enter between '%{dt_enter[datetime]}' and '%{dt_enter[datetime2]}')"/><dt_update format="(p.dt_update between '%{dt_update[datetime]}' and '%{dt_update[datetime2]}')"/><id_comm format="(p.id_comm like '%%{opvalue}%')"/><stat format="p.stat is %{opvalue}"/><id_build format="(p.id_build like '%%{opvalue}%')"/></var>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_building.xml" name="property_building">
<Lang name="property_building" value="楼宇"/>
<Lang name="TabEditproperty_building" value="property_building Edit"/>
<Lang name="TabViewproperty_building" value="property_building View"/>
<Lang name="code_build" value=""/>
<Lang name="ttp_code_build" value=""/>
<Lang name="name_build" value="楼宇名称"/>
<Lang name="ttp_name_build" value=""/>
<Lang name="id_comm" value="所属小区"/>
<Lang name="ttp_id_comm" value=""/>
<Lang name="layers" value="楼层数量"/>
<Lang name="ttp_layers" value=""/>
<Lang name="rooms" value="房屋数量"/>
<Lang name="ttp_rooms" value=""/>
<Lang name="residents" value="住户数量"/>
<Lang name="ttp_residents" value=""/>
<Lang name="structure" value="楼房结构"/>
<Lang name="ttp_structure" value=""/>
<Lang name="remark" value=""/>
<Lang name="ttp_remark" value=""/>
<Lang name="dt_const" value="建成日期"/>
<Lang name="ttp_dt_const" value="constrution complete"/>
<Lang name="enteredby" value=""/>
<Lang name="ttp_enteredby" value=""/>
<Lang name="dt_enter" value=""/>
<Lang name="ttp_dt_enter" value=""/>
<Lang name="dt_update" value=""/>
<Lang name="ttp_dt_update" value=""/>
<Lang name="stat" value=""/>
<Lang name="ttp_stat" value=""/>
<Lang name="id_build" value="序号"/>
<Lang name="ttp_idx" value=""/>
<Lang name="ttp_operationproperty_building" value=""/>
<Lang name="ttp_createproperty_building" value=""/>
<Lang name="ttp_modifyproperty_building" value=""/>
<Lang name="ttp_resetproperty_building" value=""/>
<Lang name="ttp_deleteproperty_building" value=""/>
<Lang name="ttp_refreshproperty_building" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Ctrls><GroupBox Text="property_building" Name="GBproperty_building" id="property_building" Size="100,100"><Ctrls>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_building_Vs.xml" text="Search" toggle="1" Name="GBDEDITproperty_building"><Ctrls>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_code_build"><Ctrls>
<Label Align="Right" Text="code_build" Name="lb_code_build" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_code_build" Name="code_build" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_name_build"><Ctrls>
<Label Align="Right" Text="name_build" Name="lb_name_build" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_name_build" Name="name_build" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_dt_const"><Ctrls>
<Label Align="Right" Text="dt_const" Name="lb_dt_const" Size="60,20"/>
<DateTime Text2="1 day" Weight="170" Text="" ToolTip="ttp_dt_const" Name="dt_const" Size="170,20" Format="yyyy-MM-dd"/>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Name="GBOPVproperty_building" Size="100,20"><Ctrls>
<Button Text="addone" ToolTip="ttp_addone" Name="addone" Size="50,20">	<OnClick><submit next="$this.property_building.GBDEDITproperty_building" function="reset"/></OnClick>	</Button><TAB/>	
<Button Text="reset" ToolTip="ttp_resetproperty_building" Name="resetproperty_building" Size="50,20">	<OnClick>	<submit next="GBDEDITproperty_building" function="reset"/>	</OnClick>	</Button><TAB/>	
<Button Text="Search" ToolTip="ttp_gsearchproperty_building" Name="gsearchproperty_building" Size="50,20">	<OnClick>	
<search next="property_building_vLst" listed="0" prefixwhere="1" prefixand="0" inputed="1">%{searchtmpl}</search><submit next="GBDEDITproperty_building" namelist="search" function="search"/>	
<search next="records_property_building" listed="0" prefixwhere="1" prefixand="0" inputed="1">%{searchtmpl}</search><submit next="GBDEDITproperty_building" namelist="search" function="search"/>	
</OnClick></Button><TAB/></Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_building_Vpg.xml" cols="xs12 sm6 md4" Multiline="0" Name="GBPGproperty_building"><Ctrls>
<Label Align="Right" Text="Records" Name="lb_Records" Size="60,20"/>
<TextBox Weight="30" ToolTip="ttp_records" OnLoad="init" Name="records_property_building" readonly="1" Size="30,20">
	<DbDetails fcsm="1">
<Index>id_build</Index>
<DbTable>mylayout.property_building p</DbTable>
<Data>count(*) records</Data>
<Order>id_build</Order><Queryformat>select %{data} from (select p.id_build from %{dbtable} %{where} GROUP BY p.id_build  ORDER BY p.id_build) t</Queryformat></DbDetails>
<OnEnchange>
<assign name="pgs_property_building" expr="js(Math.ceil(%{records_property_building}/%{property_building_vLst[countsperpage]}))"/>
<assign name="pgscb_property_building" function="setitems" expr="js('1~'+Math.ceil(%{records_property_building}/%{property_building_vLst[countsperpage]}))"/>
</OnEnchange>
</TextBox>

<TextBox Weight="30" ToolTip="ttp_pgs" Name="pgs_property_building" readonly="1" Size="30,20"/>
<TextBox Weight="30" ToolTip="ttp_pgcur" Name="pgcur_property_building" Size="30,20"/>
<Button Text="go2Page" Name="go2pageproperty_building_vLst" Size="50,20"><OnClick><submit next="property_building_vLst" function="GetPage(%{pgcur_property_building}-1)"/></OnClick></Button>
</Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_building_Vpgop.xml" cols="xs12 sm6 md4" Name="GBOPVproperty_building" Size="100,10"><Ctrls>
<TAB/><Button Text="initial" ToolTip="ttp_initial" Name="initialproperty_building" Size="50,20">
<OnClick><submit next="property_building_vLst" function="initial"/><submit next="records_property_building" function="initial"/></OnClick></Button>
<TAB/><Button Text="firstpage" Name="FPproperty_building_vLst" Size="50,20">
<OnClick><submit next="property_building_vLst" function="GetPage(first)"/><submit next="records_property_building"/></OnClick></Button>
<Button Text="prepage" Name="PREproperty_building_vLst" Size="50,20">
<OnClick><submit next="property_building_vLst" function="GetPage(Pre)"/></OnClick></Button>
<Button Text="nextpage" Name="NPproperty_building_vLst" Size="50,20">
<OnClick><submit next="property_building_vLst" function="GetPage(Next)"/></OnClick></Button>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_building_Vvm.xml" cols="xs12 sm12 md12 lg12" Name="GBDVproperty_building"><Ctrls>
<ListCtrl Heading="code_build,100;name_build,150;dt_const,150;layers,30;rooms,30;residents,30;structure,100;remark,250;enteredby,100;dt_enter,150;dt_update,150;id_comm,55;stat,60;id_build,55;" loadedclick="0" ToolTip="ttp_property_building_v" OnLoad="init" Name="property_building_vLst" Size="700,450">
	<DbDetails>
<Index>id_build</Index>
<DbTable>mylayout.property_building p</DbTable>
<Data>p.code_build,p.name_build,p.dt_const,p.layers,p.rooms,p.residents,p.structure,p.remark,p.enteredby,p.dt_enter,p.dt_update,p.id_comm,p.stat,p.id_build,location</Data>
<Order>id_build</Order></DbDetails>
<DbDetails><DbTable>mylayout.property_building p left join mylayout.addresses_loc_v a on a.reftbltp='property_building' and p.id_comm=a.refid</DbTable></DbDetails>
<DbDetails><queryFormat xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\biztools\mysqlcfg.xml" id="tbpages">select %{data} from %{dbtable} %{where} limit %{StartRow},%{PgSize}</queryFormat></DbDetails>
<operator xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_building_ops.xml" firstpage="1" nextpage="1" refresh="1" prepage="1">
<op mustselected="0" text="addone"><if cond="!%{id_comm}"><alert expr="id_comm is Empty!"/><else/><submit next="$parent.property_building.GBDEDITproperty_building" function="reset"/><assign name="$parent.property_building.id_comm" expr="%{id_comm}"/><assign name="$parent.property_building.frmwndctrl" expr="%{this}"/></if></op>
<op text="address"><assign name="$parent.addressinfo_V.reftbltp" expr="property_building"/><assign name="$parent.addressinfo_V.refid" expr="%{property_building_vLst[id_build]}"/><submit next="$parent.addressinfo_V.addressinfo_Vlst"/></op>
<op text="Location"><assign name="$parent.addressinfo_V.address_pick.map" function="Navigate" expr="http://localhost/xmappicker?mark=%{property_building_vLst[location]}&zoom=100"/></op>
<op text="modify"><DbDetails><Where>id_build='%{property_building_vLst[id_build]}'</Where></DbDetails><submit next="$parent.property_building.property_buildingLst" namelist="DbDetails"/><assign name="$parent.property_building.frmwndctrl" expr="%{this}"/></op>
<op text="delete" needconfirm="1"><DbDetails>
<DbTable>mylayout.property_building</DbTable>
<Where>id_build='%{property_building_vLst[id_build]}'</Where>
<queryFormat>delete from %{table} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><submit/></op>
</operator>
<OnChanged>
<assign name="pgcur_property_building" expr="js(%{property_building_vLst[currentpage]}+1)"/>
<assign name="pgscb_property_building" function="SetSel" expr="js(%{property_building_vLst[currentpage]}+1)"/>
</OnChanged></ListCtrl>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
</Ctrls></WndTap>
<WndTap xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_room_Vm.xml" Text="property_room" Name="property_room_v">
<WndTaps>
<WndTap xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_room_Ve.xml" Text="property_room" Name="property_room" popup="1" Ver="2">
<var name="refreshAfterEdit" expr="2"/>
<var name="dataRequired" expr="name_room,layers,roomtp[idx],owner,ownerphone,owneridcard,area_ct,area_real,id_comm,id_build"/>
<var name="dataRequireless" expr=""/>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_room.xml" name="property_room">
<Lang name="property_room" value="房屋"/>
<Lang name="TabEditproperty_room" value="property_room Edit"/>
<Lang name="TabViewproperty_room" value="property_room View"/>
<Lang name="name_room" value="房    号"/>
<Lang name="ttp_name_room" value=""/>
<Lang name="layers" value="楼层"/>
<Lang name="ttp_layers" value=""/>
<Lang name="roomtp" value="户型"/>
<Lang name="ttp_roomtp" value=""/>
<Lang name="owner" value="业主名字"/>
<Lang name="ttp_owner" value=""/>
<Lang name="ownerphone" value="联系电话"/>
<Lang name="ttp_ownerphone" value=""/>
<Lang name="owneridcard" value="身份证号"/>
<Lang name="ttp_owneridcard" value=""/>
<Lang name="ownerfirm" value="工作单位"/>
<Lang name="ttp_ownerfirm" value=""/>
<Lang name="property_no" value="产权证号"/>
<Lang name="ttp_property_no" value=""/>
<Lang name="parking_no" value="车位号码"/>
<Lang name="ttp_parking_no" value=""/>
<Lang name="area_ct" value="房屋面积"/>
<Lang name="ttp_area_ct" value="area construct"/>
<Lang name="area_real" value="使用面积"/>
<Lang name="ttp_area_real" value=""/>
<Lang name="isrent" value="是否出租"/>
<Lang name="ttp_isrent" value=""/>
<Lang name="dt_rentdue" value="租约到期"/>
<Lang name="ttp_dt_rentdue" value=""/>
<Lang name="remark" value=""/>
<Lang name="ttp_remark" value=""/>
<Lang name="code_room" value=""/>
<Lang name="ttp_code_room" value=""/>
<Lang name="fw_lydy" value=""/>
<Lang name="ttp_fw_lydy" value=""/>
<Lang name="deposit" value=""/>
<Lang name="ttp_deposit" value=""/>
<Lang name="enteredby" value=""/>
<Lang name="ttp_enteredby" value=""/>
<Lang name="dt_enter" value=""/>
<Lang name="ttp_dt_enter" value=""/>
<Lang name="dt_update" value=""/>
<Lang name="ttp_dt_update" value=""/>
<Lang name="id_comm" value=""/>
<Lang name="ttp_id_comm" value=""/>
<Lang name="id_build" value=""/>
<Lang name="ttp_id_build" value=""/>
<Lang name="stat" value=""/>
<Lang name="ttp_stat" value=""/>
<Lang name="id_room" value=""/>
<Lang name="ttp_id_room" value=""/>
<Lang name="ttp_operationproperty_room" value=""/>
<Lang name="ttp_createproperty_room" value=""/>
<Lang name="ttp_modifyproperty_room" value=""/>
<Lang name="ttp_resetproperty_room" value=""/>
<Lang name="ttp_deleteproperty_room" value=""/>
<Lang name="ttp_refreshproperty_room" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Ctrls>
<GroupBox Text="property_room" Name="GBproperty_room" id="property_room" Size="100,100"><Ctrls>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_room_GBDEDIT.xml" Name="GBDEDITproperty_room"><Ctrls>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_code_room"><Ctrls>
<Label Align="Right" Text="code_room" Name="lb_code_room" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_code_room" Name="code_room" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_name_room"><Ctrls>
<Label Align="Right" Text="name_room" Name="lb_name_room" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_name_room" Name="name_room" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_layers"><Ctrls>
<Label Align="Right" Text="layers" Name="lb_layers" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_layers" Name="layers" Size="170,20"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_roomtp"><Ctrls>
<Label Align="Right" Text="roomtp" onload="init" Name="lb_roomtp" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_roomtp" onload="init" Name="roomtp" Size="170,100">
	<DbDetails>
<Index>idx</Index>
<DbTable>mylayout.property_roomtp</DbTable>
<Data>name,idx</Data>
<Where/>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_owner"><Ctrls>
<Label Align="Right" Text="owner" Name="lb_owner" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_owner" Name="owner" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_ownerphone"><Ctrls>
<Label Align="Right" Text="ownerphone" Name="lb_ownerphone" Size="60,20"/>
<TextBox Weight="150" Text="" ToolTip="ttp_ownerphone" Name="ownerphone" Size="150,20"/>
<MagicCtrl ToolTip="DialToCall" Name="dialownerphone" OnClick="nis3ucs:%{ownerphone}" images=" ,data/startcall_green.png" button="type:0" Size="20,20"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_owneridcard"><Ctrls>
<Label Align="Right" Text="owneridcard" Name="lb_owneridcard" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_owneridcard" Name="owneridcard" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_ownerfirm"><Ctrls>
<Label Align="Right" Text="ownerfirm" Name="lb_ownerfirm" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_ownerfirm" Name="ownerfirm" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_property_no"><Ctrls>
<Label Align="Right" Text="property_no" Name="lb_property_no" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_property_no" Name="property_no" Size="170,20"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_parking_no"><Ctrls>
<Label Align="Right" Text="parking_no" Name="lb_parking_no" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_parking_no" Name="parking_no" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_area_ct"><Ctrls>
<Label Align="Right" Text="area_ct" Name="lb_area_ct" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_area_ct" Name="area_ct" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_area_real"><Ctrls>
<Label Align="Right" Text="area_real" Name="lb_area_real" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_area_real" Name="area_real" Size="170,20"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_isrent"><Ctrls>
<Label Align="Right" Text="isrent" Name="lb_isrent" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_isrent" Items="否|是" Name="isrent" Size="170,100"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_dt_rentdue" Visible="false"><Ctrls>
<Label Align="Right" Text="dt_rentdue" overlap="pre" Name="lb_dt_rentdue" readonly="true" Size="60,20" Visible="false"/>
<DateTime Weight="170" Text="" ToolTip="ttp_dt_rentdue" overlap="pre" Name="dt_rentdue" readonly="true" Size="170,20" Visible="false" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_remark"><Ctrls>
<Label Align="Right" Text="remark" Name="lb_remark" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_remark" Name="remark" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_fw_lydy"><Ctrls>
<Label Align="Right" Text="fw_lydy" Name="lb_fw_lydy" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_fw_lydy" Name="fw_lydy" Size="170,20"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_deposit"><Ctrls>
<Label Align="Right" Text="deposit" Name="lb_deposit" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_deposit" Name="deposit" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_enteredby" Visible="false"><Ctrls>
<Label Align="Right" Text="enteredby" overlap="pre" Name="lb_enteredby" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_enteredby" overlap="pre" Name="enteredby" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_dt_enter" Visible="false"><Ctrls>
<Label Align="Right" Text="dt_enter" overlap="pre" Name="lb_dt_enter" readonly="true" Size="60,20" Visible="false"/>
<DateTime Weight="170" Text="" ToolTip="ttp_dt_enter" overlap="pre" Name="dt_enter" readonly="true" Size="170,20" Visible="false" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_dt_update" Visible="false"><Ctrls>
<Label Align="Right" Text="dt_update" overlap="pre" Name="lb_dt_update" readonly="true" Size="60,20" Visible="false"/>
<DateTime Weight="170" Text="" ToolTip="ttp_dt_update" overlap="pre" Name="dt_update" readonly="true" Size="170,20" Visible="false" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_id_comm" Visible="false"><Ctrls>
<Label Align="Right" Text="id_comm" overlap="pre" Name="lb_id_comm" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_id_comm" overlap="pre" Name="id_comm" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_id_build" Visible="false"><Ctrls>
<Label Align="Right" Text="id_build" overlap="pre" Name="lb_id_build" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_id_build" overlap="pre" Name="id_build" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_stat" Visible="false"><Ctrls>
<CheckBox Text="stat" ToolTip="ttp_stat" overlap="pre" Name="stat" readonly="true" Size="230,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_id_room" Visible="false"><Ctrls>
<Label Align="Right" Text="id_room" overlap="pre" Name="lb_id_room" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_id_room" overlap="pre" Name="id_room" readonly="true" Size="170,20" Visible="false"><OnEnChange><if cond="'%{id_room}'"><SetVisible name="insertproperty_room" Visible="0"/><SetVisible name="modifyproperty_room" Visible="1"/><else/><SetVisible name="insertproperty_room" Visible="1"/><SetVisible name="modifyproperty_room" Visible="0"/></if></OnEnChange></TextBox>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_room_GBOPE.xml" cols="xs12 sm6 md4" Name="GBOPEproperty_room" Size="100,100"><Ctrls>
<Button sqlpkinsert="id_room" Text="create" ToolTip="ttp_createproperty_room" Name="insertproperty_room" Size="50,20">
<OnClick>
<DbDetails mode="insert" fcsm="1">
<DbTable>mylayout.property_room</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>code_room,name_room,layers,roomtp[idx],owner,ownerphone,owneridcard,ownerfirm,property_no,parking_no,area_ct,area_real,isrent,remark,fw_lydy,deposit,id_comm,id_build</Data>
<DataEx>dt_rentdue,enteredby,dt_enter,dt_update,stat;if('%{isrent}',now(),NULL),'%{user_id}',now(),now(),1</DataEx>
<queryFormat>insert into %{table} %{data}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><if cond="!%{insertproperty_room[broke]}"><if cond="%{refreshAfterEdit}==1"><submit next="property_roomLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><if cond="'%{frmwndctrl}'"><submit next="%{frmwndctrl}" delay="1000"/><else/><submit next="$parent.property_room_vLst" delay="1000"/></if></if></if>
	</OnClick>
	</Button><TAB/>
<Button Text="modify" ToolTip="ttp_modifyproperty_room" Name="modifyproperty_room" Size="50,20">
<OnClick>
<DbDetails mode="update" fcsm="1">
<DbTable>mylayout.property_room</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>code_room,name_room,layers,roomtp[idx],owner,ownerphone,owneridcard,ownerfirm,property_no,parking_no,area_ct,area_real,isrent,remark,fw_lydy,deposit</Data>
<DataEx>dt_rentdue,dt_update;if('%{isrent}',now(),NULL),now()</DataEx>
<Where>id_room='%{id_room}'</Where>
<queryFormat>update %{table} set %{data} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><if cond="!%{modifyproperty_room[broke]}"><if cond="%{refreshAfterEdit}==1"><submit next="property_roomLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><if cond="'%{frmwndctrl}'"><submit next="%{frmwndctrl}" delay="1000"/><else/><submit next="$parent.property_room_vLst" delay="1000"/></if></if></if>
	</OnClick>
</Button><TAB/>
<Button Text="reset" ToolTip="ttp_resetproperty_room" Name="resetproperty_room" Size="50,20">
<OnClick>
<submit next="GBDEDITproperty_room" function="reset"/>
	</OnClick>
</Button><TAB/>
<Button Text="Search" ToolTip="ttp_gsearchproperty_room" Name="gsearchproperty_room" Size="50,20" visible="false">
<OnClick>
<search next="property_roomLst" listed="0" prefixwhere="0" prefixand="0" inputed="1"/><submit next="GBDEDITproperty_room" namelist="search" function="search"/>
	</OnClick>
</Button><TAB/>
</Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_room_Vh.xml" cols="xs12 sm12 md12 lg12" Name="GBDVproperty_room" visible="0"><Ctrls>
<ListCtrl loadedclick="1" ToolTip="ttp_property_room" Name="property_roomLst" Size="70,20" visible="0">
	<DbDetails fcsm="1">
<Index>id_room</Index>
<DbTable>mylayout.property_room</DbTable>
<Data>code_room,name_room,layers,roomtp,owner,ownerphone,owneridcard,ownerfirm,property_no,parking_no,area_ct,area_real,isrent,dt_rentdue,remark,fw_lydy,deposit,enteredby,dt_enter,dt_update,stat,id_room</Data>
<Order>id_room</Order></DbDetails>
<OnClick><assign name="roomtp[idx]" function="SetSel" expr="%{property_roomLst[roomtp]}"/>
<if cond="%{id_room}"><SetVisible name="insertproperty_room" Visible="0"/><SetVisible name="modifyproperty_room" Visible="1"/></if>
</OnClick>
</ListCtrl>
</Ctrls></GroupBox></Ctrls></GroupBox></Ctrls>
	<OnChanged/>
	<OnActivate><SetVisible name="insertproperty_room" Visible="1"/><SetVisible name="modifyproperty_room" Visible="0"/></OnActivate>
</WndTap>
</WndTaps>
<var name="searchtmpl"><name_room format="(p.name_room like '%%{opvalue}%')"/><layers format="(p.layers like '%%{opvalue}%')"/><roomtp format="p.roomtp='%{opvalue}'"/><owner format="(p.owner like '%%{opvalue}%')"/><ownerphone format="(p.ownerphone like '%%{opvalue}%')"/><owneridcard format="(p.owneridcard like '%%{opvalue}%')"/><ownerfirm format="(p.ownerfirm like '%%{opvalue}%')"/><property_no format="(p.property_no like '%%{opvalue}%')"/><parking_no format="(p.parking_no like '%%{opvalue}%')"/><area_ct format="(p.area_ct like '%%{opvalue}%')"/><area_real format="(p.area_real like '%%{opvalue}%')"/><isrent format="(p.isrent like '%%{opvalue}%')"/><dt_rentdue format="(p.dt_rentdue between '%{dt_rentdue[datetime]}' and '%{dt_rentdue[datetime2]}')"/><remark format="(p.remark like '%%{opvalue}%')"/><code_room format="(p.code_room like '%%{opvalue}%')"/><fw_lydy format="(p.fw_lydy like '%%{opvalue}%')"/><deposit format="(p.deposit like '%%{opvalue}%')"/><enteredby format="(p.enteredby like '%%{opvalue}%')"/><dt_enter format="(p.dt_enter between '%{dt_enter[datetime]}' and '%{dt_enter[datetime2]}')"/><dt_update format="(p.dt_update between '%{dt_update[datetime]}' and '%{dt_update[datetime2]}')"/><stat format="p.stat is %{opvalue}"/><id_room format="(p.id_room like '%%{opvalue}%')"/></var>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_room.xml" name="property_room">
<Lang name="property_room" value="房屋"/>
<Lang name="TabEditproperty_room" value="property_room Edit"/>
<Lang name="TabViewproperty_room" value="property_room View"/>
<Lang name="name_room" value="房    号"/>
<Lang name="ttp_name_room" value=""/>
<Lang name="layers" value="楼层"/>
<Lang name="ttp_layers" value=""/>
<Lang name="roomtp" value="户型"/>
<Lang name="ttp_roomtp" value=""/>
<Lang name="owner" value="业主名字"/>
<Lang name="ttp_owner" value=""/>
<Lang name="ownerphone" value="联系电话"/>
<Lang name="ttp_ownerphone" value=""/>
<Lang name="owneridcard" value="身份证号"/>
<Lang name="ttp_owneridcard" value=""/>
<Lang name="ownerfirm" value="工作单位"/>
<Lang name="ttp_ownerfirm" value=""/>
<Lang name="property_no" value="产权证号"/>
<Lang name="ttp_property_no" value=""/>
<Lang name="parking_no" value="车位号码"/>
<Lang name="ttp_parking_no" value=""/>
<Lang name="area_ct" value="房屋面积"/>
<Lang name="ttp_area_ct" value="area construct"/>
<Lang name="area_real" value="使用面积"/>
<Lang name="ttp_area_real" value=""/>
<Lang name="isrent" value="是否出租"/>
<Lang name="ttp_isrent" value=""/>
<Lang name="dt_rentdue" value="租约到期"/>
<Lang name="ttp_dt_rentdue" value=""/>
<Lang name="remark" value=""/>
<Lang name="ttp_remark" value=""/>
<Lang name="code_room" value=""/>
<Lang name="ttp_code_room" value=""/>
<Lang name="fw_lydy" value=""/>
<Lang name="ttp_fw_lydy" value=""/>
<Lang name="deposit" value=""/>
<Lang name="ttp_deposit" value=""/>
<Lang name="enteredby" value=""/>
<Lang name="ttp_enteredby" value=""/>
<Lang name="dt_enter" value=""/>
<Lang name="ttp_dt_enter" value=""/>
<Lang name="dt_update" value=""/>
<Lang name="ttp_dt_update" value=""/>
<Lang name="id_comm" value=""/>
<Lang name="ttp_id_comm" value=""/>
<Lang name="id_build" value=""/>
<Lang name="ttp_id_build" value=""/>
<Lang name="stat" value=""/>
<Lang name="ttp_stat" value=""/>
<Lang name="id_room" value=""/>
<Lang name="ttp_id_room" value=""/>
<Lang name="ttp_operationproperty_room" value=""/>
<Lang name="ttp_createproperty_room" value=""/>
<Lang name="ttp_modifyproperty_room" value=""/>
<Lang name="ttp_resetproperty_room" value=""/>
<Lang name="ttp_deleteproperty_room" value=""/>
<Lang name="ttp_refreshproperty_room" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Ctrls><GroupBox Text="property_room" Name="GBproperty_room" id="property_room" Size="100,100"><Ctrls>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_room_Vs.xml" text="Search" toggle="1" Name="GBDEDITproperty_room"><Ctrls>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_name_room"><Ctrls>
<Label Align="Right" Text="name_room" Name="lb_name_room" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_name_room" Name="name_room" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_id_comm"><Ctrls>
<Label Align="Right" Text="id_comm" Name="lb_id_comm" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_id_comm" Name="id_comm" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_id_build"><Ctrls>
<Label Align="Right" Text="id_build" Name="lb_id_build" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_id_build" Name="id_build" Size="170,20"/>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Name="GBOPVproperty_room" Size="100,20"><Ctrls>
<Button Text="addone" ToolTip="ttp_addone" Name="addone" Size="50,20">	<OnClick><submit next="$this.property_room.GBDEDITproperty_room" function="reset"/></OnClick>	</Button><TAB/>	
<Button Text="reset" ToolTip="ttp_resetproperty_room" Name="resetproperty_room" Size="50,20">	<OnClick>	<submit next="GBDEDITproperty_room" function="reset"/>	</OnClick>	</Button><TAB/>	
<Button Text="Search" ToolTip="ttp_gsearchproperty_room" Name="gsearchproperty_room" Size="50,20">	<OnClick>	
<search next="property_room_vLst" listed="0" prefixwhere="1" prefixand="0" inputed="1">%{searchtmpl}</search><submit next="GBDEDITproperty_room" namelist="search" function="search"/>	
<search next="records_property_room" listed="0" prefixwhere="1" prefixand="0" inputed="1">%{searchtmpl}</search><submit next="GBDEDITproperty_room" namelist="search" function="search"/>	
</OnClick></Button><TAB/></Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_room_Vpg.xml" cols="xs12 sm6 md4" Multiline="0" Name="GBPGproperty_room"><Ctrls>
<Label Align="Right" Text="Records" Name="lb_Records" Size="60,20"/>
<TextBox Weight="30" ToolTip="ttp_records" OnLoad="init" Name="records_property_room" readonly="1" Size="30,20">
	<DbDetails fcsm="1">
<Index>id_room</Index>
<DbTable>mylayout.property_room p left join mylayout.property_roomtp p0 on p.roomtp=p0.idx</DbTable>
<Data>count(*) records</Data>
<Order>id_room</Order><Queryformat>select %{data} from (select p.id_room from %{dbtable} %{where} GROUP BY p.id_room  ORDER BY p.id_room) t</Queryformat></DbDetails>
<OnEnchange>
<assign name="pgs_property_room" expr="js(Math.ceil(%{records_property_room}/%{property_room_vLst[countsperpage]}))"/>
<assign name="pgscb_property_room" function="setitems" expr="js('1~'+Math.ceil(%{records_property_room}/%{property_room_vLst[countsperpage]}))"/>
</OnEnchange>
</TextBox>

<TextBox Weight="30" ToolTip="ttp_pgs" Name="pgs_property_room" readonly="1" Size="30,20"/>
<TextBox Weight="30" ToolTip="ttp_pgcur" Name="pgcur_property_room" Size="30,20"/>
<Button Text="go2Page" Name="go2pageproperty_room_vLst" Size="50,20"><OnClick><submit next="property_room_vLst" function="GetPage(%{pgcur_property_room}-1)"/></OnClick></Button>
</Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_room_Vpgop.xml" cols="xs12 sm6 md4" Name="GBOPVproperty_room" Size="100,10"><Ctrls>
<TAB/><Button Text="initial" ToolTip="ttp_initial" Name="initialproperty_room" Size="50,20">
<OnClick><submit next="property_room_vLst" function="initial"/><submit next="records_property_room" function="initial"/></OnClick></Button>
<TAB/><Button Text="firstpage" Name="FPproperty_room_vLst" Size="50,20">
<OnClick><submit next="property_room_vLst" function="GetPage(first)"/><submit next="records_property_room"/></OnClick></Button>
<Button Text="prepage" Name="PREproperty_room_vLst" Size="50,20">
<OnClick><submit next="property_room_vLst" function="GetPage(Pre)"/></OnClick></Button>
<Button Text="nextpage" Name="NPproperty_room_vLst" Size="50,20">
<OnClick><submit next="property_room_vLst" function="GetPage(Next)"/></OnClick></Button>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_room_Vvm.xml" cols="xs12 sm12 md12 lg12" Name="GBDVproperty_room"><Ctrls>
<ListCtrl Heading="code_room,100;name_room,100;layers,30;roomtp,120;owner,100;ownerphone,100;owneridcard,150;ownerfirm,200;property_no,100;parking_no,100;area_ct,90;area_real,90;isrent,120;dt_rentdue,150;remark,250;fw_lydy,30;deposit,90;enteredby,100;dt_enter,150;dt_update,150;stat,60;id_room,55;" loadedclick="0" ToolTip="ttp_property_room_v" OnLoad="init" Name="property_room_vLst" Size="700,450">
	<DbDetails>
<Index>id_room</Index>
<DbTable>mylayout.property_room p left join mylayout.property_roomtp p0 on p.roomtp=p0.idx</DbTable>
<Data>p.code_room,p.name_room,p.layers,p0.name roomtp,p.owner,p.ownerphone,p.owneridcard,p.ownerfirm,p.property_no,p.parking_no,p.area_ct,p.area_real,p.isrent,p.dt_rentdue,p.remark,p.fw_lydy,p.deposit,p.enteredby,p.dt_enter,p.dt_update,p.stat,p.id_room</Data>
<Order>id_room</Order></DbDetails>
<DbDetails><queryFormat xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\biztools\mysqlcfg.xml" id="tbpages">select %{data} from %{dbtable} %{where} limit %{StartRow},%{PgSize}</queryFormat></DbDetails>
<operator firstpage="1" nextpage="1" refresh="1" prepage="1">
<op mustselected="0" text="addone"><if cond="!%{id_build}"><alert expr="id_build is Empty!"/><else/><submit next="$parent.property_room.GBDEDITproperty_room" function="reset"/><assign name="$parent.property_room.id_build" expr="%{id_build}"/></if></op>
<op text="modify"><DbDetails><Where>id_room='%{%{this}[id_room]}'</Where></DbDetails><submit next="$parent.property_room.property_roomLst" namelist="DbDetails"/><assign name="$parent.property_room.frmwndctrl" expr="%{this}"/></op>
<op text="delete" needconfirm="1"><DbDetails>
<DbTable>mylayout.property_room</DbTable>
<Where>id_room='%{property_room_vLst[id_room]}'</Where>
<queryFormat>delete from %{table} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><submit/></op>
</operator>
<OnChanged>
<assign name="pgcur_property_room" expr="js(%{property_room_vLst[currentpage]}+1)"/>
<assign name="pgscb_property_room" function="SetSel" expr="js(%{property_room_vLst[currentpage]}+1)"/>
</OnChanged></ListCtrl>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
</Ctrls></WndTap>
</WndTaps>
<var name="searchtmpl"><name_comm format="(p.name_comm like '%%{opvalue}%')"/><addr format="(p.addr like '%%{opvalue}%')"/><remark format="(p.remark like '%%{opvalue}%')"/><code_comm format="(p.code_comm like '%%{opvalue}%')"/><numbuilding format="(p.numbuilding like '%%{opvalue}%')"/><numroom format="(p.numroom like '%%{opvalue}%')"/><numresident format="(p.numresident like '%%{opvalue}%')"/><asigned2 format="(p.asigned2 like '%%{opvalue}%')"/><enteredby format="(p.enteredby like '%%{opvalue}%')"/><dt_enter format="(p.dt_enter between '%{dt_enter[datetime]}' and '%{dt_enter[datetime2]}')"/><dt_update format="(p.dt_update between '%{dt_update[datetime]}' and '%{dt_update[datetime2]}')"/><stat format="p.stat is %{opvalue}"/><id_comm format="(p.id_comm like '%%{opvalue}%')"/></var>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_community.xml" name="property_community">
<Lang name="property_community" value="物业小区"/>
<Lang name="TabEditproperty_community" value="property_community Edit"/>
<Lang name="TabViewproperty_community" value="property_community View"/>
<Lang name="name_comm" value="小区名称"/>
<Lang name="ttp_name_comm" value=""/>
<Lang name="addr" value="小区地址"/>
<Lang name="ttp_addr" value=""/>
<Lang name="remark" value=""/>
<Lang name="ttp_remark" value=""/>
<Lang name="code_comm" value="小区编号"/>
<Lang name="ttp_code_comm" value=""/>
<Lang name="numbuilding" value="楼宇数量"/>
<Lang name="ttp_numbuilding" value=""/>
<Lang name="numroom" value="房屋数量"/>
<Lang name="ttp_numroom" value=""/>
<Lang name="numresident" value="居民数量"/>
<Lang name="ttp_numresident" value=""/>
<Lang name="asigned2" value=""/>
<Lang name="ttp_asigned2" value=""/>
<Lang name="enteredby" value=""/>
<Lang name="ttp_enteredby" value=""/>
<Lang name="dt_enter" value=""/>
<Lang name="ttp_dt_enter" value=""/>
<Lang name="dt_update" value=""/>
<Lang name="ttp_dt_update" value=""/>
<Lang name="stat" value=""/>
<Lang name="ttp_stat" value=""/>
<Lang name="idx" value=""/>
<Lang name="ttp_idx" value=""/>
<Lang name="ttp_operationproperty_community" value=""/>
<Lang name="ttp_createproperty_community" value=""/>
<Lang name="ttp_modifyproperty_community" value=""/>
<Lang name="ttp_resetproperty_community" value=""/>
<Lang name="ttp_deleteproperty_community" value=""/>
<Lang name="ttp_refreshproperty_community" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Ctrls><GroupBox Text="property_community" Name="GBproperty_community" id="property_community" Size="100,100"><Ctrls>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_community_Vs.xml" text="Search" toggle="1" Name="GBDEDITproperty_community"><Ctrls>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_code_comm"><Ctrls>
<Label Align="Right" Text="code_comm" Name="lb_code_comm" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_code_comm" Name="code_comm" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_name_comm"><Ctrls>
<Label Align="Right" Text="name_comm" Name="lb_name_comm" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_name_comm" Name="name_comm" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_addr"><Ctrls>
<Label Align="Right" Text="addr" Name="lb_addr" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_addr" Name="addr" Size="170,20"/>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Name="GBOPVproperty_community" Size="100,20"><Ctrls>
<Button Text="addone" ToolTip="ttp_addone" Name="addone" Size="50,20">	<OnClick><submit next="$this.property_community.GBDEDITproperty_community" function="reset"/><assign name="$this.property_community.frmwndctrl" expr="%{$this.property_community_vLst}"/></OnClick>	</Button><TAB/>	
<Button Text="reset" ToolTip="ttp_resetproperty_community" Name="resetproperty_community" Size="50,20">	<OnClick>	<submit next="GBDEDITproperty_community" function="reset"/>	</OnClick>	</Button><TAB/>	
<Button Text="Search" ToolTip="ttp_gsearchproperty_community" Name="gsearchproperty_community" Size="50,20">	<OnClick>	
<search next="property_community_vLst" listed="0" prefixwhere="1" prefixand="0" inputed="1">%{searchtmpl}</search><submit next="GBDEDITproperty_community" namelist="search" function="search"/>	
<search next="records_property_community" listed="0" prefixwhere="1" prefixand="0" inputed="1">%{searchtmpl}</search><submit next="GBDEDITproperty_community" namelist="search" function="search"/>	
</OnClick></Button><TAB/></Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_community_Vpg.xml" cols="xs12 sm6 md4" Multiline="0" Name="GBPGproperty_community"><Ctrls>
<Label Align="Right" Text="Records" Name="lb_Records" Size="60,20"/>
<TextBox Weight="30" ToolTip="ttp_records" OnLoad="init" Name="records_property_community" readonly="1" Size="30,20">
	<DbDetails fcsm="1">
<Index>id_comm</Index>
<DbTable>mylayout.property_community p</DbTable>
<Data>count(*) records</Data>
<Order>id_comm</Order><Queryformat>select %{data} from (select p.id_comm from %{dbtable} %{where} GROUP BY p.id_comm  ORDER BY p.id_comm) t</Queryformat></DbDetails>
<OnEnchange>
<assign name="pgs_property_community" expr="js(Math.ceil(%{records_property_community}/%{property_community_vLst[countsperpage]}))"/>
<assign name="pgscb_property_community" function="setitems" expr="js('1~'+Math.ceil(%{records_property_community}/%{property_community_vLst[countsperpage]}))"/>
</OnEnchange>
</TextBox>

<TextBox Weight="30" ToolTip="ttp_pgs" Name="pgs_property_community" readonly="1" Size="30,20"/>
<TextBox Weight="30" ToolTip="ttp_pgcur" Name="pgcur_property_community" Size="30,20"/>
<Button Text="go2Page" Name="go2pageproperty_community_vLst" Size="50,20"><OnClick><submit next="property_community_vLst" function="GetPage(%{pgcur_property_community}-1)"/></OnClick></Button>
</Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_community_Vpgop.xml" cols="xs12 sm6 md4" Name="GBOPVproperty_community" Size="100,10"><Ctrls>
<TAB/><Button Text="initial" ToolTip="ttp_initial" Name="initialproperty_community" Size="50,20">
<OnClick><submit next="property_community_vLst" function="initial"/><submit next="records_property_community" function="initial"/></OnClick></Button>
<TAB/><Button Text="firstpage" Name="FPproperty_community_vLst" Size="50,20">
<OnClick><submit next="property_community_vLst" function="GetPage(first)"/><submit next="records_property_community"/></OnClick></Button>
<Button Text="prepage" Name="PREproperty_community_vLst" Size="50,20">
<OnClick><submit next="property_community_vLst" function="GetPage(Pre)"/></OnClick></Button>
<Button Text="nextpage" Name="NPproperty_community_vLst" Size="50,20">
<OnClick><submit next="property_community_vLst" function="GetPage(Next)"/></OnClick></Button>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_community_Vv.xml" cols="xs12 sm12 md12 lg12" Name="GBDVproperty_community"><Ctrls>
<ListCtrl Heading="code_comm,100;name_comm,150;addr,250;numbuilding,30;numroom,30;numresident,30;asigned2,100;enteredby,100;dt_enter,150;dt_update,150;remark,250;stat,60;id_comm,55;" loadedclick="0" ToolTip="ttp_property_community_v" OnLoad="init" Name="property_community_vLst" Size="700,450">
	<DbDetails>
<Index>id_comm</Index>
<DbTable>mylayout.property_community p</DbTable>
<Data>p.code_comm,p.name_comm,p.addr,p.numbuilding,p.numroom,p.numresident,p.asigned2,p.enteredby,p.dt_enter,p.dt_update,p.remark,p.stat,p.id_comm,location</Data>
<Order>id_comm</Order></DbDetails>
<DbDetails><DbTable>mylayout.property_community p left join mylayout.addresses_loc_v a on a.reftbltp='property_community' and p.id_comm=a.refid</DbTable><queryFormat xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\biztools\mysqlcfg.xml" id="tbpages">select %{data} from %{dbtable} %{where} limit %{StartRow},%{PgSize}</queryFormat></DbDetails>
<operator xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_community_ops.xml" firstpage="1" nextpage="1" refresh="1" prepage="1">
<op text="address"><assign name="$this.addressinfo_V.reftbltp" expr="property_community"/><assign name="$this.addressinfo_V.refid" expr="%{property_community_vLst[id_comm]}"/><submit next="$this.addressinfo_V.addressinfo_Vlst"/></op>
<op text="Location"><assign name="$this.addressinfo_V.address_pick.map" function="Navigate" expr="%{$this.addressinfo_V.address_pick.mapurl}?mark=%{property_community_vLst[location]}&zoom=100"/></op>
<op text="modify"><DbDetails><Where>id_comm='%{property_community_vLst[id_comm]}'</Where></DbDetails><submit next="$this.property_community.property_communityLst" namelist="DbDetails"/><assign name="$this.property_community.frmwndctrl" expr="%{this}"/></op>
<op text="delete" needconfirm="1"><DbDetails>
<DbTable>mylayout.property_community</DbTable>
<Where>id_comm='%{property_community_vLst[id_comm]}'</Where>
<queryFormat>delete from %{table} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><submit/></op>
</operator>
<OnChanged>
<assign name="pgcur_property_community" expr="js(%{property_community_vLst[currentpage]}+1)"/>
<assign name="pgscb_property_community" function="SetSel" expr="js(%{property_community_vLst[currentpage]}+1)"/>
</OnChanged></ListCtrl>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
</Ctrls></WndTap>
	<WndTap xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_belongingslst_Vm.xml" Text="property_belongingslst" Name="property_belongingslst_v">
<WndTaps>
<WndTap xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_belongingslst_Ve.xml" Text="property_belongingslst" Name="property_belongingslst" popup="1" Ver="2">
<var name="refreshAfterEdit" expr="2"/>
<var name="dataRequired" expr="id_belongings[id_belongingtp],responsible[user_code],cnts"/>
<var name="dataRequireless" expr=""/>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_belongingslst.xml" name="property_belongingslst">
<Lang name="property_belongingslst" value="财产管理"/>
<Lang name="TabEditproperty_belongingslst" value="property_belongingslst Edit"/>
<Lang name="TabViewproperty_belongingslst" value="property_belongingslst View"/>
<Lang name="responsible" value="责任人员"/>
<Lang name="ttp_responsible" value="belongings out to or in from somebody"/>
<Lang name="id_belongings" value="财产名称"/>
<Lang name="ttp_id_belongings" value=""/>
<Lang name="dt" value="发生时间"/>
<Lang name="ttp_dt" value=""/>
<Lang name="outin" value="出入库"/>
<Lang name="ttp_outin" value="0--out;1--in"/>
<Lang name="price" value="参考单价"/>
<Lang name="ttp_price" value=""/>
<Lang name="cnts" value="数    量"/>
<Lang name="ttp_cnts" value=""/>
<Lang name="amount" value="金    额"/>
<Lang name="ttp_amount" value=""/>
<Lang name="remark" value=""/>
<Lang name="ttp_remark" value=""/>
<Lang name="stat" value=""/>
<Lang name="ttp_stat" value=""/>
<Lang name="id_corp" value=""/>
<Lang name="ttp_id_corp" value=""/>
<Lang name="enteredby" value=""/>
<Lang name="ttp_enteredby" value=""/>
<Lang name="dt_enter" value=""/>
<Lang name="ttp_dt_enter" value=""/>
<Lang name="idx" value=""/>
<Lang name="ttp_idx" value=""/>
<Lang name="ttp_operationproperty_belongingslst" value=""/>
<Lang name="ttp_createproperty_belongingslst" value=""/>
<Lang name="ttp_modifyproperty_belongingslst" value=""/>
<Lang name="ttp_resetproperty_belongingslst" value=""/>
<Lang name="ttp_deleteproperty_belongingslst" value=""/>
<Lang name="ttp_refreshproperty_belongingslst" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Ctrls>
<GroupBox Text="property_belongingslst" Name="GBproperty_belongingslst" id="property_belongingslst" Size="100,100"><Ctrls>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_belongingslst_GBDEDIT.xml" Name="GBDEDITproperty_belongingslst"><Ctrls>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_id_belongings"><Ctrls>
<Label Align="Right" Text="id_belongings" onload="init" Name="lb_id_belongings" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_id_belongings" onload="init" Name="id_belongings" Size="170,100">
	<DbDetails>
<Index>id_belongingtp</Index>
<DbTable>mylayout.property_belongingstp</DbTable>
<Data>name_belongingtp,id_belongingtp</Data>
<Where/>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_dt" Visible="false"><Ctrls>
<Label Align="Right" Text="dt" overlap="pre" Name="lb_dt" readonly="true" Size="60,20" Visible="false"/>
<DateTime Weight="170" Text="" ToolTip="ttp_dt" overlap="pre" Name="dt" readonly="true" Size="170,20" Visible="false" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_outin"><Ctrls>
<Label Align="Right" Text="outin" Name="lb_outin" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_outin" Items="出库|入库" Name="outin" Size="170,100"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_responsible"><Ctrls>
<Label Align="Right" Text="responsible" onload="init" Name="lb_responsible" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_responsible" onload="init" Name="responsible" Size="170,100">
	<DbDetails>
<Index>user_code</Index>
<DbTable>mylayout.userlogin</DbTable>
<Data>user_name,user_code</Data>
<Where/>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_price"><Ctrls>
<Label Align="Right" Text="price" Name="lb_price" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_price" Name="price" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_cnts"><Ctrls>
<Label Align="Right" Text="cnts" Name="lb_cnts" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_cnts" Name="cnts" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_amount"><Ctrls>
<Label Align="Right" Text="amount" Name="lb_amount" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_amount" Name="amount" Size="170,20"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_remark"><Ctrls>
<Label Align="Right" Text="remark" Name="lb_remark" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_remark" Name="remark" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_stat" Visible="false"><Ctrls>
<CheckBox Text="stat" ToolTip="ttp_stat" overlap="pre" Name="stat" readonly="true" Size="230,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_id_corp" Visible="false"><Ctrls>
<Label Align="Right" Text="id_corp" overlap="pre" Name="lb_id_corp" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_id_corp" overlap="pre" Name="id_corp" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_enteredby" Visible="false"><Ctrls>
<Label Align="Right" Text="enteredby" overlap="pre" Name="lb_enteredby" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_enteredby" overlap="pre" Name="enteredby" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_dt_enter" Visible="false"><Ctrls>
<Label Align="Right" Text="dt_enter" overlap="pre" Name="lb_dt_enter" readonly="true" Size="60,20" Visible="false"/>
<DateTime Weight="170" Text="" ToolTip="ttp_dt_enter" overlap="pre" Name="dt_enter" readonly="true" Size="170,20" Visible="false" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_id_belonginglst" Visible="false"><Ctrls>
<Label Align="Right" Text="id_belonginglst" overlap="pre" Name="lb_id_belonginglst" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_id_belonginglst" overlap="pre" Name="id_belonginglst" readonly="true" Size="170,20" Visible="false"><OnEnChange><if cond="'%{id_belonginglst}'"><SetVisible name="insertproperty_belongingslst" Visible="0"/><SetVisible name="modifyproperty_belongingslst" Visible="1"/><else/><SetVisible name="insertproperty_belongingslst" Visible="1"/><SetVisible name="modifyproperty_belongingslst" Visible="0"/></if></OnEnChange></TextBox>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_belongingslst_GBOPE.xml" cols="xs12 sm6 md4" Name="GBOPEproperty_belongingslst" Size="100,100"><Ctrls>
<Button sqlpkinsert="id_belonginglst" Text="create" ToolTip="ttp_createproperty_belongingslst" Name="insertproperty_belongingslst" Size="50,20">
<OnClick>
<DbDetails mode="insert" fcsm="1">
<DbTable>mylayout.property_belongingslst</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>id_belongings[id_belongingtp],outin,responsible[user_code],price,cnts,amount,remark</Data>
<DataEx>dt,stat,id_corp,enteredby,dt_enter;now(),1,1,'%{user_id}',now()</DataEx>
<queryFormat>insert into %{table} %{data}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><if cond="!%{insertproperty_belongingslst[broke]}"><if cond="%{refreshAfterEdit}==1"><submit next="property_belongingslstLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><if cond="'%{frmwndctrl}'"><submit next="%{frmwndctrl}" delay="1000"/><else/><submit next="$parent.property_belongingslst_vLst" delay="1000"/></if></if></if>
	</OnClick>
	</Button><TAB/>
<Button Text="modify" ToolTip="ttp_modifyproperty_belongingslst" Name="modifyproperty_belongingslst" Size="50,20">
<OnClick>
<DbDetails mode="update" fcsm="1">
<DbTable>mylayout.property_belongingslst</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>id_belongings[id_belongingtp],outin,responsible[user_code],price,cnts,amount,remark</Data>
<DataEx>dt;now()</DataEx>
<Where>id_belonginglst='%{id_belonginglst}'</Where>
<queryFormat>update %{table} set %{data} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><if cond="!%{modifyproperty_belongingslst[broke]}"><if cond="%{refreshAfterEdit}==1"><submit next="property_belongingslstLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><if cond="'%{frmwndctrl}'"><submit next="%{frmwndctrl}" delay="1000"/><else/><submit next="$parent.property_belongingslst_vLst" delay="1000"/></if></if></if>
	</OnClick>
</Button><TAB/>
<Button Text="reset" ToolTip="ttp_resetproperty_belongingslst" Name="resetproperty_belongingslst" Size="50,20">
<OnClick>
<submit next="GBDEDITproperty_belongingslst" function="reset"/>
	</OnClick>
</Button><TAB/>
<Button Text="Search" ToolTip="ttp_gsearchproperty_belongingslst" Name="gsearchproperty_belongingslst" Size="50,20" visible="false">
<OnClick>
<search next="property_belongingslstLst" listed="0" prefixwhere="0" prefixand="0" inputed="1"/><submit next="GBDEDITproperty_belongingslst" namelist="search" function="search"/>
	</OnClick>
</Button><TAB/>
</Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_belongingslst_Vh.xml" cols="xs12 sm12 md12 lg12" Name="GBDVproperty_belongingslst" visible="0"><Ctrls>
<ListCtrl loadedclick="1" ToolTip="ttp_property_belongingslst" Name="property_belongingslstLst" Size="70,20" visible="0">
	<DbDetails fcsm="1">
<Index>id_belonginglst</Index>
<DbTable>mylayout.property_belongingslst</DbTable>
<Data>id_belongings,dt,outin,responsible,price,cnts,amount,remark,stat,id_corp,enteredby,dt_enter,id_belonginglst</Data>
<Order>id_belonginglst</Order></DbDetails>
<OnClick><assign name="id_belongings[id_belongingtp]" function="SetSel" expr="%{property_belongingslstLst[id_belongings]}"/><assign name="responsible[user_code]" function="SetSel" expr="%{property_belongingslstLst[responsible]}"/>
<if cond="%{id_belonginglst}"><SetVisible name="insertproperty_belongingslst" Visible="0"/><SetVisible name="modifyproperty_belongingslst" Visible="1"/></if>
</OnClick>
</ListCtrl>
</Ctrls></GroupBox></Ctrls></GroupBox></Ctrls>
	<OnChanged/>
	<OnActivate><SetVisible name="insertproperty_belongingslst" Visible="1"/><SetVisible name="modifyproperty_belongingslst" Visible="0"/></OnActivate>
</WndTap>
<WndTap xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_belongingstp_v.xml" Text="property_belongingstp" Name="property_belongingstp_v">
<WndTaps>
<WndTap xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_belongingstp_Ve.xml" Text="property_belongingstp" Name="property_belongingstp" popup="1" Ver="2">
<var name="refreshAfterEdit" expr="2"/>
<var name="dataRequired" expr="name_belongingtp,units[idx],price"/>
<var name="dataRequireless" expr=""/>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_belongingstp.xml" name="property_belongingstp">
<Lang name="property_belongingstp" value="财产种类"/>
<Lang name="TabEditproperty_belongingstp" value="property_belongingstp Edit"/>
<Lang name="TabViewproperty_belongingstp" value="property_belongingstp View"/>
<Lang name="name" value="名称"/>
<Lang name="ttp_name" value=""/>
<Lang name="code" value="编码"/>
<Lang name="ttp_code" value=""/>
<Lang name="modsize" value="规格型号"/>
<Lang name="ttp_modsize" value=""/>
<Lang name="price" value="参考单价"/>
<Lang name="ttp_price" value=""/>
<Lang name="units" value="单位"/>
<Lang name="ttp_units" value=""/>
<Lang name="remark" value=""/>
<Lang name="ttp_remark" value=""/>
<Lang name="stat" value=""/>
<Lang name="ttp_stat" value=""/>
<Lang name="id_corp" value=""/>
<Lang name="ttp_id_corp" value=""/>
<Lang name="idx" value=""/>
<Lang name="ttp_idx" value=""/>
<Lang name="ttp_operationproperty_belongingstp" value=""/>
<Lang name="ttp_createproperty_belongingstp" value=""/>
<Lang name="ttp_modifyproperty_belongingstp" value=""/>
<Lang name="ttp_resetproperty_belongingstp" value=""/>
<Lang name="ttp_deleteproperty_belongingstp" value=""/>
<Lang name="ttp_refreshproperty_belongingstp" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Ctrls>
<GroupBox Text="property_belongingstp" Name="GBproperty_belongingstp" id="property_belongingstp" Size="100,100"><Ctrls>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_belongingstp_GBDEDIT.xml" Name="GBDEDITproperty_belongingstp"><Ctrls>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_code_belongingtp"><Ctrls>
<Label Align="Right" Text="code_belongingtp" Name="lb_code_belongingtp" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_code_belongingtp" Name="code_belongingtp" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_name_belongingtp"><Ctrls>
<Label Align="Right" Text="name_belongingtp" Name="lb_name_belongingtp" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_name_belongingtp" Name="name_belongingtp" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_modsize"><Ctrls>
<Label Align="Right" Text="modsize" Name="lb_modsize" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_modsize" Name="modsize" Size="170,20"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_units"><Ctrls>
<Label Align="Right" Text="units" onload="init" Name="lb_units" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_units" onload="init" Name="units" Size="170,100">
	<DbDetails>
<Index>idx</Index>
<DbTable>mylayout.units</DbTable>
<Data>name,idx</Data>
<Where/>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_price"><Ctrls>
<Label Align="Right" Text="price" Name="lb_price" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_price" Name="price" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_remark"><Ctrls>
<Label Align="Right" Text="remark" Name="lb_remark" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_remark" Name="remark" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_stat" Visible="false"><Ctrls>
<CheckBox Text="stat" ToolTip="ttp_stat" overlap="pre" Name="stat" readonly="true" Size="230,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_id_corp" Visible="false"><Ctrls>
<Label Align="Right" Text="id_corp" overlap="pre" Name="lb_id_corp" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_id_corp" overlap="pre" Name="id_corp" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_id_belongingtp" Visible="false"><Ctrls>
<Label Align="Right" Text="id_belongingtp" overlap="pre" Name="lb_id_belongingtp" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_id_belongingtp" overlap="pre" Name="id_belongingtp" readonly="true" Size="170,20" Visible="false"><OnEnChange><if cond="'%{id_belongingtp}'"><SetVisible name="insertproperty_belongingstp" Visible="0"/><SetVisible name="modifyproperty_belongingstp" Visible="1"/><else/><SetVisible name="insertproperty_belongingstp" Visible="1"/><SetVisible name="modifyproperty_belongingstp" Visible="0"/></if></OnEnChange></TextBox>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_belongingstp_GBOPE.xml" cols="xs12 sm6 md4" Name="GBOPEproperty_belongingstp" Size="100,100"><Ctrls>
<Button sqlpkinsert="id_belongingtp" Text="create" ToolTip="ttp_createproperty_belongingstp" Name="insertproperty_belongingstp" Size="50,20">
<OnClick>
<DbDetails mode="insert" fcsm="1">
<DbTable>mylayout.property_belongingstp</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>code_belongingtp,name_belongingtp,modsize,units[idx],price,remark</Data>
<DataEx>stat,id_corp;1,1</DataEx>
<queryFormat>insert into %{table} %{data}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><if cond="!%{insertproperty_belongingstp[broke]}"><if cond="%{refreshAfterEdit}==1"><submit next="property_belongingstpLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><if cond="'%{frmwndctrl}'"><submit next="%{frmwndctrl}" delay="1000"/><else/><submit next="$parent.property_belongingstp_vLst" delay="1000"/></if></if></if>
	</OnClick>
	</Button><TAB/>
<Button Text="modify" ToolTip="ttp_modifyproperty_belongingstp" Name="modifyproperty_belongingstp" Size="50,20">
<OnClick>
<DbDetails mode="update" fcsm="1">
<DbTable>mylayout.property_belongingstp</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>code_belongingtp,name_belongingtp,modsize,units[idx],price,remark</Data>
<DataEx/>
<Where>id_belongingtp='%{id_belongingtp}'</Where>
<queryFormat>update %{table} set %{data} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><if cond="!%{modifyproperty_belongingstp[broke]}"><if cond="%{refreshAfterEdit}==1"><submit next="property_belongingstpLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><if cond="'%{frmwndctrl}'"><submit next="%{frmwndctrl}" delay="1000"/><else/><submit next="$parent.property_belongingstp_vLst" delay="1000"/></if></if></if>
	</OnClick>
</Button><TAB/>
<Button Text="reset" ToolTip="ttp_resetproperty_belongingstp" Name="resetproperty_belongingstp" Size="50,20">
<OnClick>
<submit next="GBDEDITproperty_belongingstp" function="reset"/>
	</OnClick>
</Button><TAB/>
<Button Text="Search" ToolTip="ttp_gsearchproperty_belongingstp" Name="gsearchproperty_belongingstp" Size="50,20" visible="false">
<OnClick>
<search next="property_belongingstpLst" listed="0" prefixwhere="0" prefixand="0" inputed="1"/><submit next="GBDEDITproperty_belongingstp" namelist="search" function="search"/>
	</OnClick>
</Button><TAB/>
</Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_belongingstp_Vh.xml" cols="xs12 sm12 md12 lg12" Name="GBDVproperty_belongingstp" visible="0"><Ctrls>
<ListCtrl loadedclick="1" ToolTip="ttp_property_belongingstp" Name="property_belongingstpLst" Size="70,20" visible="0">
	<DbDetails fcsm="1">
<Index>id_belongingtp</Index>
<DbTable>mylayout.property_belongingstp</DbTable>
<Data>code_belongingtp,name_belongingtp,modsize,units,price,remark,stat,id_corp,id_belongingtp</Data>
<Order>id_belongingtp</Order></DbDetails>
<OnClick><assign name="units[idx]" function="SetSel" expr="%{property_belongingstpLst[units]}"/>
<if cond="%{id_belongingtp}"><SetVisible name="insertproperty_belongingstp" Visible="0"/><SetVisible name="modifyproperty_belongingstp" Visible="1"/></if>
</OnClick>
</ListCtrl>
</Ctrls></GroupBox></Ctrls></GroupBox></Ctrls>
	<OnChanged/>
	<OnActivate><SetVisible name="insertproperty_belongingstp" Visible="1"/><SetVisible name="modifyproperty_belongingstp" Visible="0"/></OnActivate>
</WndTap>
</WndTaps>
<var name="searchtmpl"><code_belongingtp format="(p.code_belongingtp like '%%{opvalue}%')"/><name_belongingtp format="(p.name_belongingtp like '%%{opvalue}%')"/><modsize format="(p.modsize like '%%{opvalue}%')"/><units format="p.units='%{opvalue}'"/><price format="(p.price like '%%{opvalue}%')"/><remark format="(p.remark like '%%{opvalue}%')"/><stat format="p.stat is %{opvalue}"/><id_corp format="(p.id_corp like '%%{opvalue}%')"/><id_belongingtp format="(p.id_belongingtp like '%%{opvalue}%')"/></var>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_belongingstp.xml" name="property_belongingstp">
<Lang name="property_belongingstp" value="财产种类"/>
<Lang name="TabEditproperty_belongingstp" value="property_belongingstp Edit"/>
<Lang name="TabViewproperty_belongingstp" value="property_belongingstp View"/>
<Lang name="name" value="名称"/>
<Lang name="ttp_name" value=""/>
<Lang name="code" value="编码"/>
<Lang name="ttp_code" value=""/>
<Lang name="modsize" value="规格型号"/>
<Lang name="ttp_modsize" value=""/>
<Lang name="price" value="参考单价"/>
<Lang name="ttp_price" value=""/>
<Lang name="units" value="单位"/>
<Lang name="ttp_units" value=""/>
<Lang name="remark" value=""/>
<Lang name="ttp_remark" value=""/>
<Lang name="stat" value=""/>
<Lang name="ttp_stat" value=""/>
<Lang name="id_corp" value=""/>
<Lang name="ttp_id_corp" value=""/>
<Lang name="idx" value=""/>
<Lang name="ttp_idx" value=""/>
<Lang name="ttp_operationproperty_belongingstp" value=""/>
<Lang name="ttp_createproperty_belongingstp" value=""/>
<Lang name="ttp_modifyproperty_belongingstp" value=""/>
<Lang name="ttp_resetproperty_belongingstp" value=""/>
<Lang name="ttp_deleteproperty_belongingstp" value=""/>
<Lang name="ttp_refreshproperty_belongingstp" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Ctrls><GroupBox Text="property_belongingstp" Name="GBproperty_belongingstp" id="property_belongingstp" Size="100,100"><Ctrls>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_belongingstp_Vs.xml" text="Search" toggle="1" Name="GBDEDITproperty_belongingstp"><Ctrls>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_code_belongingtp"><Ctrls>
<Label Align="Right" Text="code_belongingtp" Name="lb_code_belongingtp" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_code_belongingtp" Name="code_belongingtp" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_name_belongingtp"><Ctrls>
<Label Align="Right" Text="name_belongingtp" Name="lb_name_belongingtp" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_name_belongingtp" Name="name_belongingtp" Size="170,20"/>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Name="GBOPVproperty_belongingstp" Size="100,20"><Ctrls>
<Button Text="addone" ToolTip="ttp_addone" Name="addone" Size="50,20">	<OnClick><submit next="$this.property_belongingstp.GBDEDITproperty_belongingstp" function="reset"/><assign name="$this.property_belongingstp.frmwndctrl" expr="%{$this.property_belongingstp_vLst}"/></OnClick>	</Button><TAB/>	
<Button Text="reset" ToolTip="ttp_resetproperty_belongingstp" Name="resetproperty_belongingstp" Size="50,20">	<OnClick>	<submit next="GBDEDITproperty_belongingstp" function="reset"/>	</OnClick>	</Button><TAB/>	
<Button Text="Search" ToolTip="ttp_gsearchproperty_belongingstp" Name="gsearchproperty_belongingstp" Size="50,20">	<OnClick>	
<search next="property_belongingstp_vLst" listed="0" prefixwhere="1" prefixand="0" inputed="1">%{searchtmpl}</search><submit next="GBDEDITproperty_belongingstp" namelist="search" function="search"/>	
<search next="records_property_belongingstp" listed="0" prefixwhere="1" prefixand="0" inputed="1">%{searchtmpl}</search><submit next="GBDEDITproperty_belongingstp" namelist="search" function="search"/>	
</OnClick></Button><TAB/></Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_belongingstp_Vpg.xml" cols="xs12 sm6 md4" Multiline="0" Name="GBPGproperty_belongingstp"><Ctrls>
<Label Align="Right" Text="Records" Name="lb_Records" Size="60,20"/>
<TextBox Weight="30" ToolTip="ttp_records" OnLoad="init" Name="records_property_belongingstp" readonly="1" Size="30,20">
	<DbDetails fcsm="1">
<Index>id_belongingtp</Index>
<DbTable>mylayout.property_belongingstp p left join mylayout.units u on p.units=u.idx</DbTable>
<Data>count(*) records</Data>
<Order>id_belongingtp</Order><Queryformat>select %{data} from (select p.id_belongingtp from %{dbtable} %{where} GROUP BY p.id_belongingtp  ORDER BY p.id_belongingtp) t</Queryformat></DbDetails>
<OnEnchange>
<assign name="pgs_property_belongingstp" expr="js(Math.ceil(%{records_property_belongingstp}/%{property_belongingstp_vLst[countsperpage]}))"/>
<assign name="pgscb_property_belongingstp" function="setitems" expr="js('1~'+Math.ceil(%{records_property_belongingstp}/%{property_belongingstp_vLst[countsperpage]}))"/>
</OnEnchange>
</TextBox>

<TextBox Weight="30" ToolTip="ttp_pgs" Name="pgs_property_belongingstp" readonly="1" Size="30,20"/>
<TextBox Weight="30" ToolTip="ttp_pgcur" Name="pgcur_property_belongingstp" Size="30,20"/>
<Button Text="go2Page" Name="go2pageproperty_belongingstp_vLst" Size="50,20"><OnClick><submit next="property_belongingstp_vLst" function="GetPage(%{pgcur_property_belongingstp}-1)"/></OnClick></Button>
</Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_belongingstp_Vpgop.xml" cols="xs12 sm6 md4" Name="GBOPVproperty_belongingstp" Size="100,10"><Ctrls>
<TAB/><Button Text="initial" ToolTip="ttp_initial" Name="initialproperty_belongingstp" Size="50,20">
<OnClick><submit next="property_belongingstp_vLst" function="initial"/><submit next="records_property_belongingstp" function="initial"/></OnClick></Button>
<TAB/><Button Text="firstpage" Name="FPproperty_belongingstp_vLst" Size="50,20">
<OnClick><submit next="property_belongingstp_vLst" function="GetPage(first)"/><submit next="records_property_belongingstp"/></OnClick></Button>
<Button Text="prepage" Name="PREproperty_belongingstp_vLst" Size="50,20">
<OnClick><submit next="property_belongingstp_vLst" function="GetPage(Pre)"/></OnClick></Button>
<Button Text="nextpage" Name="NPproperty_belongingstp_vLst" Size="50,20">
<OnClick><submit next="property_belongingstp_vLst" function="GetPage(Next)"/></OnClick></Button>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_belongingstp_Vv.xml" cols="xs12 sm12 md12 lg12" Name="GBDVproperty_belongingstp"><Ctrls>
<ListCtrl Heading="code_belongingtp,25;name_belongingtp,150;modsize,100;units,120;price,90;remark,150;stat,60;id_corp,55;id_belongingtp,55;" loadedclick="0" ToolTip="ttp_property_belongingstp_v" OnLoad="init" Name="property_belongingstp_vLst" Size="700,450">
	<DbDetails>
<Index>id_belongingtp</Index>
<DbTable>mylayout.property_belongingstp p left join mylayout.units u on p.units=u.idx</DbTable>
<Data>p.code_belongingtp,p.name_belongingtp,p.modsize,u.name units,p.price,p.remark,p.stat,p.id_corp,p.id_belongingtp</Data>
<Order>id_belongingtp</Order></DbDetails>
<DbDetails><queryFormat xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\biztools\mysqlcfg.xml" id="tbpages">select %{data} from %{dbtable} %{where} limit %{StartRow},%{PgSize}</queryFormat></DbDetails>
<operator firstpage="1" nextpage="1" refresh="1" prepage="1">
<op text="modify"><DbDetails><Where>id_belongingtp='%{property_belongingstp_vLst[id_belongingtp]}'</Where></DbDetails><submit next="$this.property_belongingstp.property_belongingstpLst" namelist="DbDetails"/><assign name="$this.property_belongingstp.frmwndctrl" expr="%{this}"/></op>
<op text="delete" needconfirm="1"><DbDetails>
<DbTable>mylayout.property_belongingstp</DbTable>
<Where>id_belongingtp='%{property_belongingstp_vLst[id_belongingtp]}'</Where>
<queryFormat>delete from %{table} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><submit/></op>
</operator>
<OnChanged>
<assign name="pgcur_property_belongingstp" expr="js(%{property_belongingstp_vLst[currentpage]}+1)"/>
<assign name="pgscb_property_belongingstp" function="SetSel" expr="js(%{property_belongingstp_vLst[currentpage]}+1)"/>
</OnChanged></ListCtrl>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
</Ctrls></WndTap>
</WndTaps>
<var name="searchtmpl"><responsible format="p.responsible='%{opvalue}'"/><id_belongings format="p.id_belongings='%{opvalue}'"/><dt format="(p.dt between '%{dt[datetime]}' and '%{dt[datetime2]}')"/><outin format="(p.outin like '%%{opvalue}%')"/><price format="(p.price like '%%{opvalue}%')"/><cnts format="(p.cnts like '%%{opvalue}%')"/><amount format="(p.amount like '%%{opvalue}%')"/><remark format="(p.remark like '%%{opvalue}%')"/><stat format="p.stat is %{opvalue}"/><id_corp format="(p.id_corp like '%%{opvalue}%')"/><enteredby format="(p.enteredby like '%%{opvalue}%')"/><dt_enter format="(p.dt_enter between '%{dt_enter[datetime]}' and '%{dt_enter[datetime2]}')"/><id_belonginglst format="(p.id_belonginglst like '%%{opvalue}%')"/></var>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_belongingslst.xml" name="property_belongingslst">
<Lang name="property_belongingslst" value="财产管理"/>
<Lang name="TabEditproperty_belongingslst" value="property_belongingslst Edit"/>
<Lang name="TabViewproperty_belongingslst" value="property_belongingslst View"/>
<Lang name="responsible" value="责任人员"/>
<Lang name="ttp_responsible" value="belongings out to or in from somebody"/>
<Lang name="id_belongings" value="财产名称"/>
<Lang name="ttp_id_belongings" value=""/>
<Lang name="dt" value="发生时间"/>
<Lang name="ttp_dt" value=""/>
<Lang name="outin" value="出入库"/>
<Lang name="ttp_outin" value="0--out;1--in"/>
<Lang name="price" value="参考单价"/>
<Lang name="ttp_price" value=""/>
<Lang name="cnts" value="数    量"/>
<Lang name="ttp_cnts" value=""/>
<Lang name="amount" value="金    额"/>
<Lang name="ttp_amount" value=""/>
<Lang name="remark" value=""/>
<Lang name="ttp_remark" value=""/>
<Lang name="stat" value=""/>
<Lang name="ttp_stat" value=""/>
<Lang name="id_corp" value=""/>
<Lang name="ttp_id_corp" value=""/>
<Lang name="enteredby" value=""/>
<Lang name="ttp_enteredby" value=""/>
<Lang name="dt_enter" value=""/>
<Lang name="ttp_dt_enter" value=""/>
<Lang name="idx" value=""/>
<Lang name="ttp_idx" value=""/>
<Lang name="ttp_operationproperty_belongingslst" value=""/>
<Lang name="ttp_createproperty_belongingslst" value=""/>
<Lang name="ttp_modifyproperty_belongingslst" value=""/>
<Lang name="ttp_resetproperty_belongingslst" value=""/>
<Lang name="ttp_deleteproperty_belongingslst" value=""/>
<Lang name="ttp_refreshproperty_belongingslst" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Ctrls><GroupBox Text="property_belongingslst" Name="GBproperty_belongingslst" id="property_belongingslst" Size="100,100"><Ctrls>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_belongingslst_Vs.xml" text="Search" toggle="1" Name="GBDEDITproperty_belongingslst"><Ctrls>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_id_belongings"><Ctrls>
<Label Align="Right" Text="id_belongings" onload="init" Name="lb_id_belongings" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_id_belongings" onload="init" Name="id_belongings" Size="170,100">
	<DbDetails>
<Index>id_belongingtp</Index>
<DbTable>mylayout.property_belongingstp</DbTable>
<Data>name_belongingtp,id_belongingtp</Data>
<Where/>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_dt"><Ctrls>
<Label Align="Right" Text="dt" Name="lb_dt" Size="60,20"/>
<DateTime Text2="1 day" Weight="170" Text="" ToolTip="ttp_dt" Name="dt" Size="170,20" Format="yyyy-MM-dd"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_responsible"><Ctrls>
<Label Align="Right" Text="responsible" onload="init" Name="lb_responsible" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_responsible" onload="init" Name="responsible" Size="170,100">
	<DbDetails>
<Index>user_code</Index>
<DbTable>mylayout.userlogin</DbTable>
<Data>user_name,user_code</Data>
<Where/>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Name="GBOPVproperty_belongingslst" Size="100,20"><Ctrls>
<Button Text="addone" ToolTip="ttp_addone" Name="addone" Size="50,20">	<OnClick><submit next="$this.property_belongingslst.GBDEDITproperty_belongingslst" function="reset"/></OnClick>	</Button><TAB/>	
<Button Text="reset" ToolTip="ttp_resetproperty_belongingslst" Name="resetproperty_belongingslst" Size="50,20">	<OnClick>	<submit next="GBDEDITproperty_belongingslst" function="reset"/>	</OnClick>	</Button><TAB/>	
<Button Text="Search" ToolTip="ttp_gsearchproperty_belongingslst" Name="gsearchproperty_belongingslst" Size="50,20">	<OnClick>	
<search next="property_belongingslst_vLst" listed="0" prefixwhere="1" prefixand="0" inputed="1">%{searchtmpl}</search><submit next="GBDEDITproperty_belongingslst" namelist="search" function="search"/>	
<search next="records_property_belongingslst" listed="0" prefixwhere="1" prefixand="0" inputed="1">%{searchtmpl}</search><submit next="GBDEDITproperty_belongingslst" namelist="search" function="search"/>	
</OnClick></Button><TAB/></Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_belongingslst_Vpg.xml" cols="xs12 sm6 md4" Multiline="0" Name="GBPGproperty_belongingslst"><Ctrls>
<Label Align="Right" Text="Records" Name="lb_Records" Size="60,20"/>
<TextBox Weight="30" ToolTip="ttp_records" OnLoad="init" Name="records_property_belongingslst" readonly="1" Size="30,20">
	<DbDetails fcsm="1">
<Index>id_belonginglst</Index>
<DbTable>mylayout.property_belongingslst p left join mylayout.property_belongingstp p0 on p.id_belongings=p0.id_belongingtp left join mylayout.userlogin u on p.responsible=u.user_code</DbTable>
<Data>count(*) records</Data>
<Order>id_belonginglst</Order><Queryformat>select %{data} from (select p.id_belonginglst from %{dbtable} %{where} GROUP BY p.id_belonginglst  ORDER BY p.id_belonginglst) t</Queryformat></DbDetails>
<OnEnchange>
<assign name="pgs_property_belongingslst" expr="js(Math.ceil(%{records_property_belongingslst}/%{property_belongingslst_vLst[countsperpage]}))"/>
<assign name="pgscb_property_belongingslst" function="setitems" expr="js('1~'+Math.ceil(%{records_property_belongingslst}/%{property_belongingslst_vLst[countsperpage]}))"/>
</OnEnchange>
</TextBox>

<TextBox Weight="30" ToolTip="ttp_pgs" Name="pgs_property_belongingslst" readonly="1" Size="30,20"/>
<TextBox Weight="30" ToolTip="ttp_pgcur" Name="pgcur_property_belongingslst" Size="30,20"/>
<Button Text="go2Page" Name="go2pageproperty_belongingslst_vLst" Size="50,20"><OnClick><submit next="property_belongingslst_vLst" function="GetPage(%{pgcur_property_belongingslst}-1)"/></OnClick></Button>
</Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_belongingslst_Vpgop.xml" cols="xs12 sm6 md4" Name="GBOPVproperty_belongingslst" Size="100,10"><Ctrls>
<TAB/><Button Text="initial" ToolTip="ttp_initial" Name="initialproperty_belongingslst" Size="50,20">
<OnClick><submit next="property_belongingslst_vLst" function="initial"/><submit next="records_property_belongingslst" function="initial"/></OnClick></Button>
<TAB/><Button Text="firstpage" Name="FPproperty_belongingslst_vLst" Size="50,20">
<OnClick><submit next="property_belongingslst_vLst" function="GetPage(first)"/><submit next="records_property_belongingslst"/></OnClick></Button>
<Button Text="prepage" Name="PREproperty_belongingslst_vLst" Size="50,20">
<OnClick><submit next="property_belongingslst_vLst" function="GetPage(Pre)"/></OnClick></Button>
<Button Text="nextpage" Name="NPproperty_belongingslst_vLst" Size="50,20">
<OnClick><submit next="property_belongingslst_vLst" function="GetPage(Next)"/></OnClick></Button>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_belongingslst_Vv.xml" cols="xs12 sm12 md12 lg12" Name="GBDVproperty_belongingslst"><Ctrls>
<ListCtrl Heading="id_belongings,120;dt,150;outin,120;responsible,120;price,90;cnts,55;amount,90;remark,150;stat,60;id_corp,55;enteredby,55;dt_enter,150;id_belonginglst,55;" loadedclick="0" ToolTip="ttp_property_belongingslst_v" OnLoad="init" Name="property_belongingslst_vLst" Size="700,450">
	<DbDetails>
<Index>id_belonginglst</Index>
<DbTable>mylayout.property_belongingslst p left join mylayout.property_belongingstp p0 on p.id_belongings=p0.id_belongingtp left join mylayout.userlogin u on p.responsible=u.user_code</DbTable>
<Data>p0.name_belongingtp id_belongings,p.dt,p.outin,u.user_name responsible,p.price,p.cnts,p.amount,p.remark,p.stat,p.id_corp,p.enteredby,p.dt_enter,p.id_belonginglst</Data>
<Order>id_belonginglst</Order></DbDetails>
<DbDetails><queryFormat xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\biztools\mysqlcfg.xml" id="tbpages">select %{data} from %{dbtable} %{where} limit %{StartRow},%{PgSize}</queryFormat></DbDetails>
<operator firstpage="1" nextpage="1" refresh="1" prepage="1">
<op text="modify"><DbDetails><Where>id_belonginglst='%{property_belongingslst_vLst[id_belonginglst]}'</Where></DbDetails><submit next="$this.property_belongingslst.property_belongingslstLst" namelist="DbDetails"/><assign name="$this.property_belongingslst.frmwndctrl" expr="%{this}"/></op>
<op text="delete" needconfirm="1"><DbDetails>
<DbTable>mylayout.property_belongingslst</DbTable>
<Where>id_belonginglst='%{property_belongingslst_vLst[id_belonginglst]}'</Where>
<queryFormat>delete from %{table} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><submit/></op>
</operator>
<OnChanged>
<assign name="pgcur_property_belongingslst" expr="js(%{property_belongingslst_vLst[currentpage]}+1)"/>
<assign name="pgscb_property_belongingslst" function="SetSel" expr="js(%{property_belongingslst_vLst[currentpage]}+1)"/>
</OnChanged></ListCtrl>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
</Ctrls></WndTap>
	<WndTap xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_chargetmpl_vm.xml" Text="property_chargetmpl" Name="property_chargetmpl_v">
<WndTaps>
<WndTap xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_chargetmpl_Ve.xml" Text="property_chargetmpl" Name="property_chargetmpl" popup="1" Ver="2">
<var name="refreshAfterEdit" expr="2"/>
<var name="dataRequired" expr="id_comm[id_comm],chargetype[id_charge],price,num,chargerule[id_rule]"/>
<var name="dataRequireless" expr=""/>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_chargetmpl.xml" name="property_chargetmpl">
<Lang name="property_chargetmpl" value="收费模板"/>
<Lang name="TabEditproperty_chargetmpl" value="property_chargetmpl Edit"/>
<Lang name="TabViewproperty_chargetmpl" value="property_chargetmpl View"/>
<Lang name="chargetype" value="收费类别"/>
<Lang name="ttp_chargetype" value=""/>
<Lang name="price" value="单价"/>
<Lang name="ttp_price" value=""/>
<Lang name="num" value="数量"/>
<Lang name="ttp_num" value=""/>
<Lang name="year" value="年"/>
<Lang name="ttp_year" value=""/>
<Lang name="month" value="月"/>
<Lang name="ttp_month" value=""/>
<Lang name="chargename" value="收费名称"/>
<Lang name="ttp_chargename" value=""/>
<Lang name="chargerule" value="计费规则"/>
<Lang name="ttp_chargerule" value=""/>
<Lang name="meterlast" value=""/>
<Lang name="ttp_meterlast" value=""/>
<Lang name="metercur" value=""/>
<Lang name="ttp_metercur" value=""/>
<Lang name="name" value=""/>
<Lang name="ttp_name" value=""/>
<Lang name="period" value=""/>
<Lang name="ttp_period" value=""/>
<Lang name="dt_modify" value=""/>
<Lang name="ttp_dt_modify" value=""/>
<Lang name="modifiedby" value=""/>
<Lang name="ttp_modifiedby" value=""/>
<Lang name="idx" value=""/>
<Lang name="ttp_idx" value=""/>
<Lang name="ttp_operationproperty_chargetmpl" value=""/>
<Lang name="ttp_createproperty_chargetmpl" value=""/>
<Lang name="ttp_modifyproperty_chargetmpl" value=""/>
<Lang name="ttp_resetproperty_chargetmpl" value=""/>
<Lang name="ttp_deleteproperty_chargetmpl" value=""/>
<Lang name="ttp_refreshproperty_chargetmpl" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Ctrls>
<GroupBox Text="property_chargetmpl" Name="GBproperty_chargetmpl" id="property_chargetmpl" Size="100,100"><Ctrls>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_chargetmpl_GBDEDIT.xml" Name="GBDEDITproperty_chargetmpl"><Ctrls>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_id_comm"><Ctrls>
<Label Align="Right" Text="id_comm" onload="init" Name="lb_id_comm" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_id_comm" onload="init" Name="id_comm" Size="170,100">
	<DbDetails>
<Index>id_comm</Index>
<DbTable>mylayout.property_community</DbTable>
<Data>name_comm,id_comm</Data>
<Where/>
<queryFormat/></DbDetails><OnSELENDOK><if cond="%{id_comm[id_comm]}"><submit next="id_build"/><else/><submit next="id_build" function="resetcontent"/><submit next="id_room" function="resetcontent"/></if></OnSELENDOK></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_id_build"><Ctrls>
<Label Align="Right" Text="id_build" Name="lb_id_build" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_id_build" Name="id_build" Size="170,100">
	<DbDetails>
<Index>id_build</Index>
<DbTable>mylayout.property_building</DbTable>
<Data>name_build,id_build</Data>
<Where>id_comm='%{id_comm[id_comm]}'</Where>
<queryFormat/></DbDetails><OnSELENDOK><if cond="%{id_build[id_build]}"><submit next="id_room"/><else/><submit next="id_room" function="resetcontent"/></if></OnSELENDOK></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_id_room"><Ctrls>
<Label Align="Right" Text="id_room" Name="lb_id_room" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_id_room" Name="id_room" Size="170,100">
	<DbDetails>
<Index>id_room</Index>
<DbTable>mylayout.property_room</DbTable>
<Data>name_room,id_room</Data>
<Where>id_comm='%{id_comm[id_comm]}' and id_build='%{id_build[id_build]}'</Where>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_chargetype"><Ctrls>
<Label Align="Right" Text="chargetype" onload="init" Name="lb_chargetype" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_chargetype" onload="init" Name="chargetype" Size="170,100">
	<DbDetails>
<Index>id_charge</Index>
<DbTable>mylayout.property_charge</DbTable>
<Data>name_charge,rule,price,id_charge </Data>
<Where/>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_price"><Ctrls>
<Label Align="Right" Text="price" Name="lb_price" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_price" Name="price" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_num"><Ctrls>
<Label Align="Right" Text="num" Name="lb_num" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_num" Name="num" Size="170,20"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_year"><Ctrls>
<Label Align="Right" Text="year" Name="lb_year" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_year" Items="2000~2099" Name="year" Size="170,100"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_month"><Ctrls>
<Label Align="Right" Text="month" Name="lb_month" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_month" Items="01~12" Name="month" Size="170,100"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_chargerule"><Ctrls>
<Label Align="Right" Text="chargerule" onload="init" Name="lb_chargerule" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_chargerule" onload="init" Name="chargerule" Size="170,100">
	<DbDetails>
<Index>id_rule</Index>
<DbTable>mylayout.property_chargerule</DbTable>
<Data>name_rule,formula rule,id_rule</Data>
<Where/>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_meterlast"><Ctrls>
<Label Align="Right" Text="meterlast" Name="lb_meterlast" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_meterlast" Name="meterlast" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_metercur"><Ctrls>
<Label Align="Right" Text="metercur" Name="lb_metercur" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_metercur" Name="metercur" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_name"><Ctrls>
<Label Align="Right" Text="name" Name="lb_name" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_name" Name="name" Size="170,20"/>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_period"><Ctrls>
<Label Align="Right" Text="period" onload="init" Name="lb_period" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_period" onload="init" Name="period" Size="170,100">
	<DbDetails>
<Index>idx</Index>
<DbTable>mylayout.period</DbTable>
<Data>namecn,idx</Data>
<Where>idx&gt;5</Where>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_dt_modify" Visible="false"><Ctrls>
<Label Align="Right" Text="dt_modify" overlap="pre" Name="lb_dt_modify" readonly="true" Size="60,20" Visible="false"/>
<DateTime Weight="170" Text="" ToolTip="ttp_dt_modify" overlap="pre" Name="dt_modify" readonly="true" Size="170,20" Visible="false" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_modifiedby" Visible="false"><Ctrls>
<Label Align="Right" Text="modifiedby" overlap="pre" Name="lb_modifiedby" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_modifiedby" overlap="pre" Name="modifiedby" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_id_chargetmpl" Visible="false"><Ctrls>
<Label Align="Right" Text="id_chargetmpl" overlap="pre" Name="lb_id_chargetmpl" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_id_chargetmpl" overlap="pre" Name="id_chargetmpl" readonly="true" Size="170,20" Visible="false"><OnEnChange><if cond="'%{id_chargetmpl}'"><SetVisible name="insertproperty_chargetmpl" Visible="0"/><SetVisible name="modifyproperty_chargetmpl" Visible="1"/><else/><SetVisible name="insertproperty_chargetmpl" Visible="1"/><SetVisible name="modifyproperty_chargetmpl" Visible="0"/></if></OnEnChange></TextBox>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_chargetmpl_GBOPE.xml" cols="xs12 sm6 md4" Name="GBOPEproperty_chargetmpl" Size="100,100"><Ctrls>
<Button sqlpkinsert="id_chargetmpl" Text="create" ToolTip="ttp_createproperty_chargetmpl" Name="insertproperty_chargetmpl" Size="50,20">
<OnClick>
<DbDetails mode="insert" fcsm="1">
<DbTable>mylayout.property_chargetmpl</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>id_comm[id_comm],id_build[id_build],id_room[id_room],chargetype[id_charge],price,num,year,month,chargerule[id_rule],meterlast,metercur,name,period[idx]</Data>
<DataEx>dt_modify,modifiedby;now(),'%{user_id}'</DataEx>
<queryFormat>insert into %{table} %{data}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><if cond="!%{insertproperty_chargetmpl[broke]}"><if cond="%{refreshAfterEdit}==1"><submit next="property_chargetmplLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><if cond="'%{frmwndctrl}'"><submit next="%{frmwndctrl}" delay="1000"/><else/><submit next="$parent.property_chargetmpl_vLst" delay="1000"/></if></if></if>
	</OnClick>
	</Button><TAB/>
<Button Text="modify" ToolTip="ttp_modifyproperty_chargetmpl" Name="modifyproperty_chargetmpl" Size="50,20">
<OnClick>
<DbDetails mode="update" fcsm="1">
<DbTable>mylayout.property_chargetmpl</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>id_comm[id_comm],id_build[id_build],id_room[id_room],chargetype[id_charge],price,num,year,month,chargerule[id_rule],meterlast,metercur,name,period[idx]</Data>
<DataEx>dt_modify,modifiedby;now(),'%{user_id}'</DataEx>
<Where>id_chargetmpl='%{id_chargetmpl}'</Where>
<queryFormat>update %{table} set %{data} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><if cond="!%{modifyproperty_chargetmpl[broke]}"><if cond="%{refreshAfterEdit}==1"><submit next="property_chargetmplLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><if cond="'%{frmwndctrl}'"><submit next="%{frmwndctrl}" delay="1000"/><else/><submit next="$parent.property_chargetmpl_vLst" delay="1000"/></if></if></if>
	</OnClick>
</Button><TAB/>
<Button Text="reset" ToolTip="ttp_resetproperty_chargetmpl" Name="resetproperty_chargetmpl" Size="50,20">
<OnClick>
<submit next="GBDEDITproperty_chargetmpl" function="reset"/>
	</OnClick>
</Button><TAB/>
<Button Text="Search" ToolTip="ttp_gsearchproperty_chargetmpl" Name="gsearchproperty_chargetmpl" Size="50,20" visible="false">
<OnClick>
<search next="property_chargetmplLst" listed="0" prefixwhere="0" prefixand="0" inputed="1"/><submit next="GBDEDITproperty_chargetmpl" namelist="search" function="search"/>
	</OnClick>
</Button><TAB/>
</Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_chargetmpl_Vh.xml" cols="xs12 sm12 md12 lg12" Name="GBDVproperty_chargetmpl" visible="0"><Ctrls>
<ListCtrl loadedclick="1" ToolTip="ttp_property_chargetmpl" Name="property_chargetmplLst" Size="70,20" visible="0">
	<DbDetails fcsm="1">
<Index>id_chargetmpl</Index>
<DbTable>mylayout.property_chargetmpl</DbTable>
<Data>id_comm,id_build,id_room,chargetype,price,num,year,month,chargerule,meterlast,metercur,name,period,dt_modify,modifiedby,id_chargetmpl</Data>
<Order>id_chargetmpl</Order></DbDetails>
<OnClick><assign name="id_comm[id_comm]" function="SetSel" expr="%{property_chargetmplLst[id_comm]}"/><assign name="id_build[id_build]" function="SetSel" expr="%{property_chargetmplLst[id_build]}"/><assign name="id_room[id_room]" function="SetSel" expr="%{property_chargetmplLst[id_room]}"/><assign name="chargetype[id_charge]" function="SetSel" expr="%{property_chargetmplLst[chargetype]}"/><assign name="chargerule[id_rule]" function="SetSel" expr="%{property_chargetmplLst[chargerule]}"/><assign name="period[idx]" function="SetSel" expr="%{property_chargetmplLst[period]}"/>
<if cond="%{id_chargetmpl}"><SetVisible name="insertproperty_chargetmpl" Visible="0"/><SetVisible name="modifyproperty_chargetmpl" Visible="1"/></if>
</OnClick>
</ListCtrl>
</Ctrls></GroupBox></Ctrls></GroupBox></Ctrls>
	<OnChanged/>
	<OnActivate><SetVisible name="insertproperty_chargetmpl" Visible="1"/><SetVisible name="modifyproperty_chargetmpl" Visible="0"/></OnActivate>
</WndTap>
<WndTap xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_chargerule_v.xml" Text="property_chargerule" Name="property_chargerule_v">
<WndTaps>
<WndTap xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_chargerule_Ve.xml" Text="property_chargerule" Name="property_chargerule" popup="1" Ver="2">
<var name="refreshAfterEdit" expr="2"/>
<var name="dataRequired" expr="name_rule"/>
<var name="dataRequireless" expr=""/>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_chargerule.xml" name="property_chargerule">
<Lang name="property_chargerule" value="计费规则"/>
<Lang name="TabEditproperty_chargerule" value="property_chargerule Edit"/>
<Lang name="TabViewproperty_chargerule" value="property_chargerule View"/>
<Lang name="name" value="计费名称"/>
<Lang name="ttp_name" value=""/>
<Lang name="rule" value="规则"/>
<Lang name="ttp_rule" value=""/>
<Lang name="stat" value=""/>
<Lang name="ttp_stat" value=""/>
<Lang name="idx" value=""/>
<Lang name="ttp_idx" value=""/>
<Lang name="ttp_operationproperty_chargerule" value=""/>
<Lang name="ttp_createproperty_chargerule" value=""/>
<Lang name="ttp_modifyproperty_chargerule" value=""/>
<Lang name="ttp_resetproperty_chargerule" value=""/>
<Lang name="ttp_deleteproperty_chargerule" value=""/>
<Lang name="ttp_refreshproperty_chargerule" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Ctrls>
<GroupBox Text="property_chargerule" Name="GBproperty_chargerule" id="property_chargerule" Size="100,100"><Ctrls>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_chargerule_GBDEDIT.xml" Name="GBDEDITproperty_chargerule"><Ctrls>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_name_rule"><Ctrls>
<Label Align="Right" Text="name_rule" Name="lb_name_rule" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_name_rule" Name="name_rule" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_formula"><Ctrls>
<Label Align="Right" Text="formula" Name="lb_formula" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_formula" Name="formula" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_stat" Visible="false"><Ctrls>
<CheckBox Text="stat" ToolTip="ttp_stat" overlap="pre" Name="stat" readonly="true" Size="230,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_id_rule" Visible="false"><Ctrls>
<Label Align="Right" Text="id_rule" overlap="pre" Name="lb_id_rule" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_id_rule" overlap="pre" Name="id_rule" readonly="true" Size="170,20" Visible="false"><OnEnChange><if cond="'%{id_rule}'"><SetVisible name="insertproperty_chargerule" Visible="0"/><SetVisible name="modifyproperty_chargerule" Visible="1"/><else/><SetVisible name="insertproperty_chargerule" Visible="1"/><SetVisible name="modifyproperty_chargerule" Visible="0"/></if></OnEnChange></TextBox>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_chargerule_GBOPE.xml" cols="xs12 sm6 md4" Name="GBOPEproperty_chargerule" Size="100,100"><Ctrls>
<Button sqlpkinsert="id_rule" Text="create" ToolTip="ttp_createproperty_chargerule" Name="insertproperty_chargerule" Size="50,20">
<OnClick>
<DbDetails mode="insert" fcsm="1">
<DbTable>mylayout.property_chargerule</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>name_rule,formula</Data>
<DataEx>stat;1</DataEx>
<queryFormat>insert into %{table} %{data}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><if cond="!%{insertproperty_chargerule[broke]}"><if cond="%{refreshAfterEdit}==1"><submit next="property_chargeruleLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><if cond="'%{frmwndctrl}'"><submit next="%{frmwndctrl}" delay="1000"/><else/><submit next="$parent.property_chargerule_vLst" delay="1000"/></if></if></if>
	</OnClick>
	</Button><TAB/>
<Button Text="modify" ToolTip="ttp_modifyproperty_chargerule" Name="modifyproperty_chargerule" Size="50,20">
<OnClick>
<DbDetails mode="update" fcsm="1">
<DbTable>mylayout.property_chargerule</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>name_rule,formula</Data>
<DataEx/>
<Where>id_rule='%{id_rule}'</Where>
<queryFormat>update %{table} set %{data} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><if cond="!%{modifyproperty_chargerule[broke]}"><if cond="%{refreshAfterEdit}==1"><submit next="property_chargeruleLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><if cond="'%{frmwndctrl}'"><submit next="%{frmwndctrl}" delay="1000"/><else/><submit next="$parent.property_chargerule_vLst" delay="1000"/></if></if></if>
	</OnClick>
</Button><TAB/>
<Button Text="reset" ToolTip="ttp_resetproperty_chargerule" Name="resetproperty_chargerule" Size="50,20">
<OnClick>
<submit next="GBDEDITproperty_chargerule" function="reset"/>
	</OnClick>
</Button><TAB/>
<Button Text="Search" ToolTip="ttp_gsearchproperty_chargerule" Name="gsearchproperty_chargerule" Size="50,20" visible="false">
<OnClick>
<search next="property_chargeruleLst" listed="0" prefixwhere="0" prefixand="0" inputed="1"/><submit next="GBDEDITproperty_chargerule" namelist="search" function="search"/>
	</OnClick>
</Button><TAB/>
</Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_chargerule_Vh.xml" cols="xs12 sm12 md12 lg12" Name="GBDVproperty_chargerule" visible="0"><Ctrls>
<ListCtrl loadedclick="1" ToolTip="ttp_property_chargerule" Name="property_chargeruleLst" Size="70,20" visible="0">
	<DbDetails fcsm="1">
<Index>id_rule</Index>
<DbTable>mylayout.property_chargerule</DbTable>
<Data>name_rule,formula,stat,id_rule</Data>
<Order>id_rule</Order></DbDetails>
<OnClick>
<if cond="%{id_rule}"><SetVisible name="insertproperty_chargerule" Visible="0"/><SetVisible name="modifyproperty_chargerule" Visible="1"/></if>
</OnClick>
</ListCtrl>
</Ctrls></GroupBox></Ctrls></GroupBox></Ctrls>
	<OnChanged/>
	<OnActivate><SetVisible name="insertproperty_chargerule" Visible="1"/><SetVisible name="modifyproperty_chargerule" Visible="0"/></OnActivate>
</WndTap>
</WndTaps>
<var name="searchtmpl"><name_rule format="(p.name_rule like '%%{opvalue}%')"/><formula format="(p.formula like '%%{opvalue}%')"/><stat format="p.stat is %{opvalue}"/><id_rule format="(p.id_rule like '%%{opvalue}%')"/></var>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_chargerule.xml" name="property_chargerule">
<Lang name="property_chargerule" value="计费规则"/>
<Lang name="TabEditproperty_chargerule" value="property_chargerule Edit"/>
<Lang name="TabViewproperty_chargerule" value="property_chargerule View"/>
<Lang name="name" value="计费名称"/>
<Lang name="ttp_name" value=""/>
<Lang name="rule" value="规则"/>
<Lang name="ttp_rule" value=""/>
<Lang name="stat" value=""/>
<Lang name="ttp_stat" value=""/>
<Lang name="idx" value=""/>
<Lang name="ttp_idx" value=""/>
<Lang name="ttp_operationproperty_chargerule" value=""/>
<Lang name="ttp_createproperty_chargerule" value=""/>
<Lang name="ttp_modifyproperty_chargerule" value=""/>
<Lang name="ttp_resetproperty_chargerule" value=""/>
<Lang name="ttp_deleteproperty_chargerule" value=""/>
<Lang name="ttp_refreshproperty_chargerule" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Ctrls><GroupBox Text="property_chargerule" Name="GBproperty_chargerule" id="property_chargerule" Size="100,100"><Ctrls>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_chargerule_Vs.xml" text="Search" toggle="1" Name="GBDEDITproperty_chargerule"><Ctrls>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_name_rule"><Ctrls>
<Label Align="Right" Text="name_rule" Name="lb_name_rule" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_name_rule" Name="name_rule" Size="170,20"/>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Name="GBOPVproperty_chargerule" Size="100,20"><Ctrls>
<Button Text="addone" ToolTip="ttp_addone" Name="addone" Size="50,20">	<OnClick><submit next="$this.property_chargerule.GBDEDITproperty_chargerule" function="reset"/><assign name="$this.property_chargerule.frmwndctrl" expr="%{$this.property_chargerule_vLst}"/></OnClick>	</Button><TAB/>	
<Button Text="reset" ToolTip="ttp_resetproperty_chargerule" Name="resetproperty_chargerule" Size="50,20">	<OnClick>	<submit next="GBDEDITproperty_chargerule" function="reset"/>	</OnClick>	</Button><TAB/>	
<Button Text="Search" ToolTip="ttp_gsearchproperty_chargerule" Name="gsearchproperty_chargerule" Size="50,20">	<OnClick>	
<search next="property_chargerule_vLst" listed="0" prefixwhere="1" prefixand="0" inputed="1">%{searchtmpl}</search><submit next="GBDEDITproperty_chargerule" namelist="search" function="search"/>	
<search next="records_property_chargerule" listed="0" prefixwhere="1" prefixand="0" inputed="1">%{searchtmpl}</search><submit next="GBDEDITproperty_chargerule" namelist="search" function="search"/>	
</OnClick></Button><TAB/></Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_chargerule_Vpg.xml" cols="xs12 sm6 md4" Multiline="0" Name="GBPGproperty_chargerule"><Ctrls>
<Label Align="Right" Text="Records" Name="lb_Records" Size="60,20"/>
<TextBox Weight="30" ToolTip="ttp_records" OnLoad="init" Name="records_property_chargerule" readonly="1" Size="30,20">
	<DbDetails fcsm="1">
<Index>id_rule</Index>
<DbTable>mylayout.property_chargerule p</DbTable>
<Data>count(*) records</Data>
<Order>id_rule</Order><Queryformat>select %{data} from (select p.id_rule from %{dbtable} %{where} GROUP BY p.id_rule  ORDER BY p.id_rule) t</Queryformat></DbDetails>
<OnEnchange>
<assign name="pgs_property_chargerule" expr="js(Math.ceil(%{records_property_chargerule}/%{property_chargerule_vLst[countsperpage]}))"/>
<assign name="pgscb_property_chargerule" function="setitems" expr="js('1~'+Math.ceil(%{records_property_chargerule}/%{property_chargerule_vLst[countsperpage]}))"/>
</OnEnchange>
</TextBox>

<TextBox Weight="30" ToolTip="ttp_pgs" Name="pgs_property_chargerule" readonly="1" Size="30,20"/>
<TextBox Weight="30" ToolTip="ttp_pgcur" Name="pgcur_property_chargerule" Size="30,20"/>
<Button Text="go2Page" Name="go2pageproperty_chargerule_vLst" Size="50,20"><OnClick><submit next="property_chargerule_vLst" function="GetPage(%{pgcur_property_chargerule}-1)"/></OnClick></Button>
</Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_chargerule_Vpgop.xml" cols="xs12 sm6 md4" Name="GBOPVproperty_chargerule" Size="100,10"><Ctrls>
<TAB/><Button Text="initial" ToolTip="ttp_initial" Name="initialproperty_chargerule" Size="50,20">
<OnClick><submit next="property_chargerule_vLst" function="initial"/><submit next="records_property_chargerule" function="initial"/></OnClick></Button>
<TAB/><Button Text="firstpage" Name="FPproperty_chargerule_vLst" Size="50,20">
<OnClick><submit next="property_chargerule_vLst" function="GetPage(first)"/><submit next="records_property_chargerule"/></OnClick></Button>
<Button Text="prepage" Name="PREproperty_chargerule_vLst" Size="50,20">
<OnClick><submit next="property_chargerule_vLst" function="GetPage(Pre)"/></OnClick></Button>
<Button Text="nextpage" Name="NPproperty_chargerule_vLst" Size="50,20">
<OnClick><submit next="property_chargerule_vLst" function="GetPage(Next)"/></OnClick></Button>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_chargerule_Vv.xml" cols="xs12 sm12 md12 lg12" Name="GBDVproperty_chargerule"><Ctrls>
<ListCtrl Heading="name_rule,100;formula,500;stat,60;id_rule,20;" loadedclick="0" ToolTip="ttp_property_chargerule_v" OnLoad="init" Name="property_chargerule_vLst" Size="700,450">
	<DbDetails>
<Index>id_rule</Index>
<DbTable>mylayout.property_chargerule p</DbTable>
<Data>p.name_rule,p.formula,p.stat,p.id_rule</Data>
<Order>id_rule</Order></DbDetails>
<DbDetails><queryFormat xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\biztools\mysqlcfg.xml" id="tbpages">select %{data} from %{dbtable} %{where} limit %{StartRow},%{PgSize}</queryFormat></DbDetails>
<operator firstpage="1" nextpage="1" refresh="1" prepage="1">
<op text="modify"><DbDetails><Where>id_rule='%{property_chargerule_vLst[id_rule]}'</Where></DbDetails><submit next="$this.property_chargerule.property_chargeruleLst" namelist="DbDetails"/><assign name="$this.property_chargerule.frmwndctrl" expr="%{this}"/></op>
<op text="delete" needconfirm="1"><DbDetails>
<DbTable>mylayout.property_chargerule</DbTable>
<Where>id_rule='%{property_chargerule_vLst[id_rule]}'</Where>
<queryFormat>delete from %{table} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><submit/></op>
</operator>
<OnChanged>
<assign name="pgcur_property_chargerule" expr="js(%{property_chargerule_vLst[currentpage]}+1)"/>
<assign name="pgscb_property_chargerule" function="SetSel" expr="js(%{property_chargerule_vLst[currentpage]}+1)"/>
</OnChanged></ListCtrl>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
</Ctrls></WndTap>
<WndTap xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_charge_v.xml" Text="property_charge" Name="property_charge_v">
<WndTaps>
<WndTap xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_charge_Ve.xml" Text="property_charge" Name="property_charge" popup="1" Ver="2">
<var name="refreshAfterEdit" expr="2"/>
<var name="dataRequired" expr="name_charge,rule[id_rule],price"/>
<var name="dataRequireless" expr=""/>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_charge.xml" name="property_charge">
<Lang name="property_charge" value="收费项目"/>
<Lang name="TabEditproperty_charge" value="property_charge Edit"/>
<Lang name="TabViewproperty_charge" value="property_charge View"/>
<Lang name="name" value="收费名称"/>
<Lang name="ttp_name" value=""/>
<Lang name="code" value="名称简码"/>
<Lang name="ttp_code" value=""/>
<Lang name="ruleinfo" value="计费规则"/>
<Lang name="ttp_ruleinfo" value=""/>
<Lang name="price" value=""/>
<Lang name="ttp_price" value=""/>
<Lang name="periodinfo" value="计费周期"/>
<Lang name="ttp_periodinfo" value=""/>
<Lang name="remark" value=""/>
<Lang name="ttp_remark" value=""/>
<Lang name="rule" value=""/>
<Lang name="ttp_rule" value=""/>
<Lang name="period" value=""/>
<Lang name="ttp_period" value=""/>
<Lang name="dt_update" value=""/>
<Lang name="ttp_dt_update" value=""/>
<Lang name="id_corp" value=""/>
<Lang name="ttp_id_corp" value=""/>
<Lang name="idx" value=""/>
<Lang name="ttp_idx" value=""/>
<Lang name="ttp_operationproperty_charge" value=""/>
<Lang name="ttp_createproperty_charge" value=""/>
<Lang name="ttp_modifyproperty_charge" value=""/>
<Lang name="ttp_resetproperty_charge" value=""/>
<Lang name="ttp_deleteproperty_charge" value=""/>
<Lang name="ttp_refreshproperty_charge" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Ctrls>
<GroupBox Text="property_charge" Name="GBproperty_charge" id="property_charge" Size="100,100"><Ctrls>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_charge_GBDEDIT.xml" Name="GBDEDITproperty_charge"><Ctrls>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_code_charge"><Ctrls>
<Label Align="Right" Text="code_charge" Name="lb_code_charge" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_code_charge" Name="code_charge" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_name_charge"><Ctrls>
<Label Align="Right" Text="name_charge" Name="lb_name_charge" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_name_charge" Name="name_charge" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_rule"><Ctrls>
<Label Align="Right" Text="rule" onload="init" Name="lb_rule" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_rule" onload="init" Name="rule" Size="170,100">
	<DbDetails fcsm="true">
<Index>id_rule</Index>
<DbTable>mylayout.property_chargerule</DbTable>
<Data>name_rule ruleinfo,id_rule</Data>
<Where/>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_ruleinfo"><Ctrls>
<Label Align="Right" Text="ruleinfo" Name="lb_ruleinfo" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_ruleinfo" Name="ruleinfo" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_price"><Ctrls>
<Label Align="Right" Text="price" Name="lb_price" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_price" Name="price" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_periodinfo"><Ctrls>
<Label Align="Right" Text="periodinfo" onload="init" Name="lb_periodinfo" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_periodinfo" onload="init" Name="periodinfo" Size="170,100">
	<DbDetails>
<Index/>
<DbTable>mylayout.period</DbTable>
<Data>namecn,idx,num</Data>
<Where>idx&gt;5</Where>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_remark"><Ctrls>
<Label Align="Right" Text="remark" Name="lb_remark" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_remark" Name="remark" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_period"><Ctrls>
<Label Align="Right" Text="period" Name="lb_period" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_period" Name="period" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_dt_update" Visible="false"><Ctrls>
<Label Align="Right" Text="dt_update" overlap="pre" Name="lb_dt_update" readonly="true" Size="60,20" Visible="false"/>
<DateTime Weight="170" Text="" ToolTip="ttp_dt_update" overlap="pre" Name="dt_update" readonly="true" Size="170,20" Visible="false" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_id_corp"><Ctrls>
<Label Align="Right" Text="id_corp" Name="lb_id_corp" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_id_corp" Name="id_corp" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_id_charge" Visible="false"><Ctrls>
<Label Align="Right" Text="id_charge" overlap="pre" Name="lb_id_charge" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_id_charge" overlap="pre" Name="id_charge" readonly="true" Size="170,20" Visible="false"><OnEnChange><if cond="'%{id_charge}'"><SetVisible name="insertproperty_charge" Visible="0"/><SetVisible name="modifyproperty_charge" Visible="1"/><else/><SetVisible name="insertproperty_charge" Visible="1"/><SetVisible name="modifyproperty_charge" Visible="0"/></if></OnEnChange></TextBox>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_charge_GBOPE.xml" cols="xs12 sm6 md4" Name="GBOPEproperty_charge" Size="100,100"><Ctrls>
<Button sqlpkinsert="id_charge" Text="create" ToolTip="ttp_createproperty_charge" Name="insertproperty_charge" Size="50,20">
<OnClick>
<DbDetails mode="insert" fcsm="1">
<DbTable>mylayout.property_charge</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>code_charge,name_charge,rule[id_rule],ruleinfo,price,periodinfo,remark,period,id_corp</Data>
<DataEx>dt_update;now()</DataEx>
<queryFormat>insert into %{table} %{data}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><if cond="!%{insertproperty_charge[broke]}"><if cond="%{refreshAfterEdit}==1"><submit next="property_chargeLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><if cond="'%{frmwndctrl}'"><submit next="%{frmwndctrl}" delay="1000"/><else/><submit next="$parent.property_charge_vLst" delay="1000"/></if></if></if>
	</OnClick>
	</Button><TAB/>
<Button Text="modify" ToolTip="ttp_modifyproperty_charge" Name="modifyproperty_charge" Size="50,20">
<OnClick>
<DbDetails mode="update" fcsm="1">
<DbTable>mylayout.property_charge</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>code_charge,name_charge,rule[id_rule],ruleinfo,price,periodinfo,remark,period,id_corp</Data>
<DataEx>dt_update;now()</DataEx>
<Where>id_charge='%{id_charge}'</Where>
<queryFormat>update %{table} set %{data} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><if cond="!%{modifyproperty_charge[broke]}"><if cond="%{refreshAfterEdit}==1"><submit next="property_chargeLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><if cond="'%{frmwndctrl}'"><submit next="%{frmwndctrl}" delay="1000"/><else/><submit next="$parent.property_charge_vLst" delay="1000"/></if></if></if>
	</OnClick>
</Button><TAB/>
<Button Text="reset" ToolTip="ttp_resetproperty_charge" Name="resetproperty_charge" Size="50,20">
<OnClick>
<submit next="GBDEDITproperty_charge" function="reset"/>
	</OnClick>
</Button><TAB/>
<Button Text="Search" ToolTip="ttp_gsearchproperty_charge" Name="gsearchproperty_charge" Size="50,20" visible="false">
<OnClick>
<search next="property_chargeLst" listed="0" prefixwhere="0" prefixand="0" inputed="1"/><submit next="GBDEDITproperty_charge" namelist="search" function="search"/>
	</OnClick>
</Button><TAB/>
</Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_charge_Vh.xml" cols="xs12 sm12 md12 lg12" Name="GBDVproperty_charge" visible="0"><Ctrls>
<ListCtrl loadedclick="1" ToolTip="ttp_property_charge" Name="property_chargeLst" Size="70,20" visible="0">
	<DbDetails fcsm="1">
<Index>id_charge</Index>
<DbTable>mylayout.property_charge</DbTable>
<Data>code_charge,name_charge,rule,ruleinfo,price,periodinfo,remark,period,dt_update,id_corp,id_charge</Data>
<Order>id_charge</Order></DbDetails>
<OnClick><assign name="rule[id_rule]" function="SetSel" expr="%{property_chargeLst[rule]}"/>
<if cond="%{id_charge}"><SetVisible name="insertproperty_charge" Visible="0"/><SetVisible name="modifyproperty_charge" Visible="1"/></if>
</OnClick>
</ListCtrl>
</Ctrls></GroupBox></Ctrls></GroupBox></Ctrls>
	<OnChanged/>
	<OnActivate><SetVisible name="insertproperty_charge" Visible="1"/><SetVisible name="modifyproperty_charge" Visible="0"/></OnActivate>
</WndTap>
</WndTaps>
<var name="searchtmpl"><code_charge format="(p.code_charge like '%%{opvalue}%')"/><name_charge format="(p.name_charge like '%%{opvalue}%')"/><rule format="p.rule='%{opvalue}'"/><ruleinfo format="(p.ruleinfo like '%%{opvalue}%')"/><price format="(p.price like '%%{opvalue}%')"/><periodinfo format="(p.periodinfo like '%%{opvalue}%')"/><remark format="(p.remark like '%%{opvalue}%')"/><period format="(p.period like '%%{opvalue}%')"/><dt_update format="(p.dt_update between '%{dt_update[datetime]}' and '%{dt_update[datetime2]}')"/><id_corp format="(p.id_corp like '%%{opvalue}%')"/><id_charge format="(p.id_charge like '%%{opvalue}%')"/></var>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_charge.xml" name="property_charge">
<Lang name="property_charge" value="收费项目"/>
<Lang name="TabEditproperty_charge" value="property_charge Edit"/>
<Lang name="TabViewproperty_charge" value="property_charge View"/>
<Lang name="name" value="收费名称"/>
<Lang name="ttp_name" value=""/>
<Lang name="code" value="名称简码"/>
<Lang name="ttp_code" value=""/>
<Lang name="ruleinfo" value="计费规则"/>
<Lang name="ttp_ruleinfo" value=""/>
<Lang name="price" value=""/>
<Lang name="ttp_price" value=""/>
<Lang name="periodinfo" value="计费周期"/>
<Lang name="ttp_periodinfo" value=""/>
<Lang name="remark" value=""/>
<Lang name="ttp_remark" value=""/>
<Lang name="rule" value=""/>
<Lang name="ttp_rule" value=""/>
<Lang name="period" value=""/>
<Lang name="ttp_period" value=""/>
<Lang name="dt_update" value=""/>
<Lang name="ttp_dt_update" value=""/>
<Lang name="id_corp" value=""/>
<Lang name="ttp_id_corp" value=""/>
<Lang name="idx" value=""/>
<Lang name="ttp_idx" value=""/>
<Lang name="ttp_operationproperty_charge" value=""/>
<Lang name="ttp_createproperty_charge" value=""/>
<Lang name="ttp_modifyproperty_charge" value=""/>
<Lang name="ttp_resetproperty_charge" value=""/>
<Lang name="ttp_deleteproperty_charge" value=""/>
<Lang name="ttp_refreshproperty_charge" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Ctrls><GroupBox Text="property_charge" Name="GBproperty_charge" id="property_charge" Size="100,100"><Ctrls>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_charge_Vs.xml" text="Search" toggle="1" Name="GBDEDITproperty_charge"><Ctrls>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_code_charge"><Ctrls>
<Label Align="Right" Text="code_charge" Name="lb_code_charge" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_code_charge" Name="code_charge" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_name_charge"><Ctrls>
<Label Align="Right" Text="name_charge" Name="lb_name_charge" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_name_charge" Name="name_charge" Size="170,20"/>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Name="GBOPVproperty_charge" Size="100,20"><Ctrls>
<Button Text="addone" ToolTip="ttp_addone" Name="addone" Size="50,20">	<OnClick><submit next="$this.property_charge.GBDEDITproperty_charge" function="reset"/><assign name="$this.property_charge.frmwndctrl" expr="%{$this.property_charge_vLst}"/></OnClick>	</Button><TAB/>	
<Button Text="reset" ToolTip="ttp_resetproperty_charge" Name="resetproperty_charge" Size="50,20">	<OnClick>	<submit next="GBDEDITproperty_charge" function="reset"/>	</OnClick>	</Button><TAB/>	
<Button Text="Search" ToolTip="ttp_gsearchproperty_charge" Name="gsearchproperty_charge" Size="50,20">	<OnClick>	
<search next="property_charge_vLst" listed="0" prefixwhere="1" prefixand="0" inputed="1">%{searchtmpl}</search><submit next="GBDEDITproperty_charge" namelist="search" function="search"/>	
<search next="records_property_charge" listed="0" prefixwhere="1" prefixand="0" inputed="1">%{searchtmpl}</search><submit next="GBDEDITproperty_charge" namelist="search" function="search"/>	
</OnClick></Button><TAB/></Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_charge_Vpg.xml" cols="xs12 sm6 md4" Multiline="0" Name="GBPGproperty_charge"><Ctrls>
<Label Align="Right" Text="Records" Name="lb_Records" Size="60,20"/>
<TextBox Weight="30" ToolTip="ttp_records" OnLoad="init" Name="records_property_charge" readonly="1" Size="30,20">
	<DbDetails fcsm="1">
<Index>id_charge</Index>
<DbTable>mylayout.property_charge p left join mylayout.property_chargerule p0 on p.rule=p0.id_rule</DbTable>
<Data>count(*) records</Data>
<Order>id_charge</Order><Queryformat>select %{data} from (select p.id_charge from %{dbtable} %{where} GROUP BY p.id_charge  ORDER BY p.id_charge) t</Queryformat></DbDetails>
<OnEnchange>
<assign name="pgs_property_charge" expr="js(Math.ceil(%{records_property_charge}/%{property_charge_vLst[countsperpage]}))"/>
<assign name="pgscb_property_charge" function="setitems" expr="js('1~'+Math.ceil(%{records_property_charge}/%{property_charge_vLst[countsperpage]}))"/>
</OnEnchange>
</TextBox>

<TextBox Weight="30" ToolTip="ttp_pgs" Name="pgs_property_charge" readonly="1" Size="30,20"/>
<TextBox Weight="30" ToolTip="ttp_pgcur" Name="pgcur_property_charge" Size="30,20"/>
<Button Text="go2Page" Name="go2pageproperty_charge_vLst" Size="50,20"><OnClick><submit next="property_charge_vLst" function="GetPage(%{pgcur_property_charge}-1)"/></OnClick></Button>
</Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_charge_Vpgop.xml" cols="xs12 sm6 md4" Name="GBOPVproperty_charge" Size="100,10"><Ctrls>
<TAB/><Button Text="initial" ToolTip="ttp_initial" Name="initialproperty_charge" Size="50,20">
<OnClick><submit next="property_charge_vLst" function="initial"/><submit next="records_property_charge" function="initial"/></OnClick></Button>
<TAB/><Button Text="firstpage" Name="FPproperty_charge_vLst" Size="50,20">
<OnClick><submit next="property_charge_vLst" function="GetPage(first)"/><submit next="records_property_charge"/></OnClick></Button>
<Button Text="prepage" Name="PREproperty_charge_vLst" Size="50,20">
<OnClick><submit next="property_charge_vLst" function="GetPage(Pre)"/></OnClick></Button>
<Button Text="nextpage" Name="NPproperty_charge_vLst" Size="50,20">
<OnClick><submit next="property_charge_vLst" function="GetPage(Next)"/></OnClick></Button>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_charge_Vv.xml" cols="xs12 sm12 md12 lg12" Name="GBDVproperty_charge"><Ctrls>
<ListCtrl Heading="code_charge,100;name_charge,100;rule,120;ruleinfo,100;price,90;periodinfo,120;remark,250;period,20;dt_update,150;id_corp,55;id_charge,55;" loadedclick="0" ToolTip="ttp_property_charge_v" OnLoad="init" Name="property_charge_vLst" Size="700,450">
	<DbDetails>
<Index>id_charge</Index>
<DbTable>mylayout.property_charge p left join mylayout.property_chargerule p0 on p.rule=p0.id_rule</DbTable>
<Data>p.code_charge,p.name_charge,name_rule ruleinfo,p.ruleinfo,p.price,p.periodinfo,p.remark,p.period,p.dt_update,p.id_corp,p.id_charge</Data>
<Order>id_charge</Order></DbDetails>
<DbDetails><queryFormat xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\biztools\mysqlcfg.xml" id="tbpages">select %{data} from %{dbtable} %{where} limit %{StartRow},%{PgSize}</queryFormat></DbDetails>
<operator firstpage="1" nextpage="1" refresh="1" prepage="1">
<op text="modify"><DbDetails><Where>id_charge='%{property_charge_vLst[id_charge]}'</Where></DbDetails><submit next="$this.property_charge.property_chargeLst" namelist="DbDetails"/><assign name="$this.property_charge.frmwndctrl" expr="%{this}"/></op>
<op text="delete" needconfirm="1"><DbDetails>
<DbTable>mylayout.property_charge</DbTable>
<Where>id_charge='%{property_charge_vLst[id_charge]}'</Where>
<queryFormat>delete from %{table} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><submit/></op>
</operator>
<OnChanged>
<assign name="pgcur_property_charge" expr="js(%{property_charge_vLst[currentpage]}+1)"/>
<assign name="pgscb_property_charge" function="SetSel" expr="js(%{property_charge_vLst[currentpage]}+1)"/>
</OnChanged></ListCtrl>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
</Ctrls></WndTap>
</WndTaps>
<var name="searchtmpl"><id_comm format="p.id_comm='%{opvalue}'"/><id_build format="p.id_build='%{opvalue}'"/><id_room format="p.id_room='%{opvalue}'"/><chargetype format="p.chargetype='%{opvalue}'"/><price format="(p.price like '%%{opvalue}%')"/><num format="(p.num like '%%{opvalue}%')"/><year format="(p.year like '%%{opvalue}%')"/><month format="(p.month like '%%{opvalue}%')"/><chargerule format="p.chargerule='%{opvalue}'"/><meterlast format="(p.meterlast like '%%{opvalue}%')"/><metercur format="(p.metercur like '%%{opvalue}%')"/><name format="(p.name like '%%{opvalue}%')"/><period format="p.period='%{opvalue}'"/><dt_modify format="(p.dt_modify between '%{dt_modify[datetime]}' and '%{dt_modify[datetime2]}')"/><modifiedby format="(p.modifiedby like '%%{opvalue}%')"/><id_chargetmpl format="(p.id_chargetmpl like '%%{opvalue}%')"/></var>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_chargetmpl.xml" name="property_chargetmpl">
<Lang name="property_chargetmpl" value="收费模板"/>
<Lang name="TabEditproperty_chargetmpl" value="property_chargetmpl Edit"/>
<Lang name="TabViewproperty_chargetmpl" value="property_chargetmpl View"/>
<Lang name="chargetype" value="收费类别"/>
<Lang name="ttp_chargetype" value=""/>
<Lang name="price" value="单价"/>
<Lang name="ttp_price" value=""/>
<Lang name="num" value="数量"/>
<Lang name="ttp_num" value=""/>
<Lang name="year" value="年"/>
<Lang name="ttp_year" value=""/>
<Lang name="month" value="月"/>
<Lang name="ttp_month" value=""/>
<Lang name="chargename" value="收费名称"/>
<Lang name="ttp_chargename" value=""/>
<Lang name="chargerule" value="计费规则"/>
<Lang name="ttp_chargerule" value=""/>
<Lang name="meterlast" value=""/>
<Lang name="ttp_meterlast" value=""/>
<Lang name="metercur" value=""/>
<Lang name="ttp_metercur" value=""/>
<Lang name="name" value=""/>
<Lang name="ttp_name" value=""/>
<Lang name="period" value=""/>
<Lang name="ttp_period" value=""/>
<Lang name="dt_modify" value=""/>
<Lang name="ttp_dt_modify" value=""/>
<Lang name="modifiedby" value=""/>
<Lang name="ttp_modifiedby" value=""/>
<Lang name="idx" value=""/>
<Lang name="ttp_idx" value=""/>
<Lang name="ttp_operationproperty_chargetmpl" value=""/>
<Lang name="ttp_createproperty_chargetmpl" value=""/>
<Lang name="ttp_modifyproperty_chargetmpl" value=""/>
<Lang name="ttp_resetproperty_chargetmpl" value=""/>
<Lang name="ttp_deleteproperty_chargetmpl" value=""/>
<Lang name="ttp_refreshproperty_chargetmpl" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Ctrls><GroupBox Text="property_chargetmpl" Name="GBproperty_chargetmpl" id="property_chargetmpl" Size="100,100"><Ctrls>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_chargetmpl_Vs.xml" text="Search" toggle="1" Name="GBDEDITproperty_chargetmpl"><Ctrls>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_id_comm"><Ctrls>
<Label Align="Right" Text="id_comm" onload="init" Name="lb_id_comm" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_id_comm" onload="init" Name="id_comm" Size="170,100">
	<DbDetails>
<Index>id_comm</Index>
<DbTable>mylayout.property_community</DbTable>
<Data>name_comm,id_comm</Data>
<Where/>
<queryFormat/></DbDetails><OnSELENDOK><if cond="%{id_comm[id_comm]}"><submit next="id_build"/><else/><submit next="id_build" function="resetcontent"/><submit next="id_room" function="resetcontent"/></if></OnSELENDOK></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_id_build"><Ctrls>
<Label Align="Right" Text="id_build" Name="lb_id_build" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_id_build" Name="id_build" Size="170,100">
	<DbDetails>
<Index>id_build</Index>
<DbTable>mylayout.property_building</DbTable>
<Data>name_build,id_build</Data>
<Where>id_comm='%{id_comm[id_comm]}'</Where>
<queryFormat/></DbDetails><OnSELENDOK><if cond="%{id_build[id_build]}"><submit next="id_room"/><else/><submit next="id_room" function="resetcontent"/></if></OnSELENDOK></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_id_room"><Ctrls>
<Label Align="Right" Text="id_room" Name="lb_id_room" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_id_room" Name="id_room" Size="170,100">
	<DbDetails>
<Index>id_room</Index>
<DbTable>mylayout.property_room</DbTable>
<Data>name_room,id_room</Data>
<Where>id_comm='%{id_comm[id_comm]}' and id_build='%{id_build[id_build]}'</Where>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_chargetype"><Ctrls>
<Label Align="Right" Text="chargetype" onload="init" Name="lb_chargetype" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_chargetype" onload="init" Name="chargetype" Size="170,100">
	<DbDetails>
<Index>id_charge</Index>
<DbTable>mylayout.property_charge</DbTable>
<Data>name_charge,rule,price,id_charge </Data>
<Where/>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_year"><Ctrls>
<Label Align="Right" Text="year" Name="lb_year" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_year" Items="2000~2099" Name="year" Size="170,100"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_month"><Ctrls>
<Label Align="Right" Text="month" Name="lb_month" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_month" Items="01~12" Name="month" Size="170,100"/>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Name="GBOPVproperty_chargetmpl" Size="100,20"><Ctrls>
<Button Text="addone" ToolTip="ttp_addone" Name="addone" Size="50,20">	<OnClick><submit next="$this.property_chargetmpl.GBDEDITproperty_chargetmpl" function="reset"/></OnClick>	</Button><TAB/>	
<Button Text="reset" ToolTip="ttp_resetproperty_chargetmpl" Name="resetproperty_chargetmpl" Size="50,20">	<OnClick>	<submit next="GBDEDITproperty_chargetmpl" function="reset"/>	</OnClick>	</Button><TAB/>	
<Button Text="Search" ToolTip="ttp_gsearchproperty_chargetmpl" Name="gsearchproperty_chargetmpl" Size="50,20">	<OnClick>	
<search next="property_chargetmpl_vLst" listed="0" prefixwhere="1" prefixand="0" inputed="1">%{searchtmpl}</search><submit next="GBDEDITproperty_chargetmpl" namelist="search" function="search"/>	
<search next="records_property_chargetmpl" listed="0" prefixwhere="1" prefixand="0" inputed="1">%{searchtmpl}</search><submit next="GBDEDITproperty_chargetmpl" namelist="search" function="search"/>	
</OnClick></Button><TAB/></Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_chargetmpl_Vpg.xml" cols="xs12 sm6 md4" Multiline="0" Name="GBPGproperty_chargetmpl"><Ctrls>
<Label Align="Right" Text="Records" Name="lb_Records" Size="60,20"/>
<TextBox Weight="30" ToolTip="ttp_records" OnLoad="init" Name="records_property_chargetmpl" readonly="1" Size="30,20">
	<DbDetails fcsm="1">
<Index>id_chargetmpl</Index>
<DbTable>mylayout.property_chargetmpl p left join mylayout.property_community p0 on p.id_comm=p0.id_comm left join mylayout.property_building p1 on p.id_build=p1.id_build left join mylayout.property_room p2 on p.id_room=p2.id_room left join mylayout.property_charge p3 on p.chargetype=p3.id_charge left join mylayout.property_chargerule p4 on p.chargerule=p4.id_rule left join mylayout.period p5 on p.period=p5.idx</DbTable>
<Data>count(*) records</Data>
<Order>id_chargetmpl</Order><Queryformat>select %{data} from (select p.id_chargetmpl from %{dbtable} %{where} GROUP BY p.id_chargetmpl  ORDER BY p.id_chargetmpl) t</Queryformat></DbDetails>
<OnEnchange>
<assign name="pgs_property_chargetmpl" expr="js(Math.ceil(%{records_property_chargetmpl}/%{property_chargetmpl_vLst[countsperpage]}))"/>
<assign name="pgscb_property_chargetmpl" function="setitems" expr="js('1~'+Math.ceil(%{records_property_chargetmpl}/%{property_chargetmpl_vLst[countsperpage]}))"/>
</OnEnchange>
</TextBox>

<TextBox Weight="30" ToolTip="ttp_pgs" Name="pgs_property_chargetmpl" readonly="1" Size="30,20"/>
<TextBox Weight="30" ToolTip="ttp_pgcur" Name="pgcur_property_chargetmpl" Size="30,20"/>
<Button Text="go2Page" Name="go2pageproperty_chargetmpl_vLst" Size="50,20"><OnClick><submit next="property_chargetmpl_vLst" function="GetPage(%{pgcur_property_chargetmpl}-1)"/></OnClick></Button>
</Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_chargetmpl_Vpgop.xml" cols="xs12 sm6 md4" Name="GBOPVproperty_chargetmpl" Size="100,10"><Ctrls>
<TAB/><Button Text="initial" ToolTip="ttp_initial" Name="initialproperty_chargetmpl" Size="50,20">
<OnClick><submit next="property_chargetmpl_vLst" function="initial"/><submit next="records_property_chargetmpl" function="initial"/></OnClick></Button>
<TAB/><Button Text="firstpage" Name="FPproperty_chargetmpl_vLst" Size="50,20">
<OnClick><submit next="property_chargetmpl_vLst" function="GetPage(first)"/><submit next="records_property_chargetmpl"/></OnClick></Button>
<Button Text="prepage" Name="PREproperty_chargetmpl_vLst" Size="50,20">
<OnClick><submit next="property_chargetmpl_vLst" function="GetPage(Pre)"/></OnClick></Button>
<Button Text="nextpage" Name="NPproperty_chargetmpl_vLst" Size="50,20">
<OnClick><submit next="property_chargetmpl_vLst" function="GetPage(Next)"/></OnClick></Button>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_chargetmpl_Vv.xml" cols="xs12 sm12 md12 lg12" Name="GBDVproperty_chargetmpl"><Ctrls>
<ListCtrl Heading="id_comm,120;id_build,120;id_room,120;chargetype,120;price,90;num,90;year,120;month,120;chargerule,120;meterlast,90;metercur,90;name,250;period,120;dt_modify,150;modifiedby,55;id_chargetmpl,55;" loadedclick="0" ToolTip="ttp_property_chargetmpl_v" OnLoad="init" Name="property_chargetmpl_vLst" Size="700,450">
	<DbDetails>
<Index>id_chargetmpl</Index>
<DbTable>mylayout.property_chargetmpl p left join mylayout.property_community p0 on p.id_comm=p0.id_comm left join mylayout.property_building p1 on p.id_build=p1.id_build left join mylayout.property_room p2 on p.id_room=p2.id_room left join mylayout.property_charge p3 on p.chargetype=p3.id_charge left join mylayout.property_chargerule p4 on p.chargerule=p4.id_rule left join mylayout.period p5 on p.period=p5.idx</DbTable>
<Data>p0.name_comm id_comm,p1.name_build id_build,p2.name_room id_room,p3.name_charge chargetype,p.price,p.num,p.year,p.month,p4.name_rule chargerule,p.meterlast,p.metercur,p.name,p5.namecn period,p.dt_modify,p.modifiedby,p.id_chargetmpl</Data>
<Order>id_chargetmpl</Order></DbDetails>
<DbDetails><queryFormat xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\biztools\mysqlcfg.xml" id="tbpages">select %{data} from %{dbtable} %{where} limit %{StartRow},%{PgSize}</queryFormat></DbDetails>
<operator firstpage="1" nextpage="1" refresh="1" prepage="1">
<op text="modify"><DbDetails><Where>id_chargetmpl='%{property_chargetmpl_vLst[id_chargetmpl]}'</Where></DbDetails><submit next="$this.property_chargetmpl.property_chargetmplLst" namelist="DbDetails"/><assign name="$this.property_chargetmpl.frmwndctrl" expr="%{this}"/></op>
<op text="delete" needconfirm="1"><DbDetails>
<DbTable>mylayout.property_chargetmpl</DbTable>
<Where>id_chargetmpl='%{property_chargetmpl_vLst[id_chargetmpl]}'</Where>
<queryFormat>delete from %{table} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><submit/></op>
</operator>
<OnChanged>
<assign name="pgcur_property_chargetmpl" expr="js(%{property_chargetmpl_vLst[currentpage]}+1)"/>
<assign name="pgscb_property_chargetmpl" function="SetSel" expr="js(%{property_chargetmpl_vLst[currentpage]}+1)"/>
</OnChanged></ListCtrl>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
</Ctrls></WndTap>
	<WndTap xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_shifts_v.xml" Text="property_shifts" Name="property_shifts_v">
<WndTaps>
<WndTap xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_shifts_Ve.xml" Text="property_shifts" Name="property_shifts" popup="1" Ver="2">
<var name="refreshAfterEdit" expr="2"/>
<var name="dataRequired" expr="shiftitem,staffs,id_comm[id_comm]"/>
<var name="dataRequireless" expr=""/>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_shifts.xml" name="property_shifts">
<Lang name="property_shifts" value="班组"/>
<Lang name="TabEditproperty_shifts" value="property_shifts Edit"/>
<Lang name="TabViewproperty_shifts" value="property_shifts View"/>
<Lang name="shiftitem" value=""/>
<Lang name="ttp_shiftitem" value=""/>
<Lang name="staffs" value=""/>
<Lang name="ttp_staffs" value=""/>
<Lang name="id_comm" value=""/>
<Lang name="ttp_id_comm" value=""/>
<Lang name="dt" value=""/>
<Lang name="ttp_dt" value=""/>
<Lang name="shiftype" value=""/>
<Lang name="ttp_shiftype" value=""/>
<Lang name="remark" value=""/>
<Lang name="ttp_remark" value=""/>
<Lang name="stat" value=""/>
<Lang name="ttp_stat" value=""/>
<Lang name="enteredby" value=""/>
<Lang name="ttp_enteredby" value=""/>
<Lang name="dt_enter" value=""/>
<Lang name="ttp_dt_enter" value=""/>
<Lang name="id_shifts" value=""/>
<Lang name="ttp_id_shifts" value=""/>
<Lang name="ttp_operationproperty_shifts" value=""/>
<Lang name="ttp_createproperty_shifts" value=""/>
<Lang name="ttp_modifyproperty_shifts" value=""/>
<Lang name="ttp_resetproperty_shifts" value=""/>
<Lang name="ttp_deleteproperty_shifts" value=""/>
<Lang name="ttp_refreshproperty_shifts" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Ctrls>
<GroupBox Text="property_shifts" Name="GBproperty_shifts" id="property_shifts" Size="100,100"><Ctrls>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_shifts_GBDEDIT.xml" Name="GBDEDITproperty_shifts"><Ctrls>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_shiftitem"><Ctrls>
<Label Align="Right" Text="shiftitem" Name="lb_shiftitem" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_shiftitem" Name="shiftitem" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_staffs"><Ctrls>
<Label Align="Right" Text="staffs" Name="lb_staffs" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_staffs" Name="staffs" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_id_comm"><Ctrls>
<Label Align="Right" Text="id_comm" onload="init" Name="lb_id_comm" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_id_comm" onload="init" Name="id_comm" Size="170,100">
	<DbDetails>
<Index>id_comm</Index>
<DbTable>mylayout.property_community</DbTable>
<Data>name_comm,id_comm</Data>
<Where/>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_dt"><Ctrls>
<Label Align="Right" Text="dt" Name="lb_dt" Size="60,20"/>
<DateTime Weight="170" Text="" ToolTip="ttp_dt" Name="dt" Size="170,20" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_shiftype"><Ctrls>
<Label Align="Right" Text="shiftype" Name="lb_shiftype" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_shiftype" Name="shiftype" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_remark"><Ctrls>
<Label Align="Right" Text="remark" Name="lb_remark" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_remark" Name="remark" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_stat" Visible="false"><Ctrls>
<CheckBox Text="stat" ToolTip="ttp_stat" overlap="pre" Name="stat" readonly="true" Size="230,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_enteredby" Visible="false"><Ctrls>
<Label Align="Right" Text="enteredby" overlap="pre" Name="lb_enteredby" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_enteredby" overlap="pre" Name="enteredby" readonly="true" Size="170,20" Visible="false"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_dt_enter" Visible="false"><Ctrls>
<Label Align="Right" Text="dt_enter" overlap="pre" Name="lb_dt_enter" readonly="true" Size="60,20" Visible="false"/>
<DateTime Weight="170" Text="" ToolTip="ttp_dt_enter" overlap="pre" Name="dt_enter" readonly="true" Size="170,20" Visible="false" Format="yyyy-MM-dd HH:mm:ss"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" overlap="pre" Name="GB_id_shifts" Visible="false"><Ctrls>
<Label Align="Right" Text="id_shifts" overlap="pre" Name="lb_id_shifts" readonly="true" Size="60,20" Visible="false"/>
<TextBox Weight="170" Text="" ToolTip="ttp_id_shifts" overlap="pre" Name="id_shifts" readonly="true" Size="170,20" Visible="false"><OnEnChange><if cond="'%{id_shifts}'"><SetVisible name="insertproperty_shifts" Visible="0"/><SetVisible name="modifyproperty_shifts" Visible="1"/><else/><SetVisible name="insertproperty_shifts" Visible="1"/><SetVisible name="modifyproperty_shifts" Visible="0"/></if></OnEnChange></TextBox>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_shifts_GBOPE.xml" cols="xs12 sm6 md4" Name="GBOPEproperty_shifts" Size="100,100"><Ctrls>
<Button sqlpkinsert="id_shifts" Text="create" ToolTip="ttp_createproperty_shifts" Name="insertproperty_shifts" Size="50,20">
<OnClick>
<DbDetails mode="insert" fcsm="1">
<DbTable>mylayout.property_shifts</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>shiftitem,staffs,id_comm[id_comm],dt,shiftype,remark</Data>
<DataEx>stat,enteredby,dt_enter;1,'%{user_id}',now()</DataEx>
<queryFormat>insert into %{table} %{data}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><if cond="!%{insertproperty_shifts[broke]}"><if cond="%{refreshAfterEdit}==1"><submit next="property_shiftsLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><if cond="'%{frmwndctrl}'"><submit next="%{frmwndctrl}" delay="1000"/><else/><submit next="$parent.property_shifts_vLst" delay="1000"/></if></if></if>
	</OnClick>
	</Button><TAB/>
<Button Text="modify" ToolTip="ttp_modifyproperty_shifts" Name="modifyproperty_shifts" Size="50,20">
<OnClick>
<DbDetails mode="update" fcsm="1">
<DbTable>mylayout.property_shifts</DbTable>
<Required>%{dataRequired}</Required>
<Requireless>%{dataRequireless}</Requireless>
<Data>shiftitem,staffs,id_comm[id_comm],dt,shiftype,remark</Data>
<DataEx/>
<Where>id_shifts='%{id_shifts}'</Where>
<queryFormat>update %{table} set %{data} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><if cond="!%{modifyproperty_shifts[broke]}"><if cond="%{refreshAfterEdit}==1"><submit next="property_shiftsLst" delay="1000"/><elseif cond="%{refreshAfterEdit}==2"/><if cond="'%{frmwndctrl}'"><submit next="%{frmwndctrl}" delay="1000"/><else/><submit next="$parent.property_shifts_vLst" delay="1000"/></if></if></if>
	</OnClick>
</Button><TAB/>
<Button Text="reset" ToolTip="ttp_resetproperty_shifts" Name="resetproperty_shifts" Size="50,20">
<OnClick>
<submit next="GBDEDITproperty_shifts" function="reset"/>
	</OnClick>
</Button><TAB/>
<Button Text="Search" ToolTip="ttp_gsearchproperty_shifts" Name="gsearchproperty_shifts" Size="50,20" visible="false">
<OnClick>
<search next="property_shiftsLst" listed="0" prefixwhere="0" prefixand="0" inputed="1"/><submit next="GBDEDITproperty_shifts" namelist="search" function="search"/>
	</OnClick>
</Button><TAB/>
</Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_shifts_Vh.xml" cols="xs12 sm12 md12 lg12" Name="GBDVproperty_shifts" visible="0"><Ctrls>
<ListCtrl loadedclick="1" ToolTip="ttp_property_shifts" Name="property_shiftsLst" Size="70,20" visible="0">
	<DbDetails fcsm="1">
<Index>id_shifts</Index>
<DbTable>mylayout.property_shifts</DbTable>
<Data>shiftitem,staffs,id_comm,dt,shiftype,remark,stat,enteredby,dt_enter,id_shifts</Data>
<Order>id_shifts</Order></DbDetails>
<OnClick><assign name="id_comm[id_comm]" function="SetSel" expr="%{property_shiftsLst[id_comm]}"/>
<if cond="%{id_shifts}"><SetVisible name="insertproperty_shifts" Visible="0"/><SetVisible name="modifyproperty_shifts" Visible="1"/></if>
</OnClick>
</ListCtrl>
</Ctrls></GroupBox></Ctrls></GroupBox></Ctrls>
	<OnChanged/>
	<OnActivate><SetVisible name="insertproperty_shifts" Visible="1"/><SetVisible name="modifyproperty_shifts" Visible="0"/></OnActivate>
</WndTap>
</WndTaps>
<var name="searchtmpl"><shiftitem format="(p.shiftitem like '%%{opvalue}%')"/><staffs format="(p.staffs like '%%{opvalue}%')"/><id_comm format="p.id_comm='%{opvalue}'"/><dt format="(p.dt between '%{dt[datetime]}' and '%{dt[datetime2]}')"/><shiftype format="(p.shiftype like '%%{opvalue}%')"/><remark format="(p.remark like '%%{opvalue}%')"/><stat format="p.stat is %{opvalue}"/><enteredby format="(p.enteredby like '%%{opvalue}%')"/><dt_enter format="(p.dt_enter between '%{dt_enter[datetime]}' and '%{dt_enter[datetime2]}')"/><id_shifts format="(p.id_shifts like '%%{opvalue}%')"/></var>
<Language xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\lan\property_shifts.xml" name="property_shifts">
<Lang name="property_shifts" value="班组"/>
<Lang name="TabEditproperty_shifts" value="property_shifts Edit"/>
<Lang name="TabViewproperty_shifts" value="property_shifts View"/>
<Lang name="shiftitem" value=""/>
<Lang name="ttp_shiftitem" value=""/>
<Lang name="staffs" value=""/>
<Lang name="ttp_staffs" value=""/>
<Lang name="id_comm" value=""/>
<Lang name="ttp_id_comm" value=""/>
<Lang name="dt" value=""/>
<Lang name="ttp_dt" value=""/>
<Lang name="shiftype" value=""/>
<Lang name="ttp_shiftype" value=""/>
<Lang name="remark" value=""/>
<Lang name="ttp_remark" value=""/>
<Lang name="stat" value=""/>
<Lang name="ttp_stat" value=""/>
<Lang name="enteredby" value=""/>
<Lang name="ttp_enteredby" value=""/>
<Lang name="dt_enter" value=""/>
<Lang name="ttp_dt_enter" value=""/>
<Lang name="id_shifts" value=""/>
<Lang name="ttp_id_shifts" value=""/>
<Lang name="ttp_operationproperty_shifts" value=""/>
<Lang name="ttp_createproperty_shifts" value=""/>
<Lang name="ttp_modifyproperty_shifts" value=""/>
<Lang name="ttp_resetproperty_shifts" value=""/>
<Lang name="ttp_deleteproperty_shifts" value=""/>
<Lang name="ttp_refreshproperty_shifts" value=""/>
<Lang name="operation" value=""/>
<Lang name="create" value=""/>
<Lang name="modify" value=""/>
<Lang name="reset" value=""/>
<Lang name="delete" value=""/>
<Lang name="refresh" value=""/>
<Lang name="firstpage" value=""/>
<Lang name="prepage" value=""/>
<Lang name="nextpage" value=""/>
</Language>
<Ctrls><GroupBox Text="property_shifts" Name="GBproperty_shifts" id="property_shifts" Size="100,100"><Ctrls>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_shifts_Vs.xml" text="Search" toggle="1" Name="GBDEDITproperty_shifts"><Ctrls>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_shiftitem"><Ctrls>
<Label Align="Right" Text="shiftitem" Name="lb_shiftitem" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_shiftitem" Name="shiftitem" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_staffs"><Ctrls>
<Label Align="Right" Text="staffs" Name="lb_staffs" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_staffs" Name="staffs" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_id_comm"><Ctrls>
<Label Align="Right" Text="id_comm" onload="init" Name="lb_id_comm" Size="60,20"/>
<ComboBox Weight="170" Text="" ToolTip="ttp_id_comm" onload="init" Name="id_comm" Size="170,100">
	<DbDetails>
<Index>id_comm</Index>
<DbTable>mylayout.property_community</DbTable>
<Data>name_comm,id_comm</Data>
<Where/>
<queryFormat/></DbDetails></ComboBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_dt"><Ctrls>
<Label Align="Right" Text="dt" Name="lb_dt" Size="60,20"/>
<DateTime Text2="1 day" Weight="170" Text="" ToolTip="ttp_dt" Name="dt" Size="170,20" Format="yyyy-MM-dd"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_shiftype"><Ctrls>
<Label Align="Right" Text="shiftype" Name="lb_shiftype" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_shiftype" Name="shiftype" Size="170,20"/>
</Ctrls></GroupBox>
<GroupBox cols="xs12 sm6 md4" Multiline="0" Name="GB_remark"><Ctrls>
<Label Align="Right" Text="remark" Name="lb_remark" Size="60,20"/>
<TextBox Weight="170" Text="" ToolTip="ttp_remark" Name="remark" Size="170,20"/>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox cols="xs12 sm6 md4" Name="GBOPVproperty_shifts" Size="100,20"><Ctrls>
<Button Text="addone" ToolTip="ttp_addone" Name="addone" Size="50,20">	<OnClick><submit next="$this.property_shifts.GBDEDITproperty_shifts" function="reset"/><assign name="$this.property_shifts.frmwndctrl" expr="%{$this.property_shifts_vLst}"/></OnClick>	</Button><TAB/>	
<Button Text="reset" ToolTip="ttp_resetproperty_shifts" Name="resetproperty_shifts" Size="50,20">	<OnClick>	<submit next="GBDEDITproperty_shifts" function="reset"/>	</OnClick>	</Button><TAB/>	
<Button Text="Search" ToolTip="ttp_gsearchproperty_shifts" Name="gsearchproperty_shifts" Size="50,20">	<OnClick>	
<search next="property_shifts_vLst" listed="0" prefixwhere="1" prefixand="0" inputed="1">%{searchtmpl}</search><submit next="GBDEDITproperty_shifts" namelist="search" function="search"/>	
<search next="records_property_shifts" listed="0" prefixwhere="1" prefixand="0" inputed="1">%{searchtmpl}</search><submit next="GBDEDITproperty_shifts" namelist="search" function="search"/>	
</OnClick></Button><TAB/></Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_shifts_Vpg.xml" cols="xs12 sm6 md4" Multiline="0" Name="GBPGproperty_shifts"><Ctrls>
<Label Align="Right" Text="Records" Name="lb_Records" Size="60,20"/>
<TextBox Weight="30" ToolTip="ttp_records" OnLoad="init" Name="records_property_shifts" readonly="1" Size="30,20">
	<DbDetails fcsm="1">
<Index>id_shifts</Index>
<DbTable>mylayout.property_shifts p left join mylayout.property_community p0 on p.id_comm=p0.id_comm</DbTable>
<Data>count(*) records</Data>
<Order>id_shifts</Order><Queryformat>select %{data} from (select p.id_shifts from %{dbtable} %{where} GROUP BY p.id_shifts  ORDER BY p.id_shifts) t</Queryformat></DbDetails>
<OnEnchange>
<assign name="pgs_property_shifts" expr="js(Math.ceil(%{records_property_shifts}/%{property_shifts_vLst[countsperpage]}))"/>
<assign name="pgscb_property_shifts" function="setitems" expr="js('1~'+Math.ceil(%{records_property_shifts}/%{property_shifts_vLst[countsperpage]}))"/>
</OnEnchange>
</TextBox>

<TextBox Weight="30" ToolTip="ttp_pgs" Name="pgs_property_shifts" readonly="1" Size="30,20"/>
<TextBox Weight="30" ToolTip="ttp_pgcur" Name="pgcur_property_shifts" Size="30,20"/>
<Button Text="go2Page" Name="go2pageproperty_shifts_vLst" Size="50,20"><OnClick><submit next="property_shifts_vLst" function="GetPage(%{pgcur_property_shifts}-1)"/></OnClick></Button>
</Ctrls></GroupBox>
<GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_shifts_Vpgop.xml" cols="xs12 sm6 md4" Name="GBOPVproperty_shifts" Size="100,10"><Ctrls>
<TAB/><Button Text="initial" ToolTip="ttp_initial" Name="initialproperty_shifts" Size="50,20">
<OnClick><submit next="property_shifts_vLst" function="initial"/><submit next="records_property_shifts" function="initial"/></OnClick></Button>
<TAB/><Button Text="firstpage" Name="FPproperty_shifts_vLst" Size="50,20">
<OnClick><submit next="property_shifts_vLst" function="GetPage(first)"/><submit next="records_property_shifts"/></OnClick></Button>
<Button Text="prepage" Name="PREproperty_shifts_vLst" Size="50,20">
<OnClick><submit next="property_shifts_vLst" function="GetPage(Pre)"/></OnClick></Button>
<Button Text="nextpage" Name="NPproperty_shifts_vLst" Size="50,20">
<OnClick><submit next="property_shifts_vLst" function="GetPage(Next)"/></OnClick></Button>
</Ctrls></GroupBox>
<BR AutoHeight="1"/><GroupBox xml:base="d:\Program Files (x86)\3UCS\3UCS Server\layout\ucin\property\property_shifts_Vv.xml" cols="xs12 sm12 md12 lg12" Name="GBDVproperty_shifts"><Ctrls>
<ListCtrl Heading="shiftitem,40;staffs,200;id_comm,120;dt,150;shiftype,40;remark,250;stat,60;enteredby,100;dt_enter,150;id_shifts,55;" loadedclick="0" ToolTip="ttp_property_shifts_v" OnLoad="init" Name="property_shifts_vLst" Size="700,450">
	<DbDetails>
<Index>id_shifts</Index>
<DbTable>mylayout.property_shifts p left join mylayout.property_community p0 on p.id_comm=p0.id_comm</DbTable>
<Data>p.shiftitem,p.staffs,p0.name_comm id_comm,p.dt,p.shiftype,p.remark,p.stat,p.enteredby,p.dt_enter,p.id_shifts</Data>
<Order>id_shifts</Order></DbDetails>
<operator firstpage="1" nextpage="1" refresh="1" prepage="1">
<op text="modify"><DbDetails><Where>id_shifts='%{property_shifts_vLst[id_shifts]}'</Where></DbDetails><submit next="$this.property_shifts.property_shiftsLst" namelist="DbDetails"/><assign name="$this.property_shifts.frmwndctrl" expr="%{this}"/></op>
<op text="delete" needconfirm="1"><DbDetails>
<DbTable>mylayout.property_shifts</DbTable>
<Where>id_shifts='%{property_shifts_vLst[id_shifts]}'</Where>
<queryFormat>delete from %{table} where %{where}</queryFormat></DbDetails>
<submit namelist="DbDetails"/><submit/></op>
</operator>
<OnChanged>
<assign name="pgcur_property_shifts" expr="js(%{property_shifts_vLst[currentpage]}+1)"/>
<assign name="pgscb_property_shifts" function="SetSel" expr="js(%{property_shifts_vLst[currentpage]}+1)"/>
</OnChanged></ListCtrl>
</Ctrls></GroupBox>
</Ctrls></GroupBox>
</Ctrls></WndTap>
	</WndTaps>
</XI3uWnd>